import{r,u,j as e,p as g,d as x,_ as i,e as v,h as m,i as h,L as b,P as w,k as y}from"./index-957c7e64.js";import{C as _,L as k}from"./react-icons.esm-f05c2072.js";const o=s=>{const t=Number(s).toFixed(0),a=Math.floor(t%3600/60),n=t%60,l=String(a).padStart(2,"0"),f=String(n).padStart(2,"0");return`${l}:${f}`};function S(s,t){let a;return function(...n){const l=this;clearTimeout(a),a=setTimeout(()=>{s.apply(l,n)},t)}}const N=()=>e.jsxs("div",{className:"w-full",children:[e.jsx(P,{}),e.jsx(L,{})]}),P=r.memo(()=>{const[s]=u(x),t=(s==null?void 0:s.meta)||{};return e.jsx("input",{type:"range",min:0,value:t==null?void 0:t.currentTime,max:t==null?void 0:t.duration,className:"w-full py-0 mx-1 my-0 cursor-grab active:cursor-grabbing accent-accent-8 seekbar",onChange:a=>S(g.seek,150)(a.target.value)})}),L=()=>{const[s]=u(x),t=(s==null?void 0:s.meta)||{};return e.jsxs("div",{className:"flex justify-between w-full px-2 py-0 text-sm",children:[e.jsx("p",{children:o(t==null?void 0:t.currentTime)}),e.jsx("p",{children:o(t==null?void 0:t.duration)})]})},p=r.memo(N),E=r.lazy(()=>i(()=>import("./SongInfo-4f3d620b.js"),["assets/SongInfo-4f3d620b.js","assets/index-957c7e64.js","assets/index-8045198f.css","assets/index-aee20a0a.js"])),I=r.lazy(()=>i(()=>import("./PlayerControls-bc82a0e8.js"),["assets/PlayerControls-bc82a0e8.js","assets/index-957c7e64.js","assets/index-8045198f.css","assets/Button-b2f51f67.js","assets/clsx.m-1229b3e0.js","assets/react-icons.esm-f05c2072.js"])),T=r.lazy(()=>i(()=>import("./MediaOptions-c0bee8eb.js"),["assets/MediaOptions-c0bee8eb.js","assets/index-957c7e64.js","assets/index-8045198f.css","assets/react-icons.esm-f05c2072.js","assets/Button-b2f51f67.js","assets/clsx.m-1229b3e0.js"]));function V(){return e.jsxs("div",{className:"px-4 py-3 place-content-center bg-subtleBackground dark:bg-subtleBackgroundDark",children:[e.jsx(p,{}),e.jsxs("div",{className:"grid w-full grid-cols-3 ",children:[e.jsx(r.Suspense,{fallback:e.jsx(c,{}),children:e.jsx(E,{})}),e.jsx(r.Suspense,{fallback:e.jsx(c,{}),children:e.jsx(I,{})}),e.jsx(r.Suspense,{fallback:e.jsx(c,{}),children:e.jsx(T,{})})]})]})}const c=()=>e.jsx("div",{children:"..."}),M=r.lazy(()=>i(()=>import("./SongInfo-4f3d620b.js"),["assets/SongInfo-4f3d620b.js","assets/index-957c7e64.js","assets/index-8045198f.css","assets/index-aee20a0a.js"])),j=r.lazy(()=>i(()=>import("./PlayerControls-bc82a0e8.js"),["assets/PlayerControls-bc82a0e8.js","assets/index-957c7e64.js","assets/index-8045198f.css","assets/Button-b2f51f67.js","assets/clsx.m-1229b3e0.js","assets/react-icons.esm-f05c2072.js"]));function B(){const[s]=v();return s.get("playerView")==="full"?e.jsx(A,{}):e.jsx(D,{})}const d=()=>e.jsx("div",{children:"..."});function D(){const s=m(),t=h();return console.log({location:s,navigate:t}),e.jsx("div",{onClick:()=>{s.search.includes("playerView=full")||t((s.pathname.at(-1)==="/"?s.pathname.slice(0,s.pathname.length-2):s.pathname)+(s.search?s.search+"&":"?")+"playerView=full")},className:"py-3 pt-5 pl-3 border border-b-neutral-600 border-neutral-950 bg-neutral-300 dark:bg-neutral-900",children:e.jsxs("div",{className:"grid w-full grid-cols-2 ",children:[e.jsx(r.Suspense,{fallback:e.jsx(d,{}),children:e.jsx(M,{})}),e.jsx(r.Suspense,{fallback:e.jsx(d,{}),children:e.jsx(j,{})})]})})}function A(){const s=m(),t=h();return e.jsxs("div",{className:"absolute top-0 grid w-full h-full grid-cols-1 bg-neutral-600",children:[e.jsx("div",{className:"h-[10vh] p-6",children:e.jsx(_,{height:"30px",width:"30px",onClick:()=>{const a=new URLSearchParams(s.search);a.delete("playerView"),t(s.pathname+a.toString())}})}),e.jsx("div",{className:"h-[40vh] flex justify-center items-center",children:e.jsx("img",{src:"",alt:"artwork",className:"w-[40vh] h-[40vh] bg-black"})}),e.jsxs("div",{className:"flex flex-col items-center self-end w-full gap-6 p-4",children:[e.jsx("div",{className:"flex justify-between w-full",children:e.jsxs("div",{children:[e.jsx("h2",{className:"pl-1 text-lg font-bold",children:"Song Name"}),e.jsx("h3",{className:"pl-1 text-md font-base",children:"Artist"})]})}),e.jsx(p,{}),e.jsxs("div",{className:"grid w-full grid-cols-[minmax(30px,_1fr)_5fr_minmax(30px,_1fr)] justify-center items-center",children:[e.jsx("div",{}),e.jsx(j,{}),e.jsx("div",{className:"flex justify-end w-full",children:e.jsx(b,{to:"/now-playing",children:e.jsx("div",{className:"p-2 mx-1 text-white cursor-pointer ",children:e.jsx(k,{className:"w-[22px] h-[22px]"})})})})]})]})]})}const z=s=>{const[t,a]=r.useState(!1);return r.useEffect(()=>{const n=window.matchMedia(s);n.matches!==t&&a(n.matches);const l=()=>a(n.matches);return window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[t,s]),t};function C(){return z("(max-width: 500px)")}const $=()=>{const s=C();return e.jsx(w,{store:y,min:0,children:s?e.jsx(B,{}):e.jsx(V,{})})};export{$ as default};
