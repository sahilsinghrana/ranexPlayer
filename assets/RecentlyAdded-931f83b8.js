import{r as c,j as t,l as p,_ as u,e as f}from"./index-fdfc592e.js";import{g as j}from"./moonAndMusicImages-40a4352e.js";import{p as h}from"./player-08427275.js";import{d as _,u as g}from"./App-86977c1a.js";import{A as y}from"./index-f76d4b88.js";import{H as x}from"./index-31e22a74.js";import{a as A,b as S}from"./playerAtom-1d29f37b.js";import"./helpers-510d46ea.js";import"./imageHelpers-8dffa84a.js";import"./useIsUserLoggedIn-f0c91225.js";function b({song:e={}}){var s,d;const{title:m,artist:a,coverArt:l,className:i,path:r}=e,o=((s=l==null?void 0:l.thumbnails)==null?void 0:s.small)||((d=l==null?void 0:l.thumbnails)==null?void 0:d.large)||j();return t.jsxs("div",{onClick:()=>{h.loadAndPlay(r,e)},className:_("flex cursor-pointer w-[85vw] sm:w-full min-w-[200px] sm:min-w-[280px] h-[80px] gap-1 items-center bg-neutral-800 rounded-sm overflow-hidden",i),children:[t.jsx(y,{className:"h-full w-[80px]",src:o}),t.jsxs("div",{className:"flex flex-col justify-center h-full ml-2",children:[t.jsx("h5",{className:"font-semibold text-md text-neutral-50/80",children:m}),t.jsx("h5",{className:"text-xs text-neutral-300/80",children:a})]})]})}const n=c.memo(b),E=p(()=>u(()=>import("./HomeSection-0a6cab48.js"),["assets/HomeSection-0a6cab48.js","assets/index-fdfc592e.js","assets/index-04e40a81.css"])),I=p(()=>u(()=>import("./HorizontalList-6a058780.js"),["assets/HorizontalList-6a058780.js","assets/index-fdfc592e.js","assets/index-04e40a81.css","assets/App-86977c1a.js"]));function T(){var i,r,o;const{data:e,isLoading:m}=g("/music/song"),a=(i=e==null?void 0:e.data)==null?void 0:i.songs,l=f(S);return c.useEffect(()=>{if(l===A.INITIALIZED&&(a!=null&&a.length)){const s=a[0];h.load(s==null?void 0:s.path,s)}},[l,a]),t.jsx(c.Suspense,{fallback:t.jsx(x,{}),children:t.jsx(E,{title:"Celestial catalog!",children:t.jsxs(I,{className:"gap-3 mb-2 sm:px-3",children:[m&&t.jsx(x,{}),(o=(r=e==null?void 0:e.data)==null?void 0:r.songs)==null?void 0:o.map(s=>t.jsx("li",{children:t.jsx(n,{song:s})},s==null?void 0:s.songId)),t.jsx("li",{children:t.jsx(n,{song:{artist:"Europe",title:"In My Time"}})}),t.jsx("li",{children:t.jsx(n,{song:{artist:"Hardwell",title:"Spaceman"}})}),t.jsx("li",{children:t.jsx(n,{song:{artist:"AP Dhillon",title:"Majhail"}})})]})})})}export{T as default};
