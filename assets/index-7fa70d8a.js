import{r as a,u,j as e,p as g,d as m,_ as o,e as b,h as x,i as h,P as v,k as y}from"./index-4940ecbb.js";import{C as w}from"./react-icons.esm-2fc10c09.js";const i=s=>{const t=Number(s).toFixed(0),r=Math.floor(t%3600/60),n=t%60,l=String(r).padStart(2,"0"),f=String(n).padStart(2,"0");return`${l}:${f}`};function _(s,t){let r;return function(...n){const l=this;clearTimeout(r),r=setTimeout(()=>{s.apply(l,n)},t)}}const S=()=>e.jsxs("div",{className:"w-full",children:[e.jsx(k,{}),e.jsx(N,{})]}),k=a.memo(()=>{const[s]=u(m),t=(s==null?void 0:s.meta)||{};return e.jsx("input",{type:"range",min:0,value:t==null?void 0:t.currentTime,max:t==null?void 0:t.duration,className:"w-full py-0 mx-1 my-0 cursor-grab active:cursor-grabbing accent-accent-8 seekbar",onChange:r=>_(g.seek,150)(r.target.value)})}),N=()=>{const[s]=u(m),t=(s==null?void 0:s.meta)||{};return e.jsxs("div",{className:"flex justify-between w-full px-2 py-0 text-sm",children:[e.jsx("p",{children:i(t==null?void 0:t.currentTime)}),e.jsx("p",{children:i(t==null?void 0:t.duration)})]})},p=a.memo(S),P=a.lazy(()=>o(()=>import("./SongInfo-a515af3f.js"),["assets/SongInfo-a515af3f.js","assets/index-4940ecbb.js","assets/index-bbee8930.css","assets/index-7ed5fef8.js"])),E=a.lazy(()=>o(()=>import("./PlayerControls-4fb978bd.js"),["assets/PlayerControls-4fb978bd.js","assets/index-4940ecbb.js","assets/index-bbee8930.css","assets/Button-fb597747.js","assets/clsx.m-1229b3e0.js","assets/react-icons.esm-2fc10c09.js"])),L=a.lazy(()=>o(()=>import("./MediaOptions-c72ce7eb.js"),["assets/MediaOptions-c72ce7eb.js","assets/index-4940ecbb.js","assets/index-bbee8930.css","assets/Button-fb597747.js","assets/clsx.m-1229b3e0.js","assets/react-icons.esm-2fc10c09.js"]));function T(){return e.jsxs("div",{className:"px-4 py-3 place-content-center bg-subtleBackground dark:bg-subtleBackgroundDark",children:[e.jsx(p,{}),e.jsxs("div",{className:"grid w-full grid-cols-3 ",children:[e.jsx(a.Suspense,{fallback:e.jsx(c,{}),children:e.jsx(P,{})}),e.jsx(a.Suspense,{fallback:e.jsx(c,{}),children:e.jsx(E,{})}),e.jsx(a.Suspense,{fallback:e.jsx(c,{}),children:e.jsx(L,{})})]})]})}const c=()=>e.jsx("div",{children:"..."}),V=a.lazy(()=>o(()=>import("./SongInfo-a515af3f.js"),["assets/SongInfo-a515af3f.js","assets/index-4940ecbb.js","assets/index-bbee8930.css","assets/index-7ed5fef8.js"])),j=a.lazy(()=>o(()=>import("./PlayerControls-4fb978bd.js"),["assets/PlayerControls-4fb978bd.js","assets/index-4940ecbb.js","assets/index-bbee8930.css","assets/Button-fb597747.js","assets/clsx.m-1229b3e0.js","assets/react-icons.esm-2fc10c09.js"]));function I(){const[s]=b();return s.get("playerView")==="full"?e.jsx(D,{}):e.jsx(M,{})}const d=()=>e.jsx("div",{children:"..."});function M(){const s=x(),t=h();return console.log({location:s,navigate:t}),e.jsx("div",{onClick:()=>{s.search.includes("playerView=full")||t((s.pathname.at(-1)==="/"?s.pathname.slice(0,s.pathname.length-2):s.pathname)+(s.search?s.search+"&":"?")+"playerView=full")},className:"py-3 pt-5 pl-3 border border-b-neutral-600 border-neutral-950 bg-neutral-300 dark:bg-neutral-900",children:e.jsxs("div",{className:"grid w-full grid-cols-2 ",children:[e.jsx(a.Suspense,{fallback:e.jsx(d,{}),children:e.jsx(V,{})}),e.jsx(a.Suspense,{fallback:e.jsx(d,{}),children:e.jsx(j,{})})]})})}function D(){const s=x(),t=h();return console.log({location:s}),e.jsxs("div",{className:"absolute top-0 grid w-full h-full grid-cols-1 bg-neutral-600",children:[e.jsx("div",{className:"h-[10vh] p-6",children:e.jsx(w,{height:"30px",width:"30px",onClick:()=>{const r=new URLSearchParams(s.search);r.delete("playerView"),t(s.pathname+r.toString())}})}),e.jsx("div",{className:"h-[40vh] flex justify-center items-center",children:e.jsx("img",{src:"",alt:"artwork",className:"w-[40vh] h-[40vh] bg-black"})}),e.jsxs("div",{className:"flex flex-col items-center self-end w-full gap-6 p-4",children:[e.jsx("div",{className:"flex justify-between w-full",children:e.jsxs("div",{children:[e.jsx("h2",{className:"pl-1 text-lg font-bold",children:"Song Name"}),e.jsx("h3",{className:"pl-1 text-md font-base",children:"Artist"})]})}),e.jsx(p,{}),e.jsx(j,{})]})]})}const A=s=>{const[t,r]=a.useState(!1);return a.useEffect(()=>{const n=window.matchMedia(s);n.matches!==t&&r(n.matches);const l=()=>r(n.matches);return window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[t,s]),t};function B(){return A("(max-width: 500px)")}const R=()=>{const s=B();return e.jsx(v,{store:y,min:0,children:s?e.jsx(I,{}):e.jsx(T,{})})};export{R as default};
