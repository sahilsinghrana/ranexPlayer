import{j as e,r as p,_ as j}from"./index-de8a766d.js";import{B as g}from"./App-d6017d4c.js";import{u as N}from"./useUserProfile-bd64aed1.js";import{f as _}from"./helpers-01b1bc81.js";import v from"./index-bb8b0ad1.js";import"./useIsUserLoggedIn-8846f5ee.js";function A(){const{user:l}=N();if(!(l!=null&&l.iam))return e.jsx(v,{});const[a,o]=p.useState([]);function i(t){const n=t.target.files||[];j(()=>import("./mediaTags-ba9bb244.js"),[]).then(async({readTags:s})=>{for(const c of n)s(c).then(({title:m,artist:x,album:d,year:f,albumArt:r})=>{_(r.pictureData).then(u=>{o(h=>[...h,{title:m,artist:x,album:d,year:f,albumArt:r,pictureUrl:u}])})})}).catch(s=>{console.log("failed to read",s)}).catch(s=>{console.log("Failed to load jsmediatags",s)})}return console.log({songsAndMeta:a}),e.jsx("div",{children:e.jsxs("div",{className:"p-4 m-4 rounded-lg bg-neutral-600/40 ",children:[e.jsx("h1",{className:"text-xl font-bold text-neutral-300",children:"Upload Song"}),e.jsxs("form",{className:"flex flex-col items-center justify-center m-2",children:[e.jsx("input",{type:"file",className:"px-2 py-4 text-center rounded-md bg-neutral-600",onChange:i,multiple:!0}),e.jsx(g,{className:"m-2 mt-6 px-9",children:"Upload"})]}),e.jsx("ul",{className:"overflow-y-scroll max-h-[400px]",children:a.map(t=>e.jsxs("li",{className:"flex m-2",children:[e.jsx("img",{src:t.pictureUrl,className:"w-16 h-16"}),e.jsxs("div",{className:"ml-2 text-sm",children:[e.jsx("h5",{children:t.title}),e.jsx("h5",{className:"text-xs text-neutral-300",children:t.artist}),e.jsx("h5",{className:"text-xs text-neutral-300",children:t.album})]})]},t.title))})]})})}export{A as default};
