import{r as l,a as x,j as t,p as b,d as N,_ as d,e as v,h as g,i as T,k as $,l as z,m as E,n as R,o as V,u as _,L as D,P as O,q as F}from"./index-3a9919c6.js";import{d as G,f as y,g as H}from"./moonAndMusicImages-cc9bf790.js";import{M as P}from"./MoonLoader-38fbe57a.js";import{c as S}from"./clsx.m-1229b3e0.js";import{t as A}from"./bundle-mjs-642c57ff.js";import{B as f}from"./Button-bce4b24b.js";import{T as W,P as Q,a as Y,b as q,c as J,L as K}from"./react-icons.esm-c6511a2c.js";const U=()=>t.jsxs("div",{className:"w-full p-0 m-0",children:[t.jsx(X,{}),t.jsx(Z,{})]}),X=l.memo(()=>{const[e]=x(N),s=(e==null?void 0:e.meta)||{};return t.jsx("input",{type:"range",min:0,value:s==null?void 0:s.currentTime,max:s==null?void 0:s.duration,className:"w-full py-0 mx-1 my-0 cursor-grab active:cursor-grabbing accent-accent-8 seekbar",onChange:a=>G(b.seek,150)(a.target.value)})}),Z=()=>{const[e]=x(N),s=(e==null?void 0:e.meta)||{};return t.jsxs("div",{className:"flex justify-between w-full px-2 py-1 my-1 text-xs text-neutral-100/70",children:[t.jsx("p",{children:y(s==null?void 0:s.currentTime)}),t.jsx("p",{children:y(s==null?void 0:s.duration)})]})},I=l.memo(U);function ee(e){const a={r:0,g:0,b:0},r=document.createElement("canvas"),o=r.getContext&&r.getContext("2d"),n={r:0,g:0,b:0};let c,u=0,i=-4;if(!o)return a;const B=r.height=e.naturalHeight||e.offsetHeight||e.height,L=r.width=e.naturalWidth||e.offsetWidth||e.width;o.drawImage(e,0,0);try{c=o.getImageData(0,0,L,B)}catch{return a}const M=c.data.length;for(;(i+=5*4)<M;)++u,n.r+=c.data[i],n.g+=c.data[i+1],n.b+=c.data[i+2];return n.r=~~(n.r/u),n.g=~~(n.g/u),n.b=~~(n.b/u),n}function te(e,s,a){e/=255,s/=255,a/=255;const r=Math.max(e,s,a),o=Math.min(e,s,a);let n,c;const u=(r+o)/2;if(r===o)n=c=0;else{const i=r-o;switch(c=u>.5?i/(2-r-o):i/(r+o),r){case e:n=(s-a)/i+(s<a?6:0);break;case s:n=(a-e)/i+2;break;case a:n=(e-s)/i+4;break}n/=6}return[n*360,c*100,u*100]}function w(e,s,a){const[r,o]=te(e,s,a);return[r.toFixed(0),o.toFixed(0),"14"]}function m(e,s,a){return`rgb(${e},${s},${a})`}function h(e,s,a){return`hsl(${e}deg, ${s}%, ${a}%)`}function C(e="",s="#000000",a="23%"){return`linear-gradient(0deg, ${s} ${a}, ${e} 100%)`}function se(e="",s="#000000",a="23%"){return`linear-gradient(90deg, ${s} ${a}, ${e} 100%)`}const ae=l.lazy(()=>d(()=>import("./SongInfo-16d1f308.js"),["assets/SongInfo-16d1f308.js","assets/index-3a9919c6.js","assets/index-67665803.css","assets/moonAndMusicImages-cc9bf790.js","assets/MoonLoader-38fbe57a.js","assets/MoonLoader-2f79f929.css","assets/clsx.m-1229b3e0.js","assets/bundle-mjs-642c57ff.js","assets/Button-bce4b24b.js","assets/react-icons.esm-c6511a2c.js"])),re=l.lazy(()=>d(()=>import("./PlayerControls-2a5c8e3f.js"),["assets/PlayerControls-2a5c8e3f.js","assets/index-3a9919c6.js","assets/index-67665803.css","assets/moonAndMusicImages-cc9bf790.js","assets/MoonLoader-38fbe57a.js","assets/MoonLoader-2f79f929.css","assets/clsx.m-1229b3e0.js","assets/bundle-mjs-642c57ff.js","assets/Button-bce4b24b.js","assets/react-icons.esm-c6511a2c.js"])),ne=l.lazy(()=>d(()=>import("./MediaOptions-704784b5.js"),["assets/MediaOptions-704784b5.js","assets/index-3a9919c6.js","assets/index-67665803.css","assets/Button-bce4b24b.js","assets/clsx.m-1229b3e0.js","assets/bundle-mjs-642c57ff.js","assets/react-icons.esm-c6511a2c.js"]));function oe(){const e=v(g),s=w(e.r,e.g,e.b);return t.jsxs("div",{style:{backgroundColor:m(e.r,e.g,e.b),background:C(h(s[0],s[1],12),h(s[0],s[1],18))},className:"px-1 pb-3 place-content-center bg-neutral-950",children:[t.jsx(I,{}),t.jsxs("div",{className:"grid w-full grid-cols-3 ",children:[t.jsx(l.Suspense,{fallback:t.jsx(j,{}),children:t.jsx(ae,{})}),t.jsx(l.Suspense,{fallback:t.jsx(j,{}),children:t.jsx(re,{})}),t.jsx(l.Suspense,{fallback:t.jsx(j,{}),children:t.jsx(ne,{})})]})]})}const j=()=>t.jsx("div",{children:t.jsx(P,{})});function p(...e){return A(S(...e))}const le=({className:e})=>t.jsx(f,{size:"sm",rounded:"full",className:p("m-1 w-9 h-9  bg-neutral-200 hover:bg-neutral-100 text-red-950 hover:text-red-800",e),children:t.jsx(W,{})}),ce=e=>{e.stopPropagation(),b.play()},ie=({className:e})=>t.jsx(f,{type:"primary",size:"lg",rounded:"full",className:p("m-1 w-14 h-14 bg-neutral-200 hover:bg-neutral-100 text-red-950 hover:text-red-800",e),onClick:ce,children:t.jsx(Q,{scale:3,height:30,width:30})}),ue=({className:e})=>t.jsx(f,{size:"sm",rounded:"full",className:p("m-1 w-9 h-9  bg-neutral-200 hover:bg-neutral-100 text-red-950 hover:text-red-800",e),children:t.jsx(Y,{})}),de=({className:e})=>{const s=a=>{a.stopPropagation(),b.pause()};return t.jsx(f,{type:"primary",size:"lg",rounded:"full",className:p("m-1 w-14 h-14 bg-neutral-200 hover:bg-neutral-100 text-red-950 hover:text-red-800",e),onClick:s,children:t.jsx(q,{scale:3,height:30,width:30})})},me=()=>{const[e]=x(T);return t.jsxs("div",{className:"flex items-center text-white",children:[t.jsx(ue,{className:"w-8 h-8"}),$.PLAYING===e?t.jsx(de,{className:"w-11 h-11"}):t.jsx(ie,{className:"w-11 h-11"}),t.jsx(le,{className:"w-8 h-8"})]})};function he({className:e}){const[s,a]=x(z),r=E(g);return l.useEffect(()=>{s||(async()=>{const o=await H();if(a(o),o){const n=document.createElement("img");n.src=o,n.onload=()=>{const c=ee(n);console.log({imageColors:c}),r(c)}}})()},[a,s,r]),t.jsx("img",{className:A(S("bg-black object-cover h-14 w-14 shadow-lg shadow-black/70",e)),src:s,alt:"cover art"})}const xe=l.lazy(()=>d(()=>import("./SongInfo-16d1f308.js"),["assets/SongInfo-16d1f308.js","assets/index-3a9919c6.js","assets/index-67665803.css","assets/moonAndMusicImages-cc9bf790.js","assets/MoonLoader-38fbe57a.js","assets/MoonLoader-2f79f929.css","assets/clsx.m-1229b3e0.js","assets/bundle-mjs-642c57ff.js","assets/Button-bce4b24b.js","assets/react-icons.esm-c6511a2c.js"])),ge=l.lazy(()=>d(()=>import("./PlayerControls-2a5c8e3f.js"),["assets/PlayerControls-2a5c8e3f.js","assets/index-3a9919c6.js","assets/index-67665803.css","assets/moonAndMusicImages-cc9bf790.js","assets/MoonLoader-38fbe57a.js","assets/MoonLoader-2f79f929.css","assets/clsx.m-1229b3e0.js","assets/bundle-mjs-642c57ff.js","assets/Button-bce4b24b.js","assets/react-icons.esm-c6511a2c.js"]));function fe(){const[e]=R();return e.get("playerView")==="full"?t.jsx(je,{}):t.jsx(pe,{})}const k=()=>t.jsx("div",{children:t.jsx(P,{})});function pe(){const e=V(),s=_(),a=v(g);return t.jsx("div",{style:{backgroundColor:m(a.r,a.g,a.b),background:se(h(...w(a.r,a.g,a.b)),m(a.r,a.g,a.b),"1%")},onClick:()=>{e.search.includes("playerView=full")||s((e.pathname.at(-1)==="/"?e.pathname.slice(0,e.pathname.length-2):e.pathname)+(e.search?e.search+"&":"?")+"playerView=full")},className:"px-3 py-2 bg-neutral-900",children:t.jsxs("div",{className:"flex justify-between w-full ",children:[t.jsx(l.Suspense,{fallback:t.jsx(k,{}),children:t.jsx(xe,{})}),t.jsx(l.Suspense,{fallback:t.jsx(k,{}),children:t.jsx(me,{})})]})})}function je(){const e=_(),s=v(g),[a,r,o]=w(s.r,s.g,s.b);return t.jsxs("div",{style:{background:C(m(s.r,s.g,s.b)),backgroundColor:h(a,r,o)},className:"absolute top-0 grid w-full h-screen grid-cols-1 bg-neutral-600",children:[t.jsx("div",{className:"h-[10vh] p-6",children:t.jsx(J,{height:"30px",width:"30px",onClick:()=>{e(-1)}})}),t.jsx("div",{className:"h-[40vh] flex justify-center items-center",children:t.jsx(he,{className:"w-[40vh] h-[40vh] bg-black"})}),t.jsxs("div",{className:"flex flex-col items-center self-end w-full gap-6 p-4",children:[t.jsx("div",{className:"flex justify-between w-full",children:t.jsxs("div",{children:[t.jsx("h2",{className:"pl-1 text-lg font-bold",children:"Song Name"}),t.jsx("h3",{className:"pl-1 text-md font-base",children:"Artist"})]})}),t.jsx(I,{}),t.jsxs("div",{className:"grid w-full grid-cols-[minmax(30px,_1fr)_5fr_minmax(30px,_1fr)] justify-center items-center",children:[t.jsx("div",{}),t.jsx(ge,{}),t.jsx("div",{className:"flex justify-end w-full",children:t.jsx(D,{to:"/now-playing",children:t.jsx("div",{className:"p-2 mx-1 text-white cursor-pointer ",children:t.jsx(K,{className:"w-[22px] h-[22px]"})})})})]})]})]})}const be=e=>{const[s,a]=l.useState(!1);return l.useEffect(()=>{const r=window.matchMedia(e);r.matches!==s&&a(r.matches);const o=()=>a(r.matches);return window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[s,e]),s};function ve(){return be("(max-width: 500px)")}const we=()=>{const e=ve();return t.jsx(O,{store:F,min:0,children:e?t.jsx(fe,{}):t.jsx(oe,{})})},Ce=Object.freeze(Object.defineProperty({__proto__:null,default:we},Symbol.toStringTag,{value:"Module"}));export{he as N,ue as P,de as a,ie as b,le as c,Ce as i};
