var Bs=Object.defineProperty;var Ms=(s,e,t)=>e in s?Bs(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var nr=(s,e,t)=>(Ms(s,typeof e!="symbol"?e+"":e,t),t);import{_ as C,g as zs,c as F,a as qs,b as Hs,d as G,r as Pe,j as v,u as Vs,l as L,F as qr,R as Js,e as R,f as Gs,O as Ws,h as Ks}from"./index-940c8f2e.js";const Xs=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...t)=>C(()=>Promise.resolve().then(()=>pe),void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};class Ft extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class Qs extends Ft{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ys extends Ft{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Zs extends Ft{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var xt;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(xt||(xt={}));var en=globalThis&&globalThis.__awaiter||function(s,e,t,r){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):n(l.value).then(a,c)}u((r=r.apply(s,e||[])).next())})};class tn{constructor(e,{headers:t={},customFetch:r,region:n=xt.Any}={}){this.url=e,this.headers=t,this.region=n,this.fetch=Xs(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return en(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=t;let a={},{region:c}=t;c||(c=this.region),c&&c!=="any"&&(a["x-region"]=c);let u;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const l=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:u}).catch(p=>{throw new Qs(p)}),d=l.headers.get("x-relay-error");if(d&&d==="true")throw new Ys(l);if(!l.ok)throw new Zs(l);let f=((r=l.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return f==="application/json"?g=yield l.json():f==="application/octet-stream"?g=yield l.blob():f==="text/event-stream"?g=l:f==="multipart/form-data"?g=yield l.formData():g=yield l.text(),{data:g,error:null}}catch(n){return{data:null,error:n}}})}}var Hr={},Bt={},Ke={},Ie={},Xe={},Qe={},rn=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},fe=rn();const sn=fe.fetch,Vr=fe.fetch.bind(fe),Jr=fe.Headers,nn=fe.Request,on=fe.Response,pe=Object.freeze(Object.defineProperty({__proto__:null,Headers:Jr,Request:nn,Response:on,default:Vr,fetch:sn},Symbol.toStringTag,{value:"Module"})),an=zs(pe);var Mt={};Object.defineProperty(Mt,"__esModule",{value:!0});class ln extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}Mt.default=ln;var Gr=F&&F.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Qe,"__esModule",{value:!0});const cn=Gr(an),un=Gr(Mt);let dn=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=cn.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let n=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,c;let u=null,l=null,d=null,f=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const b=await i.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?l=b:l=JSON.parse(b))}const m=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),y=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");m&&y&&y.length>1&&(d=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(l)&&(l.length>1?(u={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,d=null,f=406,g="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{const m=await i.text();try{u=JSON.parse(m),Array.isArray(u)&&i.status===404&&(l=[],u=null,f=200,g="OK")}catch{i.status===404&&m===""?(f=204,g="No Content"):u={message:m}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,g="OK"),u&&this.shouldThrowOnError)throw new un.default(u)}return{error:u,data:l,count:d,status:f,statusText:g}});return this.shouldThrowOnError||(n=n.catch(i=>{var o,a,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}};Qe.default=dn;var hn=F&&F.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Xe,"__esModule",{value:!0});const fn=hn(Qe);let pn=class extends fn.default{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:o="text"}={}){var a;const c=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Xe.default=pn;var gn=F&&F.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Ie,"__esModule",{value:!0});const mn=gn(Xe);let yn=class extends mn.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}};Ie.default=yn;var bn=F&&F.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Ke,"__esModule",{value:!0});const Ee=bn(Ie);let _n=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=t,this.schema=r,this.fetch=n}select(e,{head:t=!1,count:r}={}){const n=t?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Ee.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:r=!0}={}){const n="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(o.length>0){const a=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new Ee.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const c=e.reduce((u,l)=>u.concat(Object.keys(l)),[]);if(c.length>0){const u=[...new Set(c)].map(l=>`"${l}"`);this.url.searchParams.set("columns",u.join(","))}}return new Ee.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const r="PATCH",n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),this.headers.Prefer=n.join(","),new Ee.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Ee.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ke.default=_n;var Ye={},Ze={};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.version=void 0;Ze.version="0.0.0-automated";Object.defineProperty(Ye,"__esModule",{value:!0});Ye.DEFAULT_HEADERS=void 0;const wn=Ze;Ye.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${wn.version}`};var Wr=F&&F.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Bt,"__esModule",{value:!0});const vn=Wr(Ke),Sn=Wr(Ie),En=Ye;let kn=class Kr{constructor(e,{headers:t={},schema:r,fetch:n}={}){this.url=e,this.headers=Object.assign(Object.assign({},En.DEFAULT_HEADERS),t),this.schemaName=r,this.fetch=n}from(e){const t=new URL(`${this.url}/${e}`);return new vn.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Kr(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:n=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let c;r||n?(o=r?"HEAD":"GET",Object.entries(t).filter(([l,d])=>d!==void 0).map(([l,d])=>[l,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([l,d])=>{a.searchParams.append(l,d)})):(o="POST",c=t);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Sn.default({method:o,url:a,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Bt.default=kn;(function(s){var e=F&&F.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(s,"__esModule",{value:!0}),s.PostgrestBuilder=s.PostgrestTransformBuilder=s.PostgrestFilterBuilder=s.PostgrestQueryBuilder=s.PostgrestClient=void 0;var t=Bt;Object.defineProperty(s,"PostgrestClient",{enumerable:!0,get:function(){return e(t).default}});var r=Ke;Object.defineProperty(s,"PostgrestQueryBuilder",{enumerable:!0,get:function(){return e(r).default}});var n=Ie;Object.defineProperty(s,"PostgrestFilterBuilder",{enumerable:!0,get:function(){return e(n).default}});var i=Xe;Object.defineProperty(s,"PostgrestTransformBuilder",{enumerable:!0,get:function(){return e(i).default}});var o=Qe;Object.defineProperty(s,"PostgrestBuilder",{enumerable:!0,get:function(){return e(o).default}})})(Hr);const xn=qs(Hr),{PostgrestClient:Tn,PostgrestQueryBuilder:zl,PostgrestFilterBuilder:ql,PostgrestTransformBuilder:Hl,PostgrestBuilder:Vl}=xn,An="2.10.2",On={"X-Client-Info":`realtime-js/${An}`},Pn="1.0.0",Xr=1e4,Rn=1e3;var he;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(he||(he={}));var D;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(D||(D={}));var z;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(z||(z={}));var Tt;(function(s){s.websocket="websocket"})(Tt||(Tt={}));var ie;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(ie||(ie={}));class Cn{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const n=t.getUint8(1),i=t.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+n));o=o+n;const c=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:c,payload:u}}}class Qr{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var T;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(T||(T={}));const ir=(s,e,t={})=>{var r;const n=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=jn(o,s,e,n),i),{})},jn=(s,e,t,r)=>{const n=e.find(a=>a.name===s),i=n==null?void 0:n.type,o=t[s];return i&&!r.includes(i)?Yr(i,o):At(o)},Yr=(s,e)=>{if(s.charAt(0)==="_"){const t=s.slice(1,s.length);return Dn(e,t)}switch(s){case T.bool:return $n(e);case T.float4:case T.float8:case T.int2:case T.int4:case T.int8:case T.numeric:case T.oid:return In(e);case T.json:case T.jsonb:return Ln(e);case T.timestamp:return Un(e);case T.abstime:case T.date:case T.daterange:case T.int4range:case T.int8range:case T.money:case T.reltime:case T.text:case T.time:case T.timestamptz:case T.timetz:case T.tsrange:case T.tstzrange:return At(e);default:return At(e)}},At=s=>s,$n=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},In=s=>{if(typeof s=="string"){const e=parseFloat(s);if(!Number.isNaN(e))return e}return s},Ln=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(e){return console.log(`JSON parse error: ${e}`),s}return s},Dn=(s,e)=>{if(typeof s!="string")return s;const t=s.length-1,r=s[t];if(s[0]==="{"&&r==="}"){let i;const o=s.slice(1,t);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Yr(e,a))}return s},Un=s=>typeof s=="string"?s.replace(" ","T"):s,Zr=s=>{let e=s;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class pt{constructor(e,t,r={},n=Xr){this.channel=e,this.event=t,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var or;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(or||(or={}));class Re{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Re.syncState(this.state,n,i,o),this.pendingDiffs.forEach(c=>{this.state=Re.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Re.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,n){const i=this.cloneDeep(e),o=this.transformState(t),a={},c={};return this.map(i,(u,l)=>{o[u]||(c[u]=l)}),this.map(o,(u,l)=>{const d=i[u];if(d){const f=l.map(y=>y.presence_ref),g=d.map(y=>y.presence_ref),p=l.filter(y=>g.indexOf(y.presence_ref)<0),m=d.filter(y=>f.indexOf(y.presence_ref)<0);p.length>0&&(a[u]=p),m.length>0&&(c[u]=m)}else a[u]=l}),this.syncDiff(i,{joins:a,leaves:c},r,n)}static syncDiff(e,t,r,n){const{joins:i,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,c)=>{var u;const l=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(c),l.length>0){const d=e[a].map(g=>g.presence_ref),f=l.filter(g=>d.indexOf(g.presence_ref)<0);e[a].unshift(...f)}r(a,l,c)}),this.map(o,(a,c)=>{let u=e[a];if(!u)return;const l=c.map(d=>d.presence_ref);u=u.filter(d=>l.indexOf(d.presence_ref)<0),e[a]=u,n(a,u,c),u.length===0&&delete e[a]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const n=e[r];return"metas"in n?t[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[r]=n,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ar;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(ar||(ar={}));var lr;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes"})(lr||(lr={}));var cr;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(cr||(cr={}));class zt{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=D.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new pt(this,z.join,this.params,this.timeout),this.rejoinTimer=new Qr(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=D.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=D.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=D.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=D.errored,this.rejoinTimer.scheduleTimeout())}),this._on(z.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new Re(this),this.broadcastEndpointURL=Zr(this.socket.endPoint)+"/api/broadcast"}subscribe(e,t=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(l=>e&&e("CHANNEL_ERROR",l)),this._onClose(()=>e&&e("CLOSED"));const c={},u={broadcast:i,presence:o,postgres_changes:(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(l=>l.filter))!==null&&n!==void 0?n:[],private:a};this.socket.accessToken&&(c.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",({postgres_changes:l})=>{var d;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),l===void 0){e&&e("SUBSCRIBED");return}else{const f=this.bindings.postgres_changes,g=(d=f==null?void 0:f.length)!==null&&d!==void 0?d:0,p=[];for(let m=0;m<g;m++){const y=f[m],{filter:{event:b,schema:x,table:E,filter:P}}=y,$=l&&l[m];if($&&$.event===b&&$.schema===x&&$.table===E&&$.filter===P)p.push(Object.assign(Object.assign({},y),{id:$.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,e&&e("SUBSCRIBED");return}}).receive("error",l=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(l).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this._on(e,t,r)}async send(e,t={}){var r,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=c.body)===null||n===void 0?void 0:n.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,c;const u=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=D.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(z.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const n=new pt(this,z.leave,{},e);n.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}async _fetchWithTimeout(e,t,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:n.signal}));return clearTimeout(i),o}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new pt(this,e,t,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:c,leave:u,join:l}=z;if(r&&[a,c,u,l].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,t,r);if(t&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(g=>{var p,m,y;return((p=g.filter)===null||p===void 0?void 0:p.event)==="*"||((y=(m=g.filter)===null||m===void 0?void 0:m.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(g=>g.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var p,m,y,b,x,E;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const P=g.id,$=(p=g.filter)===null||p===void 0?void 0:p.event;return P&&((m=t.ids)===null||m===void 0?void 0:m.includes(P))&&($==="*"||($==null?void 0:$.toLocaleLowerCase())===((y=t.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const P=(x=(b=g==null?void 0:g.filter)===null||b===void 0?void 0:b.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return P==="*"||P===((E=t==null?void 0:t.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof f=="object"&&"ids"in f){const p=f.data,{schema:m,table:y,commit_timestamp:b,type:x,errors:E}=p;f=Object.assign(Object.assign({},{schema:m,table:y,commit_timestamp:b,eventType:x,new:{},old:{},errors:E}),this._getPayloadRecords(p))}g.callback(f,r)})}_isClosed(){return this.state===D.closed}_isJoined(){return this.state===D.joined}_isJoining(){return this.state===D.joining}_isLeaving(){return this.state===D.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const n=e.toLocaleLowerCase(),i={type:n,filter:t,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&zt.isEqual(n.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(z.close,{},e)}_onError(e){this._on(z.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=D.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=ir(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=ir(e.columns,e.old_record)),t}}const Nn=()=>{},Fn=typeof WebSocket<"u";class Bn{constructor(e,t){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=On,this.params={},this.timeout=Xr,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Nn,this.conn=null,this.sendBuffer=[],this.serializer=new Cn,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>C(()=>Promise.resolve().then(()=>pe),void 0).then(({default:c})=>c(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Tt.websocket}`,this.httpEndpoint=Zr(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const n=(r=t==null?void 0:t.params)===null||r===void 0?void 0:r.apikey;n&&(this.accessToken=n,this.apiKey=n),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(i,o)=>o(JSON.stringify(i)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Qr(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(Fn){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new Mn(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),C(()=>import("./browser-b90b0889.js").then(e=>e.b),["assets/browser-b90b0889.js","assets/index-940c8f2e.js","assets/index-0387deb4.css"]).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case he.connecting:return ie.Connecting;case he.open:return ie.Open;case he.closing:return ie.Closing;default:return ie.Closed}}isConnected(){return this.connectionState()===ie.Open}channel(e,t={config:{}}){const r=new zt(`realtime:${e}`,t,this);return this.channels.push(r),r}push(e){const{topic:t,event:r,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${t} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(e){this.accessToken=e,this.channels.forEach(t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(z.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Pn}))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:r,event:n,payload:i,ref:o}=t;(o&&o===this.pendingHeartbeatRef||n===(i==null?void 0:i.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${n} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(z.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(t);return`${e}${r}${n}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Rn,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class Mn{constructor(e,t,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=he.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class qt extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function I(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}class zn extends qt{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ur extends qt{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var qn=globalThis&&globalThis.__awaiter||function(s,e,t,r){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):n(l.value).then(a,c)}u((r=r.apply(s,e||[])).next())})};const es=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...t)=>C(()=>Promise.resolve().then(()=>pe),void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},Hn=()=>qn(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield C(()=>Promise.resolve().then(()=>pe),void 0)).Response:Response});var ge=globalThis&&globalThis.__awaiter||function(s,e,t,r){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):n(l.value).then(a,c)}u((r=r.apply(s,e||[])).next())})};const gt=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Vn=(s,e)=>ge(void 0,void 0,void 0,function*(){const t=yield Hn();s instanceof t?s.json().then(r=>{e(new zn(gt(r),s.status||500))}).catch(r=>{e(new ur(gt(r),r))}):e(new ur(gt(s),s))}),Jn=(s,e,t,r)=>{const n={method:s,headers:(e==null?void 0:e.headers)||{}};return s==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),t))};function et(s,e,t,r,n,i){return ge(this,void 0,void 0,function*(){return new Promise((o,a)=>{s(t,Jn(e,r,n,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Vn(c,a))})})}function Ot(s,e,t,r){return ge(this,void 0,void 0,function*(){return et(s,"GET",e,t,r)})}function ee(s,e,t,r,n){return ge(this,void 0,void 0,function*(){return et(s,"POST",e,r,n,t)})}function Gn(s,e,t,r,n){return ge(this,void 0,void 0,function*(){return et(s,"PUT",e,r,n,t)})}function ts(s,e,t,r,n){return ge(this,void 0,void 0,function*(){return et(s,"DELETE",e,r,n,t)})}var U=globalThis&&globalThis.__awaiter||function(s,e,t,r){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):n(l.value).then(a,c)}u((r=r.apply(s,e||[])).next())})};const Wn={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},dr={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Kn{constructor(e,t={},r,n){this.url=e,this.headers=t,this.bucketId=r,this.fetch=es(n)}uploadOrUpdate(e,t,r,n){return U(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},dr),n),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl)):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType);const c=this._removeEmptyFolders(t),u=this._getFinalPath(c),l=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),d=yield l.json();return l.ok?{data:{path:c,id:d.Id,fullPath:d.Key},error:null}:{data:null,error:d}}catch(i){if(I(i))return{data:null,error:i};throw i}})}upload(e,t,r){return U(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,n){return U(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",t);try{let c;const u=Object.assign({upsert:dr.upsert},n),l=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,l["cache-control"]=`max-age=${u.cacheControl}`,l["content-type"]=u.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:l}),f=yield d.json();return d.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(I(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,t){return U(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);t!=null&&t.upsert&&(n["x-upsert"]="true");const i=yield ee(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new qt("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}})}update(e,t,r){return U(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return U(this,void 0,void 0,function*(){try{return{data:yield ee(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}})}copy(e,t,r){return U(this,void 0,void 0,function*(){try{return{data:{path:(yield ee(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}})}createSignedUrl(e,t,r){return U(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield ee(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}})}createSignedUrls(e,t,r){return U(this,void 0,void 0,function*(){try{const n=yield ee(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}})}download(e,t){return U(this,void 0,void 0,function*(){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Ot(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(I(a))return{data:null,error:a};throw a}})}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&n.push(i);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});c!==""&&n.push(c);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return U(this,void 0,void 0,function*(){try{return{data:yield ts(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(I(t))return{data:null,error:t};throw t}})}list(e,t,r){return U(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Wn),t),{prefix:e||""});return{data:yield ee(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Xn="2.6.0",Qn={"X-Client-Info":`storage-js/${Xn}`};var ce=globalThis&&globalThis.__awaiter||function(s,e,t,r){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):n(l.value).then(a,c)}u((r=r.apply(s,e||[])).next())})};class Yn{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},Qn),t),this.fetch=es(r)}listBuckets(){return ce(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(I(e))return{data:null,error:e};throw e}})}getBucket(e){return ce(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(I(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return ce(this,void 0,void 0,function*(){try{return{data:yield ee(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return ce(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}})}emptyBucket(e){return ce(this,void 0,void 0,function*(){try{return{data:yield ee(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(I(t))return{data:null,error:t};throw t}})}deleteBucket(e){return ce(this,void 0,void 0,function*(){try{return{data:yield ts(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(I(t))return{data:null,error:t};throw t}})}}class Zn extends Yn{constructor(e,t={},r){super(e,t,r)}from(e){return new Kn(this.url,this.headers,e,this.fetch)}}const ei="2.44.2";let Oe="";typeof Deno<"u"?Oe="deno":typeof document<"u"?Oe="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Oe="react-native":Oe="node";const ti={"X-Client-Info":`supabase-js-${Oe}/${ei}`},ri={headers:ti},si={schema:"public"},ni={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ii={};var oi=globalThis&&globalThis.__awaiter||function(s,e,t,r){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):n(l.value).then(a,c)}u((r=r.apply(s,e||[])).next())})};const ai=s=>{let e;return s?e=s:typeof fetch>"u"?e=Vr:e=fetch,(...t)=>e(...t)},li=()=>typeof Headers>"u"?Jr:Headers,ci=(s,e,t)=>{const r=ai(t),n=li();return(i,o)=>oi(void 0,void 0,void 0,function*(){var a;const c=(a=yield e())!==null&&a!==void 0?a:s;let u=new n(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",s),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};function ui(s){return s.replace(/\/$/,"")}function di(s,e){const{db:t,auth:r,realtime:n,global:i}=s,{db:o,auth:a,realtime:c,global:u}=e;return{db:Object.assign(Object.assign({},o),t),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},c),n),global:Object.assign(Object.assign({},u),i)}}const rs="2.64.2",hi="http://localhost:9999",fi="supabase.auth.token",pi={"X-Client-Info":`gotrue-js/${rs}`},hr=10,Pt="X-Supabase-Api-Version",ss={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function gi(s){return Math.round(Date.now()/1e3)+s}function mi(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){const e=Math.random()*16|0;return(s=="x"?e:e&3|8).toString(16)})}const M=()=>typeof document<"u",re={tested:!1,writable:!1},Ce=()=>{if(!M())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(re.tested)return re.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),re.tested=!0,re.writable=!0}catch{re.tested=!0,re.writable=!1}return re.writable};function mt(s){const e={},t=new URL(s);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return t.searchParams.forEach((r,n)=>{e[n]=r}),e}const ns=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...t)=>C(()=>Promise.resolve().then(()=>pe),void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},yi=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",is=async(s,e,t)=>{await s.setItem(e,JSON.stringify(t))},Fe=async(s,e)=>{const t=await s.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},yt=async(s,e)=>{await s.removeItem(e)};function bi(s){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let t="",r,n,i,o,a,c,u,l=0;for(s=s.replace("-","+").replace("_","/");l<s.length;)o=e.indexOf(s.charAt(l++)),a=e.indexOf(s.charAt(l++)),c=e.indexOf(s.charAt(l++)),u=e.indexOf(s.charAt(l++)),r=o<<2|a>>4,n=(a&15)<<4|c>>2,i=(c&3)<<6|u,t=t+String.fromCharCode(r),c!=64&&n!=0&&(t=t+String.fromCharCode(n)),u!=64&&i!=0&&(t=t+String.fromCharCode(i));return t}class tt{constructor(){this.promise=new tt.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}tt.promiseConstructor=Promise;function fr(s){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,t=s.split(".");if(t.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=t[1];return JSON.parse(bi(r))}async function _i(s){return await new Promise(e=>{setTimeout(()=>e(null),s)})}function wi(s,e){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await s(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function vi(s){return("0"+s.toString(16)).substr(-2)}function Si(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let n="";for(let i=0;i<56;i++)n+=t.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,vi).join("")}async function Ei(s){const t=new TextEncoder().encode(s),r=await crypto.subtle.digest("SHA-256",t),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}function ki(s){return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function xi(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const t=await Ei(s);return ki(t)}async function ue(s,e,t=!1){const r=Si();let n=r;t&&(n+="/PASSWORD_RECOVERY"),await is(s,`${e}-code-verifier`,n);const i=await xi(r);return[i,r===i?"plain":"s256"]}const Ti=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ai(s){const e=s.headers.get(Pt);if(!e||!e.match(Ti))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class Ht extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function S(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class Oi extends Ht{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function Pi(s){return S(s)&&s.name==="AuthApiError"}class os extends Ht{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class le extends Ht{constructor(e,t,r,n){super(e,r,n),this.name=t,this.status=r}}class se extends le{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class bt extends le{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Be extends le{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Me extends le{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class pr extends le{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Rt extends le{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function _t(s){return S(s)&&s.name==="AuthRetryableFetchError"}class gr extends le{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}var Ri=globalThis&&globalThis.__rest||function(s,e){var t={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&e.indexOf(r)<0&&(t[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(s);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(s,r[n])&&(t[r[n]]=s[r[n]]);return t};const ne=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Ci=[502,503,504];async function mr(s){var e;if(!yi(s))throw new Rt(ne(s),0);if(Ci.includes(s.status))throw new Rt(ne(s),s.status);let t;try{t=await s.json()}catch(i){throw new os(ne(i),i)}let r;const n=Ai(s);if(n&&n.getTime()>=ss["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new gr(ne(t),s.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[])}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new gr(ne(t),s.status,t.weak_password.reasons);throw new Oi(ne(t),s.status||500,r)}const ji=(s,e,t,r)=>{const n={method:s,headers:(e==null?void 0:e.headers)||{}};return s==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),t))};async function k(s,e,t,r){var n;const i=Object.assign({},r==null?void 0:r.headers);i[Pt]||(i[Pt]=ss["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await $i(s,e,t+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function $i(s,e,t,r,n,i){const o=ji(e,r,n,i);let a;try{a=await s(t,Object.assign({},o))}catch(c){throw console.error(c),new Rt(ne(c),0)}if(a.ok||await mr(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(c){await mr(c)}}function Z(s){var e;let t=null;Ui(s)&&(t=Object.assign({},s),s.expires_at||(t.expires_at=gi(s.expires_in)));const r=(e=s.user)!==null&&e!==void 0?e:s;return{data:{session:t,user:r},error:null}}function yr(s){const e=Z(s);return!e.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=s.weak_password),e}function te(s){var e;return{data:{user:(e=s.user)!==null&&e!==void 0?e:s},error:null}}function Ii(s){return{data:s,error:null}}function Li(s){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:n,verification_type:i}=s,o=Ri(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:t,hashed_token:r,redirect_to:n,verification_type:i},c=Object.assign({},o);return{data:{properties:a,user:c},error:null}}function Di(s){return s}function Ui(s){return s.access_token&&s.refresh_token&&s.expires_in}var Ni=globalThis&&globalThis.__rest||function(s,e){var t={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&e.indexOf(r)<0&&(t[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(s);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(s,r[n])&&(t[r[n]]=s[r[n]]);return t};class Fi{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=ns(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await k(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(S(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await k(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:te})}catch(r){if(S(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=Ni(e,["options"]),n=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await k(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Li,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(S(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await k(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:te})}catch(t){if(S(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,n,i,o,a,c;try{const u={nextPage:null,lastPage:0,total:0},l=await k(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Di});if(l.error)throw l.error;const d=await l.json(),f=(o=l.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(c=(a=l.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(p=>{const m=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(p.split(";")[1].split("=")[1]);u[`${y}Page`]=m}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(S(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await k(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:te})}catch(t){if(S(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await k(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:te})}catch(r){if(S(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){try{return await k(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:te})}catch(r){if(S(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:t,error:r}=await k(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:t,error:r}}catch(t){if(S(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await k(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(S(t))return{data:null,error:t};throw t}}}const Bi={getItem:s=>Ce()?globalThis.localStorage.getItem(s):null,setItem:(s,e)=>{Ce()&&globalThis.localStorage.setItem(s,e)},removeItem:s=>{Ce()&&globalThis.localStorage.removeItem(s)}};function br(s={}){return{getItem:e=>s[e]||null,setItem:(e,t)=>{s[e]=t},removeItem:e=>{delete s[e]}}}function Mi(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const de={debug:!!(globalThis&&Ce()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class as extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class zi extends as{}async function qi(s,e,t){de.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),de.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},e),await globalThis.navigator.locks.request(s,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){de.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,n.name);try{return await t()}finally{de.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,n.name)}}else{if(e===0)throw de.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new zi(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(de.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}})}Mi();const Hi={url:hi,storageKey:fi,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:pi,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},ke=30*1e3,_r=3;async function wr(s,e,t){return await t()}class je{constructor(e){var t,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=je.nextInstanceID,je.nextInstanceID+=1,this.instanceID>0&&M()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},Hi),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Fi({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=ns(n.fetch),this.lock=n.lock||wr,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:M()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=qi:this.lock=wr,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:Ce()?this.storage=Bi:(this.memoryStorage={},this.storage=br(this.memoryStorage)):(this.memoryStorage={},this.storage=br(this.memoryStorage)),M()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${rs}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=M()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:t,error:r}=await this._getSessionFromURL(e);if(r)return this._debug("#_initialize()","error detecting session from URL",r),(r==null?void 0:r.message)==="Identity is already linked"||(r==null?void 0:r.message)==="Identity is already linked to another user"?{error:r}:(await this._removeSession(),{error:r});const{session:n,redirectType:i}=t;return this._debug("#_initialize()","detected session in URL",n,"redirect type",i),await this._saveSession(n),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",n):await this._notifyAllSubscribers("SIGNED_IN",n)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return S(e)?{error:e}:{error:new os("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,n;try{await this._removeSession();const i=await k(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:Z}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(S(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var t,r,n;try{await this._removeSession();let i;if("email"in e){const{email:l,password:d,options:f}=e;let g=null,p=null;this.flowType==="pkce"&&([g,p]=await ue(this.storage,this.storageKey)),i=await k(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:l,password:d,data:(t=f==null?void 0:f.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:g,code_challenge_method:p},xform:Z})}else if("phone"in e){const{phone:l,password:d,options:f}=e;i=await k(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:l,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(n=f==null?void 0:f.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Z})}else throw new Be("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(S(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{await this._removeSession();let t;if("email"in e){const{email:i,password:o,options:a}=e;t=await k(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:yr})}else if("phone"in e){const{phone:i,password:o,options:a}=e;t=await k(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:yr})}else throw new Be("You must provide either an email or phone number and a password");const{data:r,error:n}=t;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new bt}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(t){if(S(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,n,i;return await this._removeSession(),await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await Fe(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(t??"").split("/"),{data:i,error:o}=await k(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Z});return await yt(this.storage,`${this.storageKey}-code-verifier`),o?{data:{user:null,session:null,redirectType:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new bt}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}async signInWithIdToken(e){await this._removeSession();try{const{options:t,provider:r,token:n,access_token:i,nonce:o}=e,a=await k(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:Z}),{data:c,error:u}=a;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new bt}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(t){if(S(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,n,i,o;try{if(await this._removeSession(),"email"in e){const{email:a,options:c}=e;let u=null,l=null;this.flowType==="pkce"&&([u,l]=await ue(this.storage,this.storageKey));const{error:d}=await k(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(t=c==null?void 0:c.data)!==null&&t!==void 0?t:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:l},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:c}=e,{data:u,error:l}=await k(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:l}}throw new Be("You must provide either an email or phone number.")}catch(a){if(S(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var t,r;try{e.type!=="email_change"&&e.type!=="phone_change"&&await this._removeSession();let n,i;"options"in e&&(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await k(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:Z});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(n){if(S(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var t,r,n;try{await this._removeSession();let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await ue(this.storage,this.storageKey)),await k(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Ii})}catch(i){if(S(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new se;const{error:n}=await k(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(S(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{e.type!="email_change"&&e.type!="phone_change"&&await this._removeSession();const t=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:i}=e,{error:o}=await k(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:n,options:i}=e,{data:o,error:a}=await k(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Be("You must provide either an email or phone number and a type")}catch(t){if(S(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Fe(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){const o=this.suppressGetSessionWarning;e=new Proxy(e,{get(c,u,l){return!o&&u==="user"&&console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),Reflect.get(c,u,l)}})}return{data:{session:e},error:null}}const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await k(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:te}):await this._useSession(async t=>{var r,n,i;const{data:o,error:a}=t;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new se}:await k(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:te})})}catch(t){if(S(t))return{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new se;const o=n.session;let a=null,c=null;this.flowType==="pkce"&&e.email!=null&&([a,c]=await ue(this.storage,this.storageKey));const{data:u,error:l}=await k(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:c}),jwt:o.access_token,xform:te});if(l)throw l;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(S(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return fr(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new se;const t=Date.now()/1e3;let r=t,n=!0,i=null;const o=fr(e.access_token);if(o.exp&&(r=o.exp,n=r<=t),n){const{session:a,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(S(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:o,error:a}=t;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new se;const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(S(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e){try{if(!M())throw new Me("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Me("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new pr("Not a valid PKCE flow url.");const t=mt(window.location.href);if(e){if(!t.code)throw new pr("No code detected.");const{data:x,error:E}=await this._exchangeCodeForSession(t.code);if(E)throw E;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:x.session,redirectType:null},error:null}}if(t.error||t.error_description||t.error_code)throw new Me(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:c,token_type:u}=t;if(!i||!a||!o||!u)throw new Me("No session defined in URL");const l=Math.round(Date.now()/1e3),d=parseInt(a);let f=l+d;c&&(f=parseInt(c));const g=f-l;g*1e3<=ke&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${d}s`);const p=f-d;l-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,f,l):l-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",p,f,l);const{data:m,error:y}=await this._getUser(i);if(y)throw y;const b={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:d,expires_at:f,refresh_token:o,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(t){if(S(t))return{data:{session:null,redirectType:null},error:t};throw t}}_isImplicitGrantFlow(){const e=mt(window.location.href);return!!(M()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=mt(window.location.href),t=await Fe(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:n,error:i}=t;if(i)return{error:i};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Pi(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await yt(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(e){const t=mi(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,n;try{const{data:{session:i},error:o}=t;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,t={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await ue(this.storage,this.storageKey,!0));try{return await k(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(S(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(S(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:r,error:n}=await this._useSession(async i=>{var o,a,c,u,l;const{data:d,error:f}=i;if(f)throw f;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await k(this.fetch,"GET",g,{headers:this.headers,jwt:(l=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&l!==void 0?l:void 0})});if(n)throw n;return M()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(S(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,n;const{data:i,error:o}=t;if(o)throw o;return await k(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(t){if(S(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await wi(async n=>(n>0&&await _i(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await k(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Z})),(n,i)=>{const o=200*Math.pow(2,n);return i&&_t(i)&&Date.now()+o-r<ke})}catch(r){if(this._debug(t,"error",r),S(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),M()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const r=await Fe(this.storage,this.storageKey);if(this._debug(t,"session from storage",r),!this._isValidSession(r)){this._debug(t,"session is not valid"),r!==null&&await this._removeSession();return}const n=Math.round(Date.now()/1e3),i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<n+hr;if(this._debug(t,`session has${i?"":" not"} expired with margin of ${hr}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),_t(o)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(t,"error",r),console.error(r);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new se;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new tt;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new se;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),S(i)){const o={session:null,error:i};return _t(i)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,t,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,t)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await is(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await yt(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&M()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ke);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-e)/ke);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${ke}ms, refresh threshold is ${_r} ticks`),n<=_r&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof as)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!M()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const n=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await ue(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:n,error:i}=t;return i?{data:null,error:i}:await k(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(S(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,n;const{data:i,error:o}=t;if(o)return{data:null,error:o};const{data:a,error:c}=await k(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(!((n=a==null?void 0:a.totp)===null||n===void 0)&&n.qr_code&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(t){if(S(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:n,error:i}=t;if(i)return{data:null,error:i};const{data:o,error:a}=await k(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(t){if(S(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:n,error:i}=t;return i?{data:null,error:i}:await k(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(S(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(e==null?void 0:e.factors)||[],n=r.filter(i=>i.factor_type==="totp"&&i.status==="verified");return{data:{all:r,totp:n},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(n.access_token);let a=null;o.aal&&(a=o.aal);let c=a;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const l=o.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:l},error:null}}))}}je.nextInstanceID=0;const Vi=je;class Ji extends Vi{constructor(e){super(e)}}var Gi=globalThis&&globalThis.__awaiter||function(s,e,t,r){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):n(l.value).then(a,c)}u((r=r.apply(s,e||[])).next())})};class Wi{constructor(e,t,r){var n,i,o;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const a=ui(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:si,realtime:ii,auth:Object.assign(Object.assign({},ni),{storageKey:c}),global:ri},l=di(r??{},u);this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},this.auth=this._initSupabaseAuthClient((o=l.auth)!==null&&o!==void 0?o:{},this.headers,l.global.fetch),this.fetch=ci(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},l.realtime)),this.rest=new Tn(`${a}/rest/v1`,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new tn(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Zn(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Gi(this,void 0,void 0,function*(){const{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,storageKey:i,flowType:o,debug:a},c,u){var l;const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ji({url:this.authUrl,headers:Object.assign(Object.assign({},d),c),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,flowType:o,debug:a,fetch:u,hasCustomAuthorizationHeader:(l="Authorization"in this.headers)!==null&&l!==void 0?l:!1})}_initRealtimeClient(e){return new Bn(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ki=(s,e,t)=>new Wi(s,e,t),Xi="https://wmxsydjoemtxbbnvhbhs.supabase.co",Qi="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndteHN5ZGpvZW10eGJibnZoYmhzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjAwNzI5NjEsImV4cCI6MjAzNTY0ODk2MX0.Pc5IFeOlruilXNcHyNMR3MvMZmB9dq2wv4tLPX-VbKQ",vr=Ki(Xi,Qi,{auth:{flowType:"implicit"}});function ls(s,e){return function(){return s.apply(e,arguments)}}const{toString:Yi}=Object.prototype,{getPrototypeOf:Vt}=Object,rt=(s=>e=>{const t=Yi.call(e);return s[t]||(s[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),V=s=>(s=s.toLowerCase(),e=>rt(e)===s),st=s=>e=>typeof e===s,{isArray:me}=Array,$e=st("undefined");function Zi(s){return s!==null&&!$e(s)&&s.constructor!==null&&!$e(s.constructor)&&N(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const cs=V("ArrayBuffer");function eo(s){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(s):e=s&&s.buffer&&cs(s.buffer),e}const to=st("string"),N=st("function"),us=st("number"),nt=s=>s!==null&&typeof s=="object",ro=s=>s===!0||s===!1,qe=s=>{if(rt(s)!=="object")return!1;const e=Vt(s);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},so=V("Date"),no=V("File"),io=V("Blob"),oo=V("FileList"),ao=s=>nt(s)&&N(s.pipe),lo=s=>{let e;return s&&(typeof FormData=="function"&&s instanceof FormData||N(s.append)&&((e=rt(s))==="formdata"||e==="object"&&N(s.toString)&&s.toString()==="[object FormData]"))},co=V("URLSearchParams"),[uo,ho,fo,po]=["ReadableStream","Request","Response","Headers"].map(V),go=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Le(s,e,{allOwnKeys:t=!1}={}){if(s===null||typeof s>"u")return;let r,n;if(typeof s!="object"&&(s=[s]),me(s))for(r=0,n=s.length;r<n;r++)e.call(null,s[r],r,s);else{const i=t?Object.getOwnPropertyNames(s):Object.keys(s),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,s[a],a,s)}}function ds(s,e){e=e.toLowerCase();const t=Object.keys(s);let r=t.length,n;for(;r-- >0;)if(n=t[r],e===n.toLowerCase())return n;return null}const hs=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),fs=s=>!$e(s)&&s!==hs;function Ct(){const{caseless:s}=fs(this)&&this||{},e={},t=(r,n)=>{const i=s&&ds(e,n)||n;qe(e[i])&&qe(r)?e[i]=Ct(e[i],r):qe(r)?e[i]=Ct({},r):me(r)?e[i]=r.slice():e[i]=r};for(let r=0,n=arguments.length;r<n;r++)arguments[r]&&Le(arguments[r],t);return e}const mo=(s,e,t,{allOwnKeys:r}={})=>(Le(e,(n,i)=>{t&&N(n)?s[i]=ls(n,t):s[i]=n},{allOwnKeys:r}),s),yo=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),bo=(s,e,t,r)=>{s.prototype=Object.create(e.prototype,r),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:e.prototype}),t&&Object.assign(s.prototype,t)},_o=(s,e,t,r)=>{let n,i,o;const a={};if(e=e||{},s==null)return e;do{for(n=Object.getOwnPropertyNames(s),i=n.length;i-- >0;)o=n[i],(!r||r(o,s,e))&&!a[o]&&(e[o]=s[o],a[o]=!0);s=t!==!1&&Vt(s)}while(s&&(!t||t(s,e))&&s!==Object.prototype);return e},wo=(s,e,t)=>{s=String(s),(t===void 0||t>s.length)&&(t=s.length),t-=e.length;const r=s.indexOf(e,t);return r!==-1&&r===t},vo=s=>{if(!s)return null;if(me(s))return s;let e=s.length;if(!us(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=s[e];return t},So=(s=>e=>s&&e instanceof s)(typeof Uint8Array<"u"&&Vt(Uint8Array)),Eo=(s,e)=>{const r=(s&&s[Symbol.iterator]).call(s);let n;for(;(n=r.next())&&!n.done;){const i=n.value;e.call(s,i[0],i[1])}},ko=(s,e)=>{let t;const r=[];for(;(t=s.exec(e))!==null;)r.push(t);return r},xo=V("HTMLFormElement"),To=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,n){return r.toUpperCase()+n}),Sr=(({hasOwnProperty:s})=>(e,t)=>s.call(e,t))(Object.prototype),Ao=V("RegExp"),ps=(s,e)=>{const t=Object.getOwnPropertyDescriptors(s),r={};Le(t,(n,i)=>{let o;(o=e(n,i,s))!==!1&&(r[i]=o||n)}),Object.defineProperties(s,r)},Oo=s=>{ps(s,(e,t)=>{if(N(s)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=s[t];if(N(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Po=(s,e)=>{const t={},r=n=>{n.forEach(i=>{t[i]=!0})};return me(s)?r(s):r(String(s).split(e)),t},Ro=()=>{},Co=(s,e)=>s!=null&&Number.isFinite(s=+s)?s:e,wt="abcdefghijklmnopqrstuvwxyz",Er="0123456789",gs={DIGIT:Er,ALPHA:wt,ALPHA_DIGIT:wt+wt.toUpperCase()+Er},jo=(s=16,e=gs.ALPHA_DIGIT)=>{let t="";const{length:r}=e;for(;s--;)t+=e[Math.random()*r|0];return t};function $o(s){return!!(s&&N(s.append)&&s[Symbol.toStringTag]==="FormData"&&s[Symbol.iterator])}const Io=s=>{const e=new Array(10),t=(r,n)=>{if(nt(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[n]=r;const i=me(r)?[]:{};return Le(r,(o,a)=>{const c=t(o,n+1);!$e(c)&&(i[a]=c)}),e[n]=void 0,i}}return r};return t(s,0)},Lo=V("AsyncFunction"),Do=s=>s&&(nt(s)||N(s))&&N(s.then)&&N(s.catch),h={isArray:me,isArrayBuffer:cs,isBuffer:Zi,isFormData:lo,isArrayBufferView:eo,isString:to,isNumber:us,isBoolean:ro,isObject:nt,isPlainObject:qe,isReadableStream:uo,isRequest:ho,isResponse:fo,isHeaders:po,isUndefined:$e,isDate:so,isFile:no,isBlob:io,isRegExp:Ao,isFunction:N,isStream:ao,isURLSearchParams:co,isTypedArray:So,isFileList:oo,forEach:Le,merge:Ct,extend:mo,trim:go,stripBOM:yo,inherits:bo,toFlatObject:_o,kindOf:rt,kindOfTest:V,endsWith:wo,toArray:vo,forEachEntry:Eo,matchAll:ko,isHTMLForm:xo,hasOwnProperty:Sr,hasOwnProp:Sr,reduceDescriptors:ps,freezeMethods:Oo,toObjectSet:Po,toCamelCase:To,noop:Ro,toFiniteNumber:Co,findKey:ds,global:hs,isContextDefined:fs,ALPHABET:gs,generateString:jo,isSpecCompliantForm:$o,toJSONObject:Io,isAsyncFn:Lo,isThenable:Do};function _(s,e,t,r,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),n&&(this.response=n)}h.inherits(_,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:h.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const ms=_.prototype,ys={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{ys[s]={value:s}});Object.defineProperties(_,ys);Object.defineProperty(ms,"isAxiosError",{value:!0});_.from=(s,e,t,r,n,i)=>{const o=Object.create(ms);return h.toFlatObject(s,o,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),_.call(o,s.message,e,t,r,n),o.cause=s,o.name=s.name,i&&Object.assign(o,i),o};const Uo=null;function jt(s){return h.isPlainObject(s)||h.isArray(s)}function bs(s){return h.endsWith(s,"[]")?s.slice(0,-2):s}function kr(s,e,t){return s?s.concat(e).map(function(n,i){return n=bs(n),!t&&i?"["+n+"]":n}).join(t?".":""):e}function No(s){return h.isArray(s)&&!s.some(jt)}const Fo=h.toFlatObject(h,{},null,function(e){return/^is[A-Z]/.test(e)});function it(s,e,t){if(!h.isObject(s))throw new TypeError("target must be an object");e=e||new FormData,t=h.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,y){return!h.isUndefined(y[m])});const r=t.metaTokens,n=t.visitor||l,i=t.dots,o=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&h.isSpecCompliantForm(e);if(!h.isFunction(n))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(h.isDate(p))return p.toISOString();if(!c&&h.isBlob(p))throw new _("Blob is not supported. Use a Buffer instead.");return h.isArrayBuffer(p)||h.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function l(p,m,y){let b=p;if(p&&!y&&typeof p=="object"){if(h.endsWith(m,"{}"))m=r?m:m.slice(0,-2),p=JSON.stringify(p);else if(h.isArray(p)&&No(p)||(h.isFileList(p)||h.endsWith(m,"[]"))&&(b=h.toArray(p)))return m=bs(m),b.forEach(function(E,P){!(h.isUndefined(E)||E===null)&&e.append(o===!0?kr([m],P,i):o===null?m:m+"[]",u(E))}),!1}return jt(p)?!0:(e.append(kr(y,m,i),u(p)),!1)}const d=[],f=Object.assign(Fo,{defaultVisitor:l,convertValue:u,isVisitable:jt});function g(p,m){if(!h.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(p),h.forEach(p,function(b,x){(!(h.isUndefined(b)||b===null)&&n.call(e,b,h.isString(x)?x.trim():x,m,f))===!0&&g(b,m?m.concat(x):[x])}),d.pop()}}if(!h.isObject(s))throw new TypeError("data must be an object");return g(s),e}function xr(s){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Jt(s,e){this._pairs=[],s&&it(s,this,e)}const _s=Jt.prototype;_s.append=function(e,t){this._pairs.push([e,t])};_s.toString=function(e){const t=e?function(r){return e.call(this,r,xr)}:xr;return this._pairs.map(function(n){return t(n[0])+"="+t(n[1])},"").join("&")};function Bo(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ws(s,e,t){if(!e)return s;const r=t&&t.encode||Bo,n=t&&t.serialize;let i;if(n?i=n(e,t):i=h.isURLSearchParams(e)?e.toString():new Jt(e,t).toString(r),i){const o=s.indexOf("#");o!==-1&&(s=s.slice(0,o)),s+=(s.indexOf("?")===-1?"?":"&")+i}return s}class Mo{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){h.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Tr=Mo,vs={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},zo=typeof URLSearchParams<"u"?URLSearchParams:Jt,qo=typeof FormData<"u"?FormData:null,Ho=typeof Blob<"u"?Blob:null,Vo={isBrowser:!0,classes:{URLSearchParams:zo,FormData:qo,Blob:Ho},protocols:["http","https","file","blob","url","data"]},Gt=typeof window<"u"&&typeof document<"u",Jo=(s=>Gt&&["ReactNative","NativeScript","NS"].indexOf(s)<0)(typeof navigator<"u"&&navigator.product),Go=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Wo=Gt&&window.location.href||"http://localhost",Ko=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Gt,hasStandardBrowserEnv:Jo,hasStandardBrowserWebWorkerEnv:Go,origin:Wo},Symbol.toStringTag,{value:"Module"})),q={...Ko,...Vo};function Xo(s,e){return it(s,new q.classes.URLSearchParams,Object.assign({visitor:function(t,r,n,i){return q.isNode&&h.isBuffer(t)?(this.append(r,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function Qo(s){return h.matchAll(/\w+|\[(\w*)]/g,s).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Yo(s){const e={},t=Object.keys(s);let r;const n=t.length;let i;for(r=0;r<n;r++)i=t[r],e[i]=s[i];return e}function Ss(s){function e(t,r,n,i){let o=t[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),c=i>=t.length;return o=!o&&h.isArray(n)?n.length:o,c?(h.hasOwnProp(n,o)?n[o]=[n[o],r]:n[o]=r,!a):((!n[o]||!h.isObject(n[o]))&&(n[o]=[]),e(t,r,n[o],i)&&h.isArray(n[o])&&(n[o]=Yo(n[o])),!a)}if(h.isFormData(s)&&h.isFunction(s.entries)){const t={};return h.forEachEntry(s,(r,n)=>{e(Qo(r),n,t,0)}),t}return null}function Zo(s,e,t){if(h.isString(s))try{return(e||JSON.parse)(s),h.trim(s)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(s)}const Wt={transitional:vs,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",n=r.indexOf("application/json")>-1,i=h.isObject(e);if(i&&h.isHTMLForm(e)&&(e=new FormData(e)),h.isFormData(e))return n?JSON.stringify(Ss(e)):e;if(h.isArrayBuffer(e)||h.isBuffer(e)||h.isStream(e)||h.isFile(e)||h.isBlob(e)||h.isReadableStream(e))return e;if(h.isArrayBufferView(e))return e.buffer;if(h.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Xo(e,this.formSerializer).toString();if((a=h.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return it(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||n?(t.setContentType("application/json",!1),Zo(e)):e}],transformResponse:[function(e){const t=this.transitional||Wt.transitional,r=t&&t.forcedJSONParsing,n=this.responseType==="json";if(h.isResponse(e)||h.isReadableStream(e))return e;if(e&&h.isString(e)&&(r&&!this.responseType||n)){const o=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?_.from(a,_.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:q.classes.FormData,Blob:q.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};h.forEach(["delete","get","head","post","put","patch"],s=>{Wt.headers[s]={}});const Kt=Wt,ea=h.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ta=s=>{const e={};let t,r,n;return s&&s.split(`
`).forEach(function(o){n=o.indexOf(":"),t=o.substring(0,n).trim().toLowerCase(),r=o.substring(n+1).trim(),!(!t||e[t]&&ea[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},Ar=Symbol("internals");function xe(s){return s&&String(s).trim().toLowerCase()}function He(s){return s===!1||s==null?s:h.isArray(s)?s.map(He):String(s)}function ra(s){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(s);)e[r[1]]=r[2];return e}const sa=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function vt(s,e,t,r,n){if(h.isFunction(r))return r.call(this,e,t);if(n&&(e=t),!!h.isString(e)){if(h.isString(r))return e.indexOf(r)!==-1;if(h.isRegExp(r))return r.test(e)}}function na(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function ia(s,e){const t=h.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(s,r+t,{value:function(n,i,o){return this[r].call(this,e,n,i,o)},configurable:!0})})}class ot{constructor(e){e&&this.set(e)}set(e,t,r){const n=this;function i(a,c,u){const l=xe(c);if(!l)throw new Error("header name must be a non-empty string");const d=h.findKey(n,l);(!d||n[d]===void 0||u===!0||u===void 0&&n[d]!==!1)&&(n[d||c]=He(a))}const o=(a,c)=>h.forEach(a,(u,l)=>i(u,l,c));if(h.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(h.isString(e)&&(e=e.trim())&&!sa(e))o(ta(e),t);else if(h.isHeaders(e))for(const[a,c]of e.entries())i(c,a,r);else e!=null&&i(t,e,r);return this}get(e,t){if(e=xe(e),e){const r=h.findKey(this,e);if(r){const n=this[r];if(!t)return n;if(t===!0)return ra(n);if(h.isFunction(t))return t.call(this,n,r);if(h.isRegExp(t))return t.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=xe(e),e){const r=h.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||vt(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let n=!1;function i(o){if(o=xe(o),o){const a=h.findKey(r,o);a&&(!t||vt(r,r[a],a,t))&&(delete r[a],n=!0)}}return h.isArray(e)?e.forEach(i):i(e),n}clear(e){const t=Object.keys(this);let r=t.length,n=!1;for(;r--;){const i=t[r];(!e||vt(this,this[i],i,e,!0))&&(delete this[i],n=!0)}return n}normalize(e){const t=this,r={};return h.forEach(this,(n,i)=>{const o=h.findKey(r,i);if(o){t[o]=He(n),delete t[i];return}const a=e?na(i):String(i).trim();a!==i&&delete t[i],t[a]=He(n),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return h.forEach(this,(r,n)=>{r!=null&&r!==!1&&(t[n]=e&&h.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(n=>r.set(n)),r}static accessor(e){const r=(this[Ar]=this[Ar]={accessors:{}}).accessors,n=this.prototype;function i(o){const a=xe(o);r[a]||(ia(n,o),r[a]=!0)}return h.isArray(e)?e.forEach(i):i(e),this}}ot.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);h.reduceDescriptors(ot.prototype,({value:s},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>s,set(r){this[t]=r}}});h.freezeMethods(ot);const H=ot;function St(s,e){const t=this||Kt,r=e||t,n=H.from(r.headers);let i=r.data;return h.forEach(s,function(a){i=a.call(t,i,n.normalize(),e?e.status:void 0)}),n.normalize(),i}function Es(s){return!!(s&&s.__CANCEL__)}function ye(s,e,t){_.call(this,s??"canceled",_.ERR_CANCELED,e,t),this.name="CanceledError"}h.inherits(ye,_,{__CANCEL__:!0});function ks(s,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?s(t):e(new _("Request failed with status code "+t.status,[_.ERR_BAD_REQUEST,_.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function oa(s){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return e&&e[1]||""}function aa(s,e){s=s||10;const t=new Array(s),r=new Array(s);let n=0,i=0,o;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),l=r[i];o||(o=u),t[n]=c,r[n]=u;let d=i,f=0;for(;d!==n;)f+=t[d++],d=d%s;if(n=(n+1)%s,n===i&&(i=(i+1)%s),u-o<e)return;const g=l&&u-l;return g?Math.round(f*1e3/g):void 0}}function la(s,e){let t=0;const r=1e3/e;let n=null;return function(){const o=this===!0,a=Date.now();if(o||a-t>r)return n&&(clearTimeout(n),n=null),t=a,s.apply(null,arguments);n||(n=setTimeout(()=>(n=null,t=Date.now(),s.apply(null,arguments)),r-(a-t)))}}const Je=(s,e,t=3)=>{let r=0;const n=aa(50,250);return la(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,c=o-r,u=n(c),l=o<=a;r=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&l?(a-o)/u:void 0,event:i,lengthComputable:a!=null};d[e?"download":"upload"]=!0,s(d)},t)},ca=q.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let r;function n(i){let o=i;return e&&(t.setAttribute("href",o),o=t.href),t.setAttribute("href",o),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return r=n(window.location.href),function(o){const a=h.isString(o)?n(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),ua=q.hasStandardBrowserEnv?{write(s,e,t,r,n,i){const o=[s+"="+encodeURIComponent(e)];h.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),h.isString(r)&&o.push("path="+r),h.isString(n)&&o.push("domain="+n),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(s){const e=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(s){this.write(s,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function da(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function ha(s,e){return e?s.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):s}function xs(s,e){return s&&!da(e)?ha(s,e):e}const Or=s=>s instanceof H?{...s}:s;function ae(s,e){e=e||{};const t={};function r(u,l,d){return h.isPlainObject(u)&&h.isPlainObject(l)?h.merge.call({caseless:d},u,l):h.isPlainObject(l)?h.merge({},l):h.isArray(l)?l.slice():l}function n(u,l,d){if(h.isUndefined(l)){if(!h.isUndefined(u))return r(void 0,u,d)}else return r(u,l,d)}function i(u,l){if(!h.isUndefined(l))return r(void 0,l)}function o(u,l){if(h.isUndefined(l)){if(!h.isUndefined(u))return r(void 0,u)}else return r(void 0,l)}function a(u,l,d){if(d in e)return r(u,l);if(d in s)return r(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,l)=>n(Or(u),Or(l),!0)};return h.forEach(Object.keys(Object.assign({},s,e)),function(l){const d=c[l]||n,f=d(s[l],e[l],l);h.isUndefined(f)&&d!==a||(t[l]=f)}),t}const Ts=s=>{const e=ae({},s);let{data:t,withXSRFToken:r,xsrfHeaderName:n,xsrfCookieName:i,headers:o,auth:a}=e;e.headers=o=H.from(o),e.url=ws(xs(e.baseURL,e.url),s.params,s.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(h.isFormData(t)){if(q.hasStandardBrowserEnv||q.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[u,...l]=c?c.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...l].join("; "))}}if(q.hasStandardBrowserEnv&&(r&&h.isFunction(r)&&(r=r(e)),r||r!==!1&&ca(e.url))){const u=n&&i&&ua.read(i);u&&o.set(n,u)}return e},fa=typeof XMLHttpRequest<"u",pa=fa&&function(s){return new Promise(function(t,r){const n=Ts(s);let i=n.data;const o=H.from(n.headers).normalize();let{responseType:a}=n,c;function u(){n.cancelToken&&n.cancelToken.unsubscribe(c),n.signal&&n.signal.removeEventListener("abort",c)}let l=new XMLHttpRequest;l.open(n.method.toUpperCase(),n.url,!0),l.timeout=n.timeout;function d(){if(!l)return;const g=H.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders()),m={data:!a||a==="text"||a==="json"?l.responseText:l.response,status:l.status,statusText:l.statusText,headers:g,config:s,request:l};ks(function(b){t(b),u()},function(b){r(b),u()},m),l=null}"onloadend"in l?l.onloadend=d:l.onreadystatechange=function(){!l||l.readyState!==4||l.status===0&&!(l.responseURL&&l.responseURL.indexOf("file:")===0)||setTimeout(d)},l.onabort=function(){l&&(r(new _("Request aborted",_.ECONNABORTED,n,l)),l=null)},l.onerror=function(){r(new _("Network Error",_.ERR_NETWORK,n,l)),l=null},l.ontimeout=function(){let p=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const m=n.transitional||vs;n.timeoutErrorMessage&&(p=n.timeoutErrorMessage),r(new _(p,m.clarifyTimeoutError?_.ETIMEDOUT:_.ECONNABORTED,n,l)),l=null},i===void 0&&o.setContentType(null),"setRequestHeader"in l&&h.forEach(o.toJSON(),function(p,m){l.setRequestHeader(m,p)}),h.isUndefined(n.withCredentials)||(l.withCredentials=!!n.withCredentials),a&&a!=="json"&&(l.responseType=n.responseType),typeof n.onDownloadProgress=="function"&&l.addEventListener("progress",Je(n.onDownloadProgress,!0)),typeof n.onUploadProgress=="function"&&l.upload&&l.upload.addEventListener("progress",Je(n.onUploadProgress)),(n.cancelToken||n.signal)&&(c=g=>{l&&(r(!g||g.type?new ye(null,s,l):g),l.abort(),l=null)},n.cancelToken&&n.cancelToken.subscribe(c),n.signal&&(n.signal.aborted?c():n.signal.addEventListener("abort",c)));const f=oa(n.url);if(f&&q.protocols.indexOf(f)===-1){r(new _("Unsupported protocol "+f+":",_.ERR_BAD_REQUEST,s));return}l.send(i||null)})},ga=(s,e)=>{let t=new AbortController,r;const n=function(c){if(!r){r=!0,o();const u=c instanceof Error?c:this.reason;t.abort(u instanceof _?u:new ye(u instanceof Error?u.message:u))}};let i=e&&setTimeout(()=>{n(new _(`timeout ${e} of ms exceeded`,_.ETIMEDOUT))},e);const o=()=>{s&&(i&&clearTimeout(i),i=null,s.forEach(c=>{c&&(c.removeEventListener?c.removeEventListener("abort",n):c.unsubscribe(n))}),s=null)};s.forEach(c=>c&&c.addEventListener&&c.addEventListener("abort",n));const{signal:a}=t;return a.unsubscribe=o,[a,()=>{i&&clearTimeout(i),i=null}]},ma=ga,ya=function*(s,e){let t=s.byteLength;if(!e||t<e){yield s;return}let r=0,n;for(;r<t;)n=r+e,yield s.slice(r,n),r=n},ba=async function*(s,e,t){for await(const r of s)yield*ya(ArrayBuffer.isView(r)?r:await t(String(r)),e)},Pr=(s,e,t,r,n)=>{const i=ba(s,e,n);let o=0;return new ReadableStream({type:"bytes",async pull(a){const{done:c,value:u}=await i.next();if(c){a.close(),r();return}let l=u.byteLength;t&&t(o+=l),a.enqueue(new Uint8Array(u))},cancel(a){return r(a),i.return()}},{highWaterMark:2})},Rr=(s,e)=>{const t=s!=null;return r=>setTimeout(()=>e({lengthComputable:t,total:s,loaded:r}))},at=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",As=at&&typeof ReadableStream=="function",$t=at&&(typeof TextEncoder=="function"?(s=>e=>s.encode(e))(new TextEncoder):async s=>new Uint8Array(await new Response(s).arrayBuffer())),_a=As&&(()=>{let s=!1;const e=new Request(q.origin,{body:new ReadableStream,method:"POST",get duplex(){return s=!0,"half"}}).headers.has("Content-Type");return s&&!e})(),Cr=64*1024,It=As&&!!(()=>{try{return h.isReadableStream(new Response("").body)}catch{}})(),Ge={stream:It&&(s=>s.body)};at&&(s=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Ge[e]&&(Ge[e]=h.isFunction(s[e])?t=>t[e]():(t,r)=>{throw new _(`Response type '${e}' is not supported`,_.ERR_NOT_SUPPORT,r)})})})(new Response);const wa=async s=>{if(s==null)return 0;if(h.isBlob(s))return s.size;if(h.isSpecCompliantForm(s))return(await new Request(s).arrayBuffer()).byteLength;if(h.isArrayBufferView(s))return s.byteLength;if(h.isURLSearchParams(s)&&(s=s+""),h.isString(s))return(await $t(s)).byteLength},va=async(s,e)=>{const t=h.toFiniteNumber(s.getContentLength());return t??wa(e)},Sa=at&&(async s=>{let{url:e,method:t,data:r,signal:n,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:c,responseType:u,headers:l,withCredentials:d="same-origin",fetchOptions:f}=Ts(s);u=u?(u+"").toLowerCase():"text";let[g,p]=n||i||o?ma([n,i],o):[],m,y;const b=()=>{!m&&setTimeout(()=>{g&&g.unsubscribe()}),m=!0};let x;try{if(c&&_a&&t!=="get"&&t!=="head"&&(x=await va(l,r))!==0){let B=new Request(e,{method:"POST",body:r,duplex:"half"}),W;h.isFormData(r)&&(W=B.headers.get("content-type"))&&l.setContentType(W),B.body&&(r=Pr(B.body,Cr,Rr(x,Je(c)),null,$t))}h.isString(d)||(d=d?"cors":"omit"),y=new Request(e,{...f,signal:g,method:t.toUpperCase(),headers:l.normalize().toJSON(),body:r,duplex:"half",withCredentials:d});let E=await fetch(y);const P=It&&(u==="stream"||u==="response");if(It&&(a||P)){const B={};["status","statusText","headers"].forEach(we=>{B[we]=E[we]});const W=h.toFiniteNumber(E.headers.get("content-length"));E=new Response(Pr(E.body,Cr,a&&Rr(W,Je(a,!0)),P&&b,$t),B)}u=u||"text";let $=await Ge[h.findKey(Ge,u)||"text"](E,s);return!P&&b(),p&&p(),await new Promise((B,W)=>{ks(B,W,{data:$,headers:H.from(E.headers),status:E.status,statusText:E.statusText,config:s,request:y})})}catch(E){throw b(),E&&E.name==="TypeError"&&/fetch/i.test(E.message)?Object.assign(new _("Network Error",_.ERR_NETWORK,s,y),{cause:E.cause||E}):_.from(E,E&&E.code,s,y)}}),Lt={http:Uo,xhr:pa,fetch:Sa};h.forEach(Lt,(s,e)=>{if(s){try{Object.defineProperty(s,"name",{value:e})}catch{}Object.defineProperty(s,"adapterName",{value:e})}});const jr=s=>`- ${s}`,Ea=s=>h.isFunction(s)||s===null||s===!1,Os={getAdapter:s=>{s=h.isArray(s)?s:[s];const{length:e}=s;let t,r;const n={};for(let i=0;i<e;i++){t=s[i];let o;if(r=t,!Ea(t)&&(r=Lt[(o=String(t)).toLowerCase()],r===void 0))throw new _(`Unknown adapter '${o}'`);if(r)break;n[o||"#"+i]=r}if(!r){const i=Object.entries(n).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(jr).join(`
`):" "+jr(i[0]):"as no adapter specified";throw new _("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Lt};function Et(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new ye(null,s)}function $r(s){return Et(s),s.headers=H.from(s.headers),s.data=St.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),Os.getAdapter(s.adapter||Kt.adapter)(s).then(function(r){return Et(s),r.data=St.call(s,s.transformResponse,r),r.headers=H.from(r.headers),r},function(r){return Es(r)||(Et(s),r&&r.response&&(r.response.data=St.call(s,s.transformResponse,r.response),r.response.headers=H.from(r.response.headers))),Promise.reject(r)})}const Ps="1.7.2",Xt={};["object","boolean","number","function","string","symbol"].forEach((s,e)=>{Xt[s]=function(r){return typeof r===s||"a"+(e<1?"n ":" ")+s}});const Ir={};Xt.transitional=function(e,t,r){function n(i,o){return"[Axios v"+Ps+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(e===!1)throw new _(n(o," has been removed"+(t?" in "+t:"")),_.ERR_DEPRECATED);return t&&!Ir[o]&&(Ir[o]=!0,console.warn(n(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(i,o,a):!0}};function ka(s,e,t){if(typeof s!="object")throw new _("options must be an object",_.ERR_BAD_OPTION_VALUE);const r=Object.keys(s);let n=r.length;for(;n-- >0;){const i=r[n],o=e[i];if(o){const a=s[i],c=a===void 0||o(a,i,s);if(c!==!0)throw new _("option "+i+" must be "+c,_.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new _("Unknown option "+i,_.ERR_BAD_OPTION)}}const Dt={assertOptions:ka,validators:Xt},X=Dt.validators;class We{constructor(e){this.defaults=e,this.interceptors={request:new Tr,response:new Tr}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let n;Error.captureStackTrace?Error.captureStackTrace(n={}):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=ae(this.defaults,t);const{transitional:r,paramsSerializer:n,headers:i}=t;r!==void 0&&Dt.assertOptions(r,{silentJSONParsing:X.transitional(X.boolean),forcedJSONParsing:X.transitional(X.boolean),clarifyTimeoutError:X.transitional(X.boolean)},!1),n!=null&&(h.isFunction(n)?t.paramsSerializer={serialize:n}:Dt.assertOptions(n,{encode:X.function,serialize:X.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&h.merge(i.common,i[t.method]);i&&h.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),t.headers=H.concat(o,i);const a=[];let c=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(t)===!1||(c=c&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let l,d=0,f;if(!c){const p=[$r.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,u),f=p.length,l=Promise.resolve(t);d<f;)l=l.then(p[d++],p[d++]);return l}f=a.length;let g=t;for(d=0;d<f;){const p=a[d++],m=a[d++];try{g=p(g)}catch(y){m.call(this,y);break}}try{l=$r.call(this,g)}catch(p){return Promise.reject(p)}for(d=0,f=u.length;d<f;)l=l.then(u[d++],u[d++]);return l}getUri(e){e=ae(this.defaults,e);const t=xs(e.baseURL,e.url);return ws(t,e.params,e.paramsSerializer)}}h.forEach(["delete","get","head","options"],function(e){We.prototype[e]=function(t,r){return this.request(ae(r||{},{method:e,url:t,data:(r||{}).data}))}});h.forEach(["post","put","patch"],function(e){function t(r){return function(i,o,a){return this.request(ae(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}We.prototype[e]=t(),We.prototype[e+"Form"]=t(!0)});const Ve=We;class Qt{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const r=this;this.promise.then(n=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](n);r._listeners=null}),this.promise.then=n=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(n);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,a){r.reason||(r.reason=new ye(i,o,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}static source(){let e;return{token:new Qt(function(n){e=n}),cancel:e}}}const xa=Qt;function Ta(s){return function(t){return s.apply(null,t)}}function Aa(s){return h.isObject(s)&&s.isAxiosError===!0}const Ut={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ut).forEach(([s,e])=>{Ut[e]=s});const Oa=Ut;function Rs(s){const e=new Ve(s),t=ls(Ve.prototype.request,e);return h.extend(t,Ve.prototype,e,{allOwnKeys:!0}),h.extend(t,e,null,{allOwnKeys:!0}),t.create=function(n){return Rs(ae(s,n))},t}const j=Rs(Kt);j.Axios=Ve;j.CanceledError=ye;j.CancelToken=xa;j.isCancel=Es;j.VERSION=Ps;j.toFormData=it;j.AxiosError=_;j.Cancel=j.CanceledError;j.all=function(e){return Promise.all(e)};j.spread=Ta;j.isAxiosError=Aa;j.mergeConfig=ae;j.AxiosHeaders=H;j.formToJSON=s=>Ss(h.isHTMLForm(s)?new FormData(s):s);j.getAdapter=Os.getAdapter;j.HttpStatusCode=Oa;j.default=j;const Pa=j,Ra="https://ranexplayerserver.onrender.com",Ca="Basic VVNFUjp1c2VyQDMyMUAxMjNAMzIx",ja=Pa.create({baseURL:Ra,timeout:1e3,headers:{Authorization:Ca}});function Lr(s){typeof s=="string"&&(ja.defaults.headers["X-Auth-Token"]=`Bearer ${s}`)}const $a=()=>"mediaSession"in navigator,Ia=()=>navigator.mediaSession,Dr=s=>{$a()&&(Ia().playbackState=s)};class La{constructor(){nr(this,"seek",e=>{this.audioEl.currentTime=e});this.audioEl=new Audio,this.meta={}}attachListener(e,t){this.audioEl.addEventListener(e,t)}load(e){this.audioEl.src=e,this.audioEl.load()}loadAndPlay(e){this.load(e),this.audioEl.play()}play(){this.audioEl.play(),Dr("playing")}pause(){this.audioEl.pause(),Dr("paused")}changeVolume(e=0){this.audioEl.volume=e}}const lt={INITIALIZED:"INITIALIZED",PLAYING:"PLAYING",STOPPED:"STOPPED",PAUSED:"PAUSED"},ct=G(lt.INITIALIZED),Yt=G(),Da=G({id:""}),Ua=G([]),Na=G();G(!1);const Jl=G({}),Gl=G();G({playerState:ct,currentSong:Yt,currentPlaylist:Da,queue:Ua});const be=Hs(),J=new La;J.attachListener("playing",()=>{be.set(ct,()=>lt.PLAYING)});J.attachListener("pause",()=>{be.set(ct,()=>lt.PAUSED)});J.attachListener("ended",()=>{be.set(ct,()=>lt.STOPPED)});J.attachListener("durationchange",()=>{be.set(Yt,(s={})=>({...s,meta:{...s.meta||{},duration:J.audioEl.duration}}))});J.attachListener("timeupdate",()=>{be.set(Yt,(s={})=>({meta:{...s.meta||{},currentTime:J.audioEl.currentTime}}))});J.attachListener("onvolumechange",()=>{be.set(Na,()=>J.audioEl.volume)});function Cs(s){var e,t,r="";if(typeof s=="string"||typeof s=="number")r+=s;else if(typeof s=="object")if(Array.isArray(s))for(e=0;e<s.length;e++)s[e]&&(t=Cs(s[e]))&&(r&&(r+=" "),r+=t);else for(e in s)s[e]&&(r&&(r+=" "),r+=e);return r}function js(){for(var s,e,t=0,r="";t<arguments.length;)(s=arguments[t++])&&(e=Cs(s))&&(r&&(r+=" "),r+=e);return r}const Zt="-";function Fa(s){const e=Ma(s),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=s;function n(o){const a=o.split(Zt);return a[0]===""&&a.length!==1&&a.shift(),$s(a,e)||Ba(o)}function i(o,a){const c=t[o]||[];return a&&r[o]?[...c,...r[o]]:c}return{getClassGroupId:n,getConflictingClassGroupIds:i}}function $s(s,e){var o;if(s.length===0)return e.classGroupId;const t=s[0],r=e.nextPart.get(t),n=r?$s(s.slice(1),r):void 0;if(n)return n;if(e.validators.length===0)return;const i=s.join(Zt);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId}const Ur=/^\[(.+)\]$/;function Ba(s){if(Ur.test(s)){const e=Ur.exec(s)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}}function Ma(s){const{theme:e,prefix:t}=s,r={nextPart:new Map,validators:[]};return qa(Object.entries(s.classGroups),t).forEach(([i,o])=>{Nt(o,r,i,e)}),r}function Nt(s,e,t,r){s.forEach(n=>{if(typeof n=="string"){const i=n===""?e:Nr(e,n);i.classGroupId=t;return}if(typeof n=="function"){if(za(n)){Nt(n(r),e,t,r);return}e.validators.push({validator:n,classGroupId:t});return}Object.entries(n).forEach(([i,o])=>{Nt(o,Nr(e,i),t,r)})})}function Nr(s,e){let t=s;return e.split(Zt).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t}function za(s){return s.isThemeGetter}function qa(s,e){return e?s.map(([t,r])=>{const n=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[t,n]}):s}function Ha(s){if(s<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;function n(i,o){t.set(i,o),e++,e>s&&(e=0,r=t,t=new Map)}return{get(i){let o=t.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return n(i,o),o},set(i,o){t.has(i)?t.set(i,o):n(i,o)}}}const Is="!";function Va(s){const{separator:e,experimentalParseClassName:t}=s,r=e.length===1,n=e[0],i=e.length;function o(a){const c=[];let u=0,l=0,d;for(let y=0;y<a.length;y++){let b=a[y];if(u===0){if(b===n&&(r||a.slice(y,y+i)===e)){c.push(a.slice(l,y)),l=y+i;continue}if(b==="/"){d=y;continue}}b==="["?u++:b==="]"&&u--}const f=c.length===0?a:a.substring(l),g=f.startsWith(Is),p=g?f.substring(1):f,m=d&&d>l?d-l:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:p,maybePostfixModifierPosition:m}}return t?function(c){return t({className:c,parseClassName:o})}:o}function Ja(s){if(s.length<=1)return s;const e=[];let t=[];return s.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e}function Ga(s){return{cache:Ha(s.cacheSize),parseClassName:Va(s),...Fa(s)}}const Wa=/\s+/;function Ka(s,e){const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:n}=e,i=new Set;return s.trim().split(Wa).map(o=>{const{modifiers:a,hasImportantModifier:c,baseClassName:u,maybePostfixModifierPosition:l}=t(o);let d=!!l,f=r(d?u.substring(0,l):u);if(!f){if(!d)return{isTailwindClass:!1,originalClassName:o};if(f=r(u),!f)return{isTailwindClass:!1,originalClassName:o};d=!1}const g=Ja(a).join(":");return{isTailwindClass:!0,modifierId:c?g+Is:g,classGroupId:f,originalClassName:o,hasPostfixModifier:d}}).reverse().filter(o=>{if(!o.isTailwindClass)return!0;const{modifierId:a,classGroupId:c,hasPostfixModifier:u}=o,l=a+c;return i.has(l)?!1:(i.add(l),n(c,u).forEach(d=>i.add(a+d)),!0)}).reverse().map(o=>o.originalClassName).join(" ")}function Xa(){let s=0,e,t,r="";for(;s<arguments.length;)(e=arguments[s++])&&(t=Ls(e))&&(r&&(r+=" "),r+=t);return r}function Ls(s){if(typeof s=="string")return s;let e,t="";for(let r=0;r<s.length;r++)s[r]&&(e=Ls(s[r]))&&(t&&(t+=" "),t+=e);return t}function Qa(s,...e){let t,r,n,i=o;function o(c){const u=e.reduce((l,d)=>d(l),s());return t=Ga(u),r=t.cache.get,n=t.cache.set,i=a,a(c)}function a(c){const u=r(c);if(u)return u;const l=Ka(c,t);return n(c,l),l}return function(){return i(Xa.apply(null,arguments))}}function A(s){const e=t=>t[s]||[];return e.isThemeGetter=!0,e}const Ds=/^\[(?:([a-z-]+):)?(.+)\]$/i,Ya=/^\d+\/\d+$/,Za=new Set(["px","full","screen"]),el=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,tl=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,rl=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,sl=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,nl=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function K(s){return oe(s)||Za.has(s)||Ya.test(s)}function Q(s){return _e(s,"length",hl)}function oe(s){return!!s&&!Number.isNaN(Number(s))}function ze(s){return _e(s,"number",oe)}function Te(s){return!!s&&Number.isInteger(Number(s))}function il(s){return s.endsWith("%")&&oe(s.slice(0,-1))}function w(s){return Ds.test(s)}function Y(s){return el.test(s)}const ol=new Set(["length","size","percentage"]);function al(s){return _e(s,ol,Us)}function ll(s){return _e(s,"position",Us)}const cl=new Set(["image","url"]);function ul(s){return _e(s,cl,pl)}function dl(s){return _e(s,"",fl)}function Ae(){return!0}function _e(s,e,t){const r=Ds.exec(s);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1}function hl(s){return tl.test(s)&&!rl.test(s)}function Us(){return!1}function fl(s){return sl.test(s)}function pl(s){return nl.test(s)}function gl(){const s=A("colors"),e=A("spacing"),t=A("blur"),r=A("brightness"),n=A("borderColor"),i=A("borderRadius"),o=A("borderSpacing"),a=A("borderWidth"),c=A("contrast"),u=A("grayscale"),l=A("hueRotate"),d=A("invert"),f=A("gap"),g=A("gradientColorStops"),p=A("gradientColorStopPositions"),m=A("inset"),y=A("margin"),b=A("opacity"),x=A("padding"),E=A("saturate"),P=A("scale"),$=A("sepia"),B=A("skew"),W=A("space"),we=A("translate"),ut=()=>["auto","contain","none"],dt=()=>["auto","hidden","clip","visible","scroll"],ht=()=>["auto",w,e],O=()=>[w,e],er=()=>["",K,Q],De=()=>["auto",oe,w],tr=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Ue=()=>["solid","dashed","dotted","double","none"],rr=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ft=()=>["start","end","center","between","around","evenly","stretch"],ve=()=>["","0",w],sr=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Se=()=>[oe,ze],Ne=()=>[oe,w];return{cacheSize:500,separator:":",theme:{colors:[Ae],spacing:[K,Q],blur:["none","",Y,w],brightness:Se(),borderColor:[s],borderRadius:["none","","full",Y,w],borderSpacing:O(),borderWidth:er(),contrast:Se(),grayscale:ve(),hueRotate:Ne(),invert:ve(),gap:O(),gradientColorStops:[s],gradientColorStopPositions:[il,Q],inset:ht(),margin:ht(),opacity:Se(),padding:O(),saturate:Se(),scale:Se(),sepia:ve(),skew:Ne(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",w]}],container:["container"],columns:[{columns:[Y]}],"break-after":[{"break-after":sr()}],"break-before":[{"break-before":sr()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...tr(),w]}],overflow:[{overflow:dt()}],"overflow-x":[{"overflow-x":dt()}],"overflow-y":[{"overflow-y":dt()}],overscroll:[{overscroll:ut()}],"overscroll-x":[{"overscroll-x":ut()}],"overscroll-y":[{"overscroll-y":ut()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Te,w]}],basis:[{basis:ht()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",w]}],grow:[{grow:ve()}],shrink:[{shrink:ve()}],order:[{order:["first","last","none",Te,w]}],"grid-cols":[{"grid-cols":[Ae]}],"col-start-end":[{col:["auto",{span:["full",Te,w]},w]}],"col-start":[{"col-start":De()}],"col-end":[{"col-end":De()}],"grid-rows":[{"grid-rows":[Ae]}],"row-start-end":[{row:["auto",{span:[Te,w]},w]}],"row-start":[{"row-start":De()}],"row-end":[{"row-end":De()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",w]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",w]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...ft()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ft(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ft(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[W]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[W]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",w,e]}],"min-w":[{"min-w":[w,e,"min","max","fit"]}],"max-w":[{"max-w":[w,e,"none","full","min","max","fit","prose",{screen:[Y]},Y]}],h:[{h:[w,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[w,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[w,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[w,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Y,Q]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ze]}],"font-family":[{font:[Ae]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",w]}],"line-clamp":[{"line-clamp":["none",oe,ze]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",K,w]}],"list-image":[{"list-image":["none",w]}],"list-style-type":[{list:["none","disc","decimal",w]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[s]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[s]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ue(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",K,Q]}],"underline-offset":[{"underline-offset":["auto",K,w]}],"text-decoration-color":[{decoration:[s]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",w]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",w]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...tr(),ll]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",al]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ul]}],"bg-color":[{bg:[s]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...Ue(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:Ue()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...Ue()]}],"outline-offset":[{"outline-offset":[K,w]}],"outline-w":[{outline:[K,Q]}],"outline-color":[{outline:[s]}],"ring-w":[{ring:er()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[s]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[K,Q]}],"ring-offset-color":[{"ring-offset":[s]}],shadow:[{shadow:["","inner","none",Y,dl]}],"shadow-color":[{shadow:[Ae]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...rr(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":rr()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Y,w]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[l]}],invert:[{invert:[d]}],saturate:[{saturate:[E]}],sepia:[{sepia:[$]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[l]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[$]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",w]}],duration:[{duration:Ne()}],ease:[{ease:["linear","in","out","in-out",w]}],delay:[{delay:Ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",w]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[Te,w]}],"translate-x":[{"translate-x":[we]}],"translate-y":[{"translate-y":[we]}],"skew-x":[{"skew-x":[B]}],"skew-y":[{"skew-y":[B]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",w]}],accent:[{accent:["auto",s]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",w]}],"caret-color":[{caret:[s]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",w]}],fill:[{fill:[s,"none"]}],"stroke-w":[{stroke:[K,Q,ze]}],stroke:[{stroke:[s,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}const ml=Qa(gl);function yl(...s){return ml(js(...s))}const Fr=s=>typeof s=="boolean"?"".concat(s):s===0?"0":s,Br=js,bl=(s,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return Br(s,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:n,defaultVariants:i}=e,o=Object.keys(n).map(u=>{const l=t==null?void 0:t[u],d=i==null?void 0:i[u];if(l===null)return null;const f=Fr(l)||Fr(d);return n[u][f]}),a=t&&Object.entries(t).reduce((u,l)=>{let[d,f]=l;return f===void 0||(u[d]=f),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,l)=>{let{class:d,className:f,...g}=l;return Object.entries(g).every(p=>{let[m,y]=p;return Array.isArray(y)?y.includes({...i,...a}[m]):{...i,...a}[m]===y})?[...u,d,f]:u},[]);return Br(s,o,c,t==null?void 0:t.class,t==null?void 0:t.className)},_l=bl("flex items-center justify-center p-2 transition-colors duration-300",{variants:{type:{primary:["text-neutral-100 hover:text-neutral-300 font-bold","hover:bg-red-950 bg-red-900"],secondary:["text-neutral-200","bg-neutral-600 hover:bg-neutral-700"],danger:["text-gray-1","bg-danger-10 hover:bg-danger-11"],outline:["outline-1  outline-double","outline-current hover:outline-2 active:outline-4 focus:outline-4 "],icon:["text-white","hover:text-accent-6 scale-2","data-[active=true]:text-accent-11 hover:data-[active=true]:text-accent-9 font-extrabold"],trasparent:["bg-transparent"]},size:{sm:["h-9"],md:["h-10"],lg:["h-14"]},rounded:{sm:["rounded-sm"],md:["rounded"],lg:["rounded-lg"],xl:["rounded-xl"],full:["rounded-full"]}},defaultVariants:{type:"primary",size:"md",rounded:"md"}}),wl=({children:s,className:e,type:t,size:r,rounded:n,...i})=>v.jsx("button",{className:yl(_l({type:t,size:r,rounded:n}),e),...i,children:s}),vl=Pe.memo(wl),Sl=()=>{const s=Vs();return console.error(s),v.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full",children:[v.jsx("h1",{className:"font-extrabold tracking-widest text-9xl text-neutral-400",children:"Something Went Wrong"}),v.jsx(vl,{onClick:()=>window.location.href="/",children:"Reload"}),v.jsx("p",{children:v.jsx("i",{children:s.statusText||s.message})})]})},Ns=G(),Mr=L(()=>C(()=>import("./index-3edbf1aa.js"),["assets/index-3edbf1aa.js","assets/index-940c8f2e.js","assets/index-0387deb4.css"])),El=L(()=>C(()=>import("./index-4c49d935.js").then(s=>s.i),["assets/index-4c49d935.js","assets/index-940c8f2e.js","assets/index-0387deb4.css","assets/useIsUserLoggedIn-6340759a.js"])),kl=L(()=>C(()=>import("./index-7d54f8c4.js"),["assets/index-7d54f8c4.js","assets/index-940c8f2e.js","assets/index-0387deb4.css","assets/SignInWithGoogle-5d598d43.js","assets/roundedLogos-3227a292.js","assets/helpers-510d46ea.js","assets/Input-c551d353.js","assets/useIsUserLoggedIn-6340759a.js"])),Fs=L(()=>C(()=>import("./index-38bc53e7.js"),["assets/index-38bc53e7.js","assets/index-940c8f2e.js","assets/index-0387deb4.css"])),xl=L(()=>C(()=>import("./index-ff01ba39.js"),["assets/index-ff01ba39.js","assets/index-940c8f2e.js","assets/index-0387deb4.css","assets/react-icons.esm-d4ef80d5.js"])),Tl=L(()=>C(()=>import("./index-9447a5c0.js"),["assets/index-9447a5c0.js","assets/index-940c8f2e.js","assets/index-0387deb4.css","assets/MoonLoader-e7d24fed.js","assets/MoonLoader-2f79f929.css","assets/useUserProfilePic-a900dee3.js","assets/index-82b8c13c.js"])),Al=L(()=>C(()=>import("./AccountSettings-5f13228e.js"),["assets/AccountSettings-5f13228e.js","assets/index-940c8f2e.js","assets/index-0387deb4.css"])),Ol=L(()=>C(()=>import("./CloudIntegrations-187f4b90.js"),["assets/CloudIntegrations-187f4b90.js","assets/index-940c8f2e.js","assets/index-0387deb4.css"])),Pl=L(()=>C(()=>import("./index-d470a7d6.js"),["assets/index-d470a7d6.js","assets/index-940c8f2e.js","assets/index-0387deb4.css","assets/Header-5aaf84da.js","assets/useUserProfilePic-a900dee3.js","assets/index-82b8c13c.js","assets/roundedLogos-3227a292.js","assets/helpers-510d46ea.js","assets/react-icons.esm-d4ef80d5.js"])),zr=L(()=>C(()=>import("./ProfileSettings-7a0835fb.js"),["assets/ProfileSettings-7a0835fb.js","assets/index-940c8f2e.js","assets/index-0387deb4.css","assets/Input-c551d353.js","assets/useUserProfilePic-a900dee3.js","assets/index-82b8c13c.js"])),Rl=L(()=>C(()=>import("./index-f3c5e938.js"),["assets/index-f3c5e938.js","assets/index-940c8f2e.js","assets/index-0387deb4.css","assets/SignInWithGoogle-5d598d43.js","assets/roundedLogos-3227a292.js","assets/helpers-510d46ea.js","assets/Input-c551d353.js","assets/useIsUserLoggedIn-6340759a.js"])),Cl=L(()=>C(()=>import("./FavoriteList-6716e322.js"),["assets/FavoriteList-6716e322.js","assets/index-940c8f2e.js","assets/index-0387deb4.css","assets/favoritePlaylist-4cd647fb.js","assets/List-5d35bdc5.js","assets/RandomAlbumArt-5912c49b.js","assets/index-8b9b32e0.js","assets/moonAndMusicImages-40a4352e.js","assets/helpers-510d46ea.js","assets/PlaylistCard-730f2fb5.js","assets/react-icons.esm-d4ef80d5.js"])),jl=L(()=>C(()=>import("./index-bd58dfdd.js"),["assets/index-bd58dfdd.js","assets/index-940c8f2e.js","assets/index-0387deb4.css"])),$l=L(()=>C(()=>import("./PlaylistPage-c3351c5b.js"),["assets/PlaylistPage-c3351c5b.js","assets/index-940c8f2e.js","assets/index-0387deb4.css","assets/List-5d35bdc5.js","assets/RandomAlbumArt-5912c49b.js","assets/index-8b9b32e0.js","assets/moonAndMusicImages-40a4352e.js","assets/helpers-510d46ea.js","assets/PlaylistCard-730f2fb5.js","assets/react-icons.esm-d4ef80d5.js"]));function Il(){return v.jsx(Pe.Suspense,{fallback:v.jsx(qr,{}),children:v.jsxs(Js,{children:[v.jsxs(R,{errorElement:v.jsx(Sl,{}),children:[v.jsxs(R,{Component:Mr,children:[v.jsx(R,{index:!0,Component:El}),v.jsx(R,{path:"/now-playing",Component:xl}),v.jsxs(R,{path:"/playlists",children:[v.jsx(R,{index:!0,Component:jl}),v.jsx(R,{path:":id",Component:$l}),v.jsx(R,{Component:kt,children:v.jsx(R,{path:"favorites",Component:Cl})})]}),v.jsx(R,{Component:kt,children:v.jsx(R,{path:"/profile",Component:Tl})})]}),v.jsx(R,{path:"/login",Component:kl}),v.jsx(R,{path:"/signup",Component:Rl}),v.jsx(R,{Component:kt,children:v.jsxs(R,{path:"/settings",Component:Pl,children:[v.jsx(R,{index:!0,Component:zr}),v.jsx(R,{path:"profile",Component:zr}),v.jsx(R,{path:"cloudIntegrations",Component:Ol}),v.jsx(R,{path:"account",Component:Al})]})})]}),v.jsx(R,{Component:Mr,children:v.jsx(R,{path:"*",Component:Fs})})]})})}function kt(){return Gs(Ns)?v.jsx(Ws,{}):v.jsx(Fs,{})}function Ll(){const s=Ks(Ns);return Pe.useEffect(()=>{C(()=>import("./yrym-1a74190c.js"),[]).then(e=>{J.load(e.default)}).catch(e=>{console.log("Failed to load song",e)})},[]),Pe.useEffect(()=>{vr.auth.getSession().then(({data:{session:t}})=>{s(t),Lr(t==null?void 0:t.access_token)});const{data:{subscription:e}}=vr.auth.onAuthStateChange((t,r)=>{Lr(r==null?void 0:r.access_token),s(r)});return()=>e.unsubscribe()},[s]),v.jsx("div",{className:" bg-neutral-800 text-neutral-100 backgroundStars",children:v.jsx(Pe.Suspense,{fallback:v.jsx(qr,{}),children:v.jsx(Il,{})})})}const Wl=Object.freeze(Object.defineProperty({__proto__:null,default:Ll},Symbol.toStringTag,{value:"Module"}));export{Wl as A,vl as B,Ns as a,yl as b,js as c,_l as d,Jl as e,ja as f,bl as g,Yt as h,J as i,lt as j,ct as k,Gl as l,Na as m,be as p,vr as s,ml as t};
