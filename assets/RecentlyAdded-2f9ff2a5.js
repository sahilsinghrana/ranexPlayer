import{r as c,j as t,l as u,_ as h,e as j}from"./index-3fc82e9a.js";import{g}from"./moonAndMusicImages-40a4352e.js";import{p as f}from"./player-aa9efd7d.js";import{c as _,b as x,u as S}from"./App-1e7827cc.js";import{A as b}from"./index-4c6cb056.js";import{H as p}from"./index-95e716b9.js";import{a as E,b as y}from"./playerAtom-2752b4f7.js";import{F as A}from"./fetchKeys-14f763aa.js";import"./helpers-510d46ea.js";import"./imageHelpers-8dffa84a.js";import"./useIsUserLoggedIn-3e8486f3.js";function w({song:s={}}){var e,d;const{title:i,artist:l,coverArt:a,className:r,path:o}=s,m=((e=a==null?void 0:a.thumbnails)==null?void 0:e.small)||((d=a==null?void 0:a.thumbnails)==null?void 0:d.large)||g();return t.jsxs("div",{onClick:()=>{f.loadAndPlay(o,s)},className:_("flex cursor-pointer w-[85dvw] sm:max-w-[300px] h-[80px] gap-1 items-center bg-neutral-800 rounded-sm overflow-hidden",r),children:[t.jsx(b,{className:"h-full w-[80px]",src:m}),t.jsxs("div",{className:"flex flex-col justify-center h-full ml-2 overflow-hidden",children:[t.jsx("h5",{className:x("font-semibold text-ellipsis w-fit text-md text-neutral-50/80",{"sm:animate-marquee":i.length>15}),children:i}),t.jsx("h5",{className:x("text-xs text-ellipsis w-fit text-neutral-300/80",{"sm:animate-marquee":l.length>17}),children:l})]})]})}const n=c.memo(w),I=u(()=>h(()=>import("./HomeSection-c7b7bc1e.js"),["assets/HomeSection-c7b7bc1e.js","assets/index-3fc82e9a.js","assets/index-13a8fec2.css"])),N=u(()=>h(()=>import("./HorizontalList-5d548590.js"),["assets/HorizontalList-5d548590.js","assets/index-3fc82e9a.js","assets/index-13a8fec2.css","assets/App-1e7827cc.js"]));function k(){var r,o,m;const{data:s,isLoading:i}=S(A.publicSongs),l=(r=s==null?void 0:s.data)==null?void 0:r.songs,a=j(y);return c.useEffect(()=>{if(a===E.INITIALIZED&&(l!=null&&l.length)){const e=l[0];f.load(e==null?void 0:e.path,e)}},[a,l]),t.jsx(c.Suspense,{fallback:t.jsx(p,{}),children:t.jsx(I,{title:"Celestial catalog!",children:t.jsxs(N,{className:"gap-3 mb-2 sm:px-3",children:[(m=(o=s==null?void 0:s.data)==null?void 0:o.songs)==null?void 0:m.map(e=>t.jsx("li",{children:t.jsx(n,{song:e})},e==null?void 0:e.songId)),t.jsx("li",{children:t.jsx(n,{song:{artist:"Europe",title:"In My Time"}})}),t.jsx("li",{children:t.jsx(n,{song:{artist:"Hardwell",title:"Spaceman"}})}),t.jsx("li",{children:t.jsx(n,{song:{artist:"AP Dhillon",title:"Majhail"}})}),i&&t.jsx(p,{})]})})})}export{k as default};
