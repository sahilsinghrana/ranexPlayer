import{r as o,j as e,l as p,_ as n,e as x}from"./index-eede4e01.js";import{g as h}from"./moonAndMusicImages-40a4352e.js";import{p as u}from"./player-933cc90b.js";import{d as f,u as A}from"./App-f434efb4.js";import{A as j}from"./index-6094d7d5.js";import{H as d}from"./index-d4d20961.js";import{a as _,b as I}from"./playerAtom-645bb86b.js";import"./helpers-510d46ea.js";import"./imageHelpers-8dffa84a.js";import"./useIsUserLoggedIn-1d1bcab6.js";function b({title:r,artist:l,albumArtSrc:a=h(),className:s,songId:i,path:m}){return e.jsxs("div",{onClick:()=>{u.loadAndPlay(m,{title:r,artist:l,albumArtSrc:a,songId:i})},className:f("flex cursor-pointer w-[85vw] sm:w-full min-w-[200px] sm:min-w-[280px] h-[80px] gap-1 items-center bg-neutral-800 rounded-sm overflow-hidden",s),children:[e.jsx(j,{className:"h-full w-[80px]",src:a}),e.jsxs("div",{className:"flex flex-col justify-center h-full ml-2",children:[e.jsx("h5",{className:"font-semibold text-md text-neutral-50/80",children:r}),e.jsx("h5",{className:"text-xs text-neutral-300/80",children:l})]})]})}const v=o.memo(b),y=p(()=>n(()=>import("./HomeSection-cbacfb15.js"),["assets/HomeSection-cbacfb15.js","assets/index-eede4e01.js","assets/index-04e40a81.css"])),S=p(()=>n(()=>import("./HorizontalList-de34c29a.js"),["assets/HorizontalList-de34c29a.js","assets/index-eede4e01.js","assets/index-04e40a81.css","assets/App-f434efb4.js"]));function T(){var i,m,c;const{data:r,isLoading:l}=A("/music/song"),a=(i=r==null?void 0:r.data)==null?void 0:i.songs,s=x(I);return o.useEffect(()=>{if(s===_.INITIALIZED&&(a!=null&&a.length)){const t=a[0];u.load(t==null?void 0:t.path,{title:t.title,artist:t.artist,albumArtSrc:t.coverArt.thumbnails.small||t.coverArt.thumbnails.large,songId:t.songId})}},[s,a]),e.jsx(o.Suspense,{fallback:e.jsx(d,{}),children:e.jsx(y,{title:"Celestial catalog!",children:e.jsxs(S,{className:"gap-3 mb-2 sm:px-3",children:[l&&e.jsx(d,{}),(c=(m=r==null?void 0:r.data)==null?void 0:m.songs)==null?void 0:c.map(t=>e.jsx("li",{children:e.jsx(v,{albumArtSrc:t.coverArt.thumbnails.small||t.coverArt.thumbnails.large,songId:t==null?void 0:t.songId,path:t==null?void 0:t.path,artist:t==null?void 0:t.artist,title:t==null?void 0:t.title})},t==null?void 0:t.songId))]})})})}export{T as default};
