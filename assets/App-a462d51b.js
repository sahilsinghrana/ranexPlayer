var ri=Object.defineProperty;var si=(r,e,t)=>e in r?ri(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var rs=(r,e,t)=>(si(r,typeof e!="symbol"?e+"":e,t),t);import{_ as U,g as ni,c as te,a as ii,b as oi,d as ge,r as P,j as E,u as ai,l as W,F as qs,R as ci,e as N,f as li,O as ui,h as Pr,i as di}from"./index-82304104.js";const hi=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>U(()=>Promise.resolve().then(()=>Ve),void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)};class Cr extends Error{constructor(e,t="FunctionsError",s){super(e),this.name=t,this.context=s}}class fi extends Cr{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class pi extends Cr{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class gi extends Cr{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ur;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(ur||(ur={}));var mi=globalThis&&globalThis.__awaiter||function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(s.next(l))}catch(d){o(d)}}function c(l){try{u(s.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):n(l.value).then(a,c)}u((s=s.apply(r,e||[])).next())})};class yi{constructor(e,{headers:t={},customFetch:s,region:n=ur.Any}={}){this.url=e,this.headers=t,this.region=n,this.fetch=hi(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var s;return mi(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=t;let a={},{region:c}=t;c||(c=this.region),c&&c!=="any"&&(a["x-region"]=c);let u;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const l=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:u}).catch(g=>{throw new fi(g)}),d=l.headers.get("x-relay-error");if(d&&d==="true")throw new pi(l);if(!l.ok)throw new gi(l);let f=((s=l.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield l.json():f==="application/octet-stream"?p=yield l.blob():f==="text/event-stream"?p=l:f==="multipart/form-data"?p=yield l.formData():p=yield l.text(),{data:p,error:null}}catch(n){return{data:null,error:n}}})}}var Vs={},jr={},Ct={},dt={},jt={},It={},bi=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ze=bi();const _i=ze.fetch,Hs=ze.fetch.bind(ze),Js=ze.Headers,wi=ze.Request,vi=ze.Response,Ve=Object.freeze(Object.defineProperty({__proto__:null,Headers:Js,Request:wi,Response:vi,default:Hs,fetch:_i},Symbol.toStringTag,{value:"Module"})),Ei=ni(Ve);var Ir={};Object.defineProperty(Ir,"__esModule",{value:!0});class Si extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}Ir.default=Si;var Ws=te&&te.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(It,"__esModule",{value:!0});const Ti=Ws(Ei),xi=Ws(Ir);let Ri=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Ti.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let n=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,c;let u=null,l=null,d=null,f=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?l=y:l=JSON.parse(y))}const m=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),b=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");m&&b&&b.length>1&&(d=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(l)&&(l.length>1?(u={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,d=null,f=406,p="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{const m=await i.text();try{u=JSON.parse(m),Array.isArray(u)&&i.status===404&&(l=[],u=null,f=200,p="OK")}catch{i.status===404&&m===""?(f=204,p="No Content"):u={message:m}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,p="OK"),u&&this.shouldThrowOnError)throw new xi.default(u)}return{error:u,data:l,count:d,status:f,statusText:p}});return this.shouldThrowOnError||(n=n.catch(i=>{var o,a,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}};It.default=Ri;var Oi=te&&te.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(jt,"__esModule",{value:!0});const ki=Oi(It);let Ai=class extends ki.default{select(e){let t=!1;const s=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:s,foreignTable:n,referencedTable:i=n}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:s=t}={}){const n=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:s,referencedTable:n=s}={}){const i=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:s=!1,buffers:n=!1,wal:i=!1,format:o="text"}={}){var a;const c=[e?"analyze":null,t?"verbose":null,s?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};jt.default=Ai;var Pi=te&&te.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(dt,"__esModule",{value:!0});const Ci=Pi(jt);let ji=class extends Ci.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const s=Array.from(new Set(t)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${s})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:s,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const o=s===void 0?"":`(${s})`;return this.url.searchParams.append(e,`${i}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,s])=>{this.url.searchParams.append(t,`eq.${s}`)}),this}not(e,t,s){return this.url.searchParams.append(e,`not.${t}.${s}`),this}or(e,{foreignTable:t,referencedTable:s=t}={}){const n=s?`${s}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,s){return this.url.searchParams.append(e,`${t}.${s}`),this}};dt.default=ji;var Ii=te&&te.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ct,"__esModule",{value:!0});const Ye=Ii(dt);let Li=class{constructor(e,{headers:t={},schema:s,fetch:n}){this.url=e,this.headers=t,this.schema=s,this.fetch=n}select(e,{head:t=!1,count:s}={}){const n=t?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),s&&(this.headers.Prefer=`count=${s}`),new Ye.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:s=!0}={}){const n="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),s||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(o.length>0){const a=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new Ye.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:s=!1,count:n,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${s?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const c=e.reduce((u,l)=>u.concat(Object.keys(l)),[]);if(c.length>0){const u=[...new Set(c)].map(l=>`"${l}"`);this.url.searchParams.set("columns",u.join(","))}}return new Ye.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const s="PATCH",n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),this.headers.Prefer=n.join(","),new Ye.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t="DELETE",s=[];return e&&s.push(`count=${e}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new Ye.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ct.default=Li;var Lt={},$t={};Object.defineProperty($t,"__esModule",{value:!0});$t.version=void 0;$t.version="0.0.0-automated";Object.defineProperty(Lt,"__esModule",{value:!0});Lt.DEFAULT_HEADERS=void 0;const $i=$t;Lt.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${$i.version}`};var Gs=te&&te.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(jr,"__esModule",{value:!0});const Di=Gs(Ct),Ni=Gs(dt),Ui=Lt;let Fi=class Ks{constructor(e,{headers:t={},schema:s,fetch:n}={}){this.url=e,this.headers=Object.assign(Object.assign({},Ui.DEFAULT_HEADERS),t),this.schemaName=s,this.fetch=n}from(e){const t=new URL(`${this.url}/${e}`);return new Di.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Ks(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:s=!1,get:n=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let c;s||n?(o=s?"HEAD":"GET",Object.entries(t).filter(([l,d])=>d!==void 0).map(([l,d])=>[l,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([l,d])=>{a.searchParams.append(l,d)})):(o="POST",c=t);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Ni.default({method:o,url:a,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};jr.default=Fi;(function(r){var e=te&&te.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(r,"__esModule",{value:!0}),r.PostgrestBuilder=r.PostgrestTransformBuilder=r.PostgrestFilterBuilder=r.PostgrestQueryBuilder=r.PostgrestClient=void 0;var t=jr;Object.defineProperty(r,"PostgrestClient",{enumerable:!0,get:function(){return e(t).default}});var s=Ct;Object.defineProperty(r,"PostgrestQueryBuilder",{enumerable:!0,get:function(){return e(s).default}});var n=dt;Object.defineProperty(r,"PostgrestFilterBuilder",{enumerable:!0,get:function(){return e(n).default}});var i=jt;Object.defineProperty(r,"PostgrestTransformBuilder",{enumerable:!0,get:function(){return e(i).default}});var o=It;Object.defineProperty(r,"PostgrestBuilder",{enumerable:!0,get:function(){return e(o).default}})})(Vs);const Bi=ii(Vs),{PostgrestClient:Mi,PostgrestQueryBuilder:qu,PostgrestFilterBuilder:Vu,PostgrestTransformBuilder:Hu,PostgrestBuilder:Ju}=Bi,zi="2.10.2",qi={"X-Client-Info":`realtime-js/${zi}`},Vi="1.0.0",Xs=1e4,Hi=1e3;var Me;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Me||(Me={}));var X;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(X||(X={}));var ie;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(ie||(ie={}));var dr;(function(r){r.websocket="websocket"})(dr||(dr={}));var Ie;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Ie||(Ie={}));class Ji{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,t,s)}_decodeBroadcast(e,t,s){const n=t.getUint8(1),i=t.getUint8(2);let o=this.HEADER_LENGTH+2;const a=s.decode(e.slice(o,o+n));o=o+n;const c=s.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(s.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:c,payload:u}}}class Qs{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var j;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(j||(j={}));const ss=(r,e,t={})=>{var s;const n=(s=t.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((i,o)=>(i[o]=Wi(o,r,e,n),i),{})},Wi=(r,e,t,s)=>{const n=e.find(a=>a.name===r),i=n==null?void 0:n.type,o=t[r];return i&&!s.includes(i)?Ys(i,o):hr(o)},Ys=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return Qi(e,t)}switch(r){case j.bool:return Gi(e);case j.float4:case j.float8:case j.int2:case j.int4:case j.int8:case j.numeric:case j.oid:return Ki(e);case j.json:case j.jsonb:return Xi(e);case j.timestamp:return Yi(e);case j.abstime:case j.date:case j.daterange:case j.int4range:case j.int8range:case j.money:case j.reltime:case j.text:case j.time:case j.timestamptz:case j.timetz:case j.tsrange:case j.tstzrange:return hr(e);default:return hr(e)}},hr=r=>r,Gi=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},Ki=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},Xi=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},Qi=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,s=r[t];if(r[0]==="{"&&s==="}"){let i;const o=r.slice(1,t);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Ys(e,a))}return r},Yi=r=>typeof r=="string"?r.replace(" ","T"):r,Zs=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Kt{constructor(e,t,s={},n=Xs){this.channel=e,this.event=t,this.payload=s,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var s;return this._hasReceived(e)&&t((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ns;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(ns||(ns={}));class it{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=it.syncState(this.state,n,i,o),this.pendingDiffs.forEach(c=>{this.state=it.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=it.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,s,n){const i=this.cloneDeep(e),o=this.transformState(t),a={},c={};return this.map(i,(u,l)=>{o[u]||(c[u]=l)}),this.map(o,(u,l)=>{const d=i[u];if(d){const f=l.map(b=>b.presence_ref),p=d.map(b=>b.presence_ref),g=l.filter(b=>p.indexOf(b.presence_ref)<0),m=d.filter(b=>f.indexOf(b.presence_ref)<0);g.length>0&&(a[u]=g),m.length>0&&(c[u]=m)}else a[u]=l}),this.syncDiff(i,{joins:a,leaves:c},s,n)}static syncDiff(e,t,s,n){const{joins:i,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return s||(s=()=>{}),n||(n=()=>{}),this.map(i,(a,c)=>{var u;const l=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(c),l.length>0){const d=e[a].map(p=>p.presence_ref),f=l.filter(p=>d.indexOf(p.presence_ref)<0);e[a].unshift(...f)}s(a,l,c)}),this.map(o,(a,c)=>{let u=e[a];if(!u)return;const l=c.map(d=>d.presence_ref);u=u.filter(d=>l.indexOf(d.presence_ref)<0),e[a]=u,n(a,u,c),u.length===0&&delete e[a]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(s=>t(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,s)=>{const n=e[s];return"metas"in n?t[s]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[s]=n,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var is;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(is||(is={}));var os;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes"})(os||(os={}));var as;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(as||(as={}));class Lr{constructor(e,t={config:{}},s){this.topic=e,this.params=t,this.socket=s,this.bindings={},this.state=X.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Kt(this,ie.join,this.params,this.timeout),this.rejoinTimer=new Qs(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=X.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=X.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=X.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=X.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ie.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new it(this),this.broadcastEndpointURL=Zs(this.socket.endPoint)+"/api/broadcast"}subscribe(e,t=this.timeout){var s,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(l=>e&&e("CHANNEL_ERROR",l)),this._onClose(()=>e&&e("CLOSED"));const c={},u={broadcast:i,presence:o,postgres_changes:(n=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(l=>l.filter))!==null&&n!==void 0?n:[],private:a};this.socket.accessToken&&(c.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",({postgres_changes:l})=>{var d;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),l===void 0){e&&e("SUBSCRIBED");return}else{const f=this.bindings.postgres_changes,p=(d=f==null?void 0:f.length)!==null&&d!==void 0?d:0,g=[];for(let m=0;m<p;m++){const b=f[m],{filter:{event:y,schema:x,table:_,filter:A}}=b,R=l&&l[m];if(R&&R.event===y&&R.schema===x&&R.table===_&&R.filter===A)g.push(Object.assign(Object.assign({},b),{id:R.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e("SUBSCRIBED");return}}).receive("error",l=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(l).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,s){return this._on(e,t,s)}async send(e,t={}){var s,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=t.timeout)!==null&&s!==void 0?s:this.timeout);return await((n=c.body)===null||n===void 0?void 0:n.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,c;const u=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=X.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ie.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(s=>{const n=new Kt(this,ie.leave,{},e);n.receive("ok",()=>{t(),s("ok")}).receive("timeout",()=>{t(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}async _fetchWithTimeout(e,t,s){const n=new AbortController,i=setTimeout(()=>n.abort(),s),o=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:n.signal}));return clearTimeout(i),o}_push(e,t,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Kt(this,e,t,s);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,t,s){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,s){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:c,leave:u,join:l}=ie;if(s&&[a,c,u,l].indexOf(o)>=0&&s!==this._joinRef())return;let f=this._onMessage(o,t,s);if(t&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(p=>{var g,m,b;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((b=(m=p.filter)===null||m===void 0?void 0:m.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(p=>p.callback(f,s)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var g,m,b,y,x,_;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const A=p.id,R=(g=p.filter)===null||g===void 0?void 0:g.event;return A&&((m=t.ids)===null||m===void 0?void 0:m.includes(A))&&(R==="*"||(R==null?void 0:R.toLocaleLowerCase())===((b=t.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const A=(x=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return A==="*"||A===((_=t==null?void 0:t.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:m,table:b,commit_timestamp:y,type:x,errors:_}=g;f=Object.assign(Object.assign({},{schema:m,table:b,commit_timestamp:y,eventType:x,new:{},old:{},errors:_}),this._getPayloadRecords(g))}p.callback(f,s)})}_isClosed(){return this.state===X.closed}_isJoined(){return this.state===X.joined}_isJoining(){return this.state===X.joining}_isLeaving(){return this.state===X.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,s){const n=e.toLocaleLowerCase(),i={type:n,filter:t,callback:s};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,t){const s=e.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&Lr.isEqual(n.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ie.close,{},e)}_onError(e){this._on(ie.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=X.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=ss(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=ss(e.columns,e.old_record)),t}}const Zi=()=>{},eo=typeof WebSocket<"u";class to{constructor(e,t){var s;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=qi,this.params={},this.timeout=Xs,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Zi,this.conn=null,this.sendBuffer=[],this.serializer=new Ji,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>U(()=>Promise.resolve().then(()=>Ve),void 0).then(({default:c})=>c(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${dr.websocket}`,this.httpEndpoint=Zs(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const n=(s=t==null?void 0:t.params)===null||s===void 0?void 0:s.apikey;n&&(this.accessToken=n,this.apiKey=n),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(i,o)=>o(JSON.stringify(i)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Qs(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(eo){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new ro(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),U(()=>import("./browser-8caccf27.js").then(e=>e.b),["assets/browser-8caccf27.js","assets/index-82304104.js","assets/index-3b856831.css"]).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,s){this.logger(e,t,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Me.connecting:return Ie.Connecting;case Me.open:return Ie.Open;case Me.closing:return Ie.Closing;default:return Ie.Closed}}isConnected(){return this.connectionState()===Ie.Open}channel(e,t={config:{}}){const s=new Lr(`realtime:${e}`,t,this);return this.channels.push(s),s}push(e){const{topic:t,event:s,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${t} ${s} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(e){this.accessToken=e,this.channels.forEach(t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(ie.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Vi}))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:s,event:n,payload:i,ref:o}=t;(o&&o===this.pendingHeartbeatRef||n===(i==null?void 0:i.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${s} ${n} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(s)).forEach(a=>a._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(ie.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const s=e.match(/\?/)?"&":"?",n=new URLSearchParams(t);return`${e}${s}${n}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Hi,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class ro{constructor(e,t,s){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Me.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=s.close}}class $r extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function V(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class so extends $r{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class cs extends $r{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var no=globalThis&&globalThis.__awaiter||function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(s.next(l))}catch(d){o(d)}}function c(l){try{u(s.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):n(l.value).then(a,c)}u((s=s.apply(r,e||[])).next())})};const en=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>U(()=>Promise.resolve().then(()=>Ve),void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)},io=()=>no(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield U(()=>Promise.resolve().then(()=>Ve),void 0)).Response:Response});var He=globalThis&&globalThis.__awaiter||function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(s.next(l))}catch(d){o(d)}}function c(l){try{u(s.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):n(l.value).then(a,c)}u((s=s.apply(r,e||[])).next())})};const Xt=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),oo=(r,e)=>He(void 0,void 0,void 0,function*(){const t=yield io();r instanceof t?r.json().then(s=>{e(new so(Xt(s),r.status||500))}).catch(s=>{e(new cs(Xt(s),s))}):e(new cs(Xt(r),r))}),ao=(r,e,t,s)=>{const n={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n.body=JSON.stringify(s),Object.assign(Object.assign({},n),t))};function Dt(r,e,t,s,n,i){return He(this,void 0,void 0,function*(){return new Promise((o,a)=>{r(t,ao(e,s,n,i)).then(c=>{if(!c.ok)throw c;return s!=null&&s.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>oo(c,a))})})}function fr(r,e,t,s){return He(this,void 0,void 0,function*(){return Dt(r,"GET",e,t,s)})}function Re(r,e,t,s,n){return He(this,void 0,void 0,function*(){return Dt(r,"POST",e,s,n,t)})}function co(r,e,t,s,n){return He(this,void 0,void 0,function*(){return Dt(r,"PUT",e,s,n,t)})}function tn(r,e,t,s,n){return He(this,void 0,void 0,function*(){return Dt(r,"DELETE",e,s,n,t)})}var Z=globalThis&&globalThis.__awaiter||function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(s.next(l))}catch(d){o(d)}}function c(l){try{u(s.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):n(l.value).then(a,c)}u((s=s.apply(r,e||[])).next())})};const lo={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ls={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class uo{constructor(e,t={},s,n){this.url=e,this.headers=t,this.bucketId=s,this.fetch=en(n)}uploadOrUpdate(e,t,s,n){return Z(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},ls),n),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",o.cacheControl)):(i=s,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType);const c=this._removeEmptyFolders(t),u=this._getFinalPath(c),l=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),d=yield l.json();return l.ok?{data:{path:c,id:d.Id,fullPath:d.Key},error:null}:{data:null,error:d}}catch(i){if(V(i))return{data:null,error:i};throw i}})}upload(e,t,s){return Z(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,s)})}uploadToSignedUrl(e,t,s,n){return Z(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",t);try{let c;const u=Object.assign({upsert:ls.upsert},n),l=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",u.cacheControl)):(c=s,l["cache-control"]=`max-age=${u.cacheControl}`,l["content-type"]=u.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:l}),f=yield d.json();return d.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(V(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,t){return Z(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const n=Object.assign({},this.headers);t!=null&&t.upsert&&(n["x-upsert"]="true");const i=yield Re(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new $r("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(s){if(V(s))return{data:null,error:s};throw s}})}update(e,t,s){return Z(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,s)})}move(e,t,s){return Z(this,void 0,void 0,function*(){try{return{data:yield Re(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}})}copy(e,t,s){return Z(this,void 0,void 0,function*(){try{return{data:{path:(yield Re(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}})}createSignedUrl(e,t,s){return Z(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield Re(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:t},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}})}createSignedUrls(e,t,s){return Z(this,void 0,void 0,function*(){try{const n=yield Re(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}})}download(e,t){return Z(this,void 0,void 0,function*(){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield fr(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(V(a))return{data:null,error:a};throw a}})}getPublicUrl(e,t){const s=this._getFinalPath(e),n=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&n.push(i);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});c!==""&&n.push(c);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${s}${u}`)}}}remove(e){return Z(this,void 0,void 0,function*(){try{return{data:yield tn(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(V(t))return{data:null,error:t};throw t}})}list(e,t,s){return Z(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},lo),t),{prefix:e||""});return{data:yield Re(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},s),error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const ho="2.6.0",fo={"X-Client-Info":`storage-js/${ho}`};var Ue=globalThis&&globalThis.__awaiter||function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(s.next(l))}catch(d){o(d)}}function c(l){try{u(s.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):n(l.value).then(a,c)}u((s=s.apply(r,e||[])).next())})};class po{constructor(e,t={},s){this.url=e,this.headers=Object.assign(Object.assign({},fo),t),this.fetch=en(s)}listBuckets(){return Ue(this,void 0,void 0,function*(){try{return{data:yield fr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(V(e))return{data:null,error:e};throw e}})}getBucket(e){return Ue(this,void 0,void 0,function*(){try{return{data:yield fr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(V(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Ue(this,void 0,void 0,function*(){try{return{data:yield Re(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(V(s))return{data:null,error:s};throw s}})}updateBucket(e,t){return Ue(this,void 0,void 0,function*(){try{return{data:yield co(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(V(s))return{data:null,error:s};throw s}})}emptyBucket(e){return Ue(this,void 0,void 0,function*(){try{return{data:yield Re(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(V(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Ue(this,void 0,void 0,function*(){try{return{data:yield tn(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(V(t))return{data:null,error:t};throw t}})}}class go extends po{constructor(e,t={},s){super(e,t,s)}from(e){return new uo(this.url,this.headers,e,this.fetch)}}const mo="2.44.2";let nt="";typeof Deno<"u"?nt="deno":typeof document<"u"?nt="web":typeof navigator<"u"&&navigator.product==="ReactNative"?nt="react-native":nt="node";const yo={"X-Client-Info":`supabase-js-${nt}/${mo}`},bo={headers:yo},_o={schema:"public"},wo={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},vo={};var Eo=globalThis&&globalThis.__awaiter||function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(s.next(l))}catch(d){o(d)}}function c(l){try{u(s.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):n(l.value).then(a,c)}u((s=s.apply(r,e||[])).next())})};const So=r=>{let e;return r?e=r:typeof fetch>"u"?e=Hs:e=fetch,(...t)=>e(...t)},To=()=>typeof Headers>"u"?Js:Headers,xo=(r,e,t)=>{const s=So(t),n=To();return(i,o)=>Eo(void 0,void 0,void 0,function*(){var a;const c=(a=yield e())!==null&&a!==void 0?a:r;let u=new n(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",r),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),s(i,Object.assign(Object.assign({},o),{headers:u}))})};function Ro(r){return r.replace(/\/$/,"")}function Oo(r,e){const{db:t,auth:s,realtime:n,global:i}=r,{db:o,auth:a,realtime:c,global:u}=e;return{db:Object.assign(Object.assign({},o),t),auth:Object.assign(Object.assign({},a),s),realtime:Object.assign(Object.assign({},c),n),global:Object.assign(Object.assign({},u),i)}}const rn="2.64.2",ko="http://localhost:9999",Ao="supabase.auth.token",Po={"X-Client-Info":`gotrue-js/${rn}`},us=10,pr="X-Supabase-Api-Version",sn={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Co(r){return Math.round(Date.now()/1e3)+r}function jo(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const ne=()=>typeof document<"u",Pe={tested:!1,writable:!1},ot=()=>{if(!ne())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Pe.tested)return Pe.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Pe.tested=!0,Pe.writable=!0}catch{Pe.tested=!0,Pe.writable=!1}return Pe.writable};function Qt(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return t.searchParams.forEach((s,n)=>{e[n]=s}),e}const nn=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>U(()=>Promise.resolve().then(()=>Ve),void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)},Io=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",on=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},yt=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Yt=async(r,e)=>{await r.removeItem(e)};function Lo(r){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let t="",s,n,i,o,a,c,u,l=0;for(r=r.replace("-","+").replace("_","/");l<r.length;)o=e.indexOf(r.charAt(l++)),a=e.indexOf(r.charAt(l++)),c=e.indexOf(r.charAt(l++)),u=e.indexOf(r.charAt(l++)),s=o<<2|a>>4,n=(a&15)<<4|c>>2,i=(c&3)<<6|u,t=t+String.fromCharCode(s),c!=64&&n!=0&&(t=t+String.fromCharCode(n)),u!=64&&i!=0&&(t=t+String.fromCharCode(i));return t}class Nt{constructor(){this.promise=new Nt.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Nt.promiseConstructor=Promise;function ds(r){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,t=r.split(".");if(t.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const s=t[1];return JSON.parse(Lo(s))}async function $o(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function Do(r,e){return new Promise((s,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await r(i);if(!e(i,null,o)){s(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function No(r){return("0"+r.toString(16)).substr(-2)}function Uo(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=t.length;let n="";for(let i=0;i<56;i++)n+=t.charAt(Math.floor(Math.random()*s));return n}return crypto.getRandomValues(e),Array.from(e,No).join("")}async function Fo(r){const t=new TextEncoder().encode(r),s=await crypto.subtle.digest("SHA-256",t),n=new Uint8Array(s);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}function Bo(r){return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Mo(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await Fo(r);return Bo(t)}async function Fe(r,e,t=!1){const s=Uo();let n=s;t&&(n+="/PASSWORD_RECOVERY"),await on(r,`${e}-code-verifier`,n);const i=await Mo(s);return[i,s===i?"plain":"s256"]}const zo=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function qo(r){const e=r.headers.get(pr);if(!e||!e.match(zo))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class Dr extends Error{constructor(e,t,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=s}}function S(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class Vo extends Dr{constructor(e,t,s){super(e,t,s),this.name="AuthApiError",this.status=t,this.code=s}}function Ho(r){return S(r)&&r.name==="AuthApiError"}class an extends Dr{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class De extends Dr{constructor(e,t,s,n){super(e,s,n),this.name=t,this.status=s}}class Ce extends De{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Zt extends De{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class bt extends De{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class _t extends De{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hs extends De{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class gr extends De{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function er(r){return S(r)&&r.name==="AuthRetryableFetchError"}class fs extends De{constructor(e,t,s){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=s}}var Jo=globalThis&&globalThis.__rest||function(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(r);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(r,s[n])&&(t[s[n]]=r[s[n]]);return t};const je=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Wo=[502,503,504];async function ps(r){var e;if(!Io(r))throw new gr(je(r),0);if(Wo.includes(r.status))throw new gr(je(r),r.status);let t;try{t=await r.json()}catch(i){throw new an(je(i),i)}let s;const n=qo(r);if(n&&n.getTime()>=sn["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?s=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(s=t.error_code),s){if(s==="weak_password")throw new fs(je(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[])}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new fs(je(t),r.status,t.weak_password.reasons);throw new Vo(je(t),r.status||500,s)}const Go=(r,e,t,s)=>{const n={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(s),Object.assign(Object.assign({},n),t))};async function T(r,e,t,s){var n;const i=Object.assign({},s==null?void 0:s.headers);i[pr]||(i[pr]=sn["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(n=s==null?void 0:s.query)!==null&&n!==void 0?n:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Ko(r,e,t+a,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(c):{data:Object.assign({},c),error:null}}async function Ko(r,e,t,s,n,i){const o=Go(e,s,n,i);let a;try{a=await r(t,Object.assign({},o))}catch(c){throw console.error(c),new gr(je(c),0)}if(a.ok||await ps(a),s!=null&&s.noResolveJson)return a;try{return await a.json()}catch(c){await ps(c)}}function xe(r){var e;let t=null;Zo(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=Co(r.expires_in)));const s=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:s},error:null}}function gs(r){const e=xe(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,s)=>t&&typeof s=="string",!0)&&(e.data.weak_password=r.weak_password),e}function Oe(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function Xo(r){return{data:r,error:null}}function Qo(r){const{action_link:e,email_otp:t,hashed_token:s,redirect_to:n,verification_type:i}=r,o=Jo(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:t,hashed_token:s,redirect_to:n,verification_type:i},c=Object.assign({},o);return{data:{properties:a,user:c},error:null}}function Yo(r){return r}function Zo(r){return r.access_token&&r.refresh_token&&r.expires_in}var ea=globalThis&&globalThis.__rest||function(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(r);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(r,s[n])&&(t[s[n]]=r[s[n]]);return t};class ta{constructor({url:e="",headers:t={},fetch:s}){this.url=e,this.headers=t,this.fetch=nn(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await T(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(S(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,t={}){try{return await T(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Oe})}catch(s){if(S(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:t}=e,s=ea(e,["options"]),n=Object.assign(Object.assign({},s),t);return"newEmail"in s&&(n.new_email=s==null?void 0:s.newEmail,delete n.newEmail),await T(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Qo,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(S(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await T(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Oe})}catch(t){if(S(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,s,n,i,o,a,c;try{const u={nextPage:null,lastPage:0,total:0},l=await T(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&s!==void 0?s:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Yo});if(l.error)throw l.error;const d=await l.json(),f=(o=l.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(a=l.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(g.split(";")[1].split("=")[1]);u[`${b}Page`]=m}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(S(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await T(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Oe})}catch(t){if(S(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await T(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Oe})}catch(s){if(S(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,t=!1){try{return await T(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Oe})}catch(s){if(S(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){try{const{data:t,error:s}=await T(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:t,error:s}}catch(t){if(S(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await T(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(S(t))return{data:null,error:t};throw t}}}const ra={getItem:r=>ot()?globalThis.localStorage.getItem(r):null,setItem:(r,e)=>{ot()&&globalThis.localStorage.setItem(r,e)},removeItem:r=>{ot()&&globalThis.localStorage.removeItem(r)}};function ms(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}function sa(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Be={debug:!!(globalThis&&ot()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class cn extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class na extends cn{}async function ia(r,e,t){Be.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Be.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async n=>{if(n){Be.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,n.name);try{return await t()}finally{Be.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,n.name)}}else{if(e===0)throw Be.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new na(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(Be.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}})}sa();const oa={url:ko,storageKey:Ao,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Po,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Ze=30*1e3,ys=3;async function bs(r,e,t){return await t()}class at{constructor(e){var t,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=at.nextInstanceID,at.nextInstanceID+=1,this.instanceID>0&&ne()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},oa),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new ta({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=nn(n.fetch),this.lock=n.lock||bs,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:ne()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=ia:this.lock=bs,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:ot()?this.storage=ra:(this.memoryStorage={},this.storage=ms(this.memoryStorage)):(this.memoryStorage={},this.storage=ms(this.memoryStorage)),ne()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${rn}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=ne()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:t,error:s}=await this._getSessionFromURL(e);if(s)return this._debug("#_initialize()","error detecting session from URL",s),(s==null?void 0:s.message)==="Identity is already linked"||(s==null?void 0:s.message)==="Identity is already linked to another user"?{error:s}:(await this._removeSession(),{error:s});const{session:n,redirectType:i}=t;return this._debug("#_initialize()","detected session in URL",n,"redirect type",i),await this._saveSession(n),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",n):await this._notifyAllSubscribers("SIGNED_IN",n)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return S(e)?{error:e}:{error:new an("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,s,n;try{await this._removeSession();const i=await T(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:xe}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(S(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var t,s,n;try{await this._removeSession();let i;if("email"in e){const{email:l,password:d,options:f}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Fe(this.storage,this.storageKey)),i=await T(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:l,password:d,data:(t=f==null?void 0:f.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:g},xform:xe})}else if("phone"in e){const{phone:l,password:d,options:f}=e;i=await T(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:l,password:d,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},channel:(n=f==null?void 0:f.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:xe})}else throw new bt("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(S(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{await this._removeSession();let t;if("email"in e){const{email:i,password:o,options:a}=e;t=await T(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:gs})}else if("phone"in e){const{phone:i,password:o,options:a}=e;t=await T(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:gs})}else throw new bt("You must provide either an email or phone number and a password");const{data:s,error:n}=t;return n?{data:{user:null,session:null},error:n}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Zt}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:n})}catch(t){if(S(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,s,n,i;return await this._removeSession(),await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await yt(this.storage,`${this.storageKey}-code-verifier`),[s,n]=(t??"").split("/"),{data:i,error:o}=await T(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:xe});return await Yt(this.storage,`${this.storageKey}-code-verifier`),o?{data:{user:null,session:null,redirectType:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Zt}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}async signInWithIdToken(e){await this._removeSession();try{const{options:t,provider:s,token:n,access_token:i,nonce:o}=e,a=await T(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:xe}),{data:c,error:u}=a;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Zt}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(t){if(S(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,s,n,i,o;try{if(await this._removeSession(),"email"in e){const{email:a,options:c}=e;let u=null,l=null;this.flowType==="pkce"&&([u,l]=await Fe(this.storage,this.storageKey));const{error:d}=await T(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(t=c==null?void 0:c.data)!==null&&t!==void 0?t:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:l},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:c}=e,{data:u,error:l}=await T(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:l}}throw new bt("You must provide either an email or phone number.")}catch(a){if(S(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var t,s;try{e.type!=="email_change"&&e.type!=="phone_change"&&await this._removeSession();let n,i;"options"in e&&(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo,i=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:a}=await T(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:xe});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(n){if(S(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var t,s,n;try{await this._removeSession();let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Fe(this.storage,this.storageKey)),await T(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&s!==void 0?s:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Xo})}catch(i){if(S(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:s}=e;if(s)throw s;if(!t)throw new Ce;const{error:n}=await T(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(S(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{e.type!="email_change"&&e.type!="phone_change"&&await this._removeSession();const t=`${this.url}/resend`;if("email"in e){const{email:s,type:n,options:i}=e,{error:o}=await T(this.fetch,"POST",t,{headers:this.headers,body:{email:s,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:s,type:n,options:i}=e,{data:o,error:a}=await T(this.fetch,"POST",t,{headers:this.headers,body:{phone:s,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new bt("You must provide either an email or phone number and a type")}catch(t){if(S(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await s,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=t();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await yt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.storage.isServer){const o=this.suppressGetSessionWarning;e=new Proxy(e,{get(c,u,l){return!o&&u==="user"&&console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),Reflect.get(c,u,l)}})}return{data:{session:e},error:null}}const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await T(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Oe}):await this._useSession(async t=>{var s,n,i;const{data:o,error:a}=t;if(a)throw a;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ce}:await T(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:Oe})})}catch(t){if(S(t))return{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async s=>{const{data:n,error:i}=s;if(i)throw i;if(!n.session)throw new Ce;const o=n.session;let a=null,c=null;this.flowType==="pkce"&&e.email!=null&&([a,c]=await Fe(this.storage,this.storageKey));const{data:u,error:l}=await T(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:c}),jwt:o.access_token,xform:Oe});if(l)throw l;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(S(s))return{data:{user:null},error:s};throw s}}_decodeJWT(e){return ds(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ce;const t=Date.now()/1e3;let s=t,n=!0,i=null;const o=ds(e.access_token);if(o.exp&&(s=o.exp,n=s<=t),n){const{session:a,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:s-t,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(S(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var s;if(!e){const{data:o,error:a}=t;if(a)throw a;e=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new Ce;const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(S(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e){try{if(!ne())throw new _t("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new _t("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new hs("Not a valid PKCE flow url.");const t=Qt(window.location.href);if(e){if(!t.code)throw new hs("No code detected.");const{data:x,error:_}=await this._exchangeCodeForSession(t.code);if(_)throw _;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:x.session,redirectType:null},error:null}}if(t.error||t.error_description||t.error_code)throw new _t(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});const{provider_token:s,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:c,token_type:u}=t;if(!i||!a||!o||!u)throw new _t("No session defined in URL");const l=Math.round(Date.now()/1e3),d=parseInt(a);let f=l+d;c&&(f=parseInt(c));const p=f-l;p*1e3<=Ze&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const g=f-d;l-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,l):l-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",g,f,l);const{data:m,error:b}=await this._getUser(i);if(b)throw b;const y={provider_token:s,provider_refresh_token:n,access_token:i,expires_in:d,expires_at:f,refresh_token:o,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(t){if(S(t))return{data:{session:null,redirectType:null},error:t};throw t}}_isImplicitGrantFlow(){const e=Qt(window.location.href);return!!(ne()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=Qt(window.location.href),t=await yt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var s;const{data:n,error:i}=t;if(i)return{error:i};const o=(s=n.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Ho(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Yt(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(e){const t=jo(),s={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async t=>{var s,n;try{const{data:{session:i},error:o}=t;if(o)throw o;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,t={}){let s=null,n=null;this.flowType==="pkce"&&([s,n]=await Fe(this.storage,this.storageKey,!0));try{return await T(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:n,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(S(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:t,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(S(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:s,error:n}=await this._useSession(async i=>{var o,a,c,u,l;const{data:d,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await T(this.fetch,"GET",p,{headers:this.headers,jwt:(l=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&l!==void 0?l:void 0})});if(n)throw n;return ne()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:e.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(S(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var s,n;const{data:i,error:o}=t;if(o)throw o;return await T(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&n!==void 0?n:void 0})})}catch(t){if(S(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const s=Date.now();return await Do(async n=>(n>0&&await $o(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await T(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:xe})),(n,i)=>{const o=200*Math.pow(2,n);return i&&er(i)&&Date.now()+o-s<Ze})}catch(s){if(this._debug(t,"error",s),S(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",s),ne()&&!t.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const s=await yt(this.storage,this.storageKey);if(this._debug(t,"session from storage",s),!this._isValidSession(s)){this._debug(t,"session is not valid"),s!==null&&await this._removeSession();return}const n=Math.round(Date.now()/1e3),i=((e=s.expires_at)!==null&&e!==void 0?e:1/0)<n+us;if(this._debug(t,`session has${i?"":" not"} expired with margin of ${us}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),er(o)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(t,"error",s),console.error(s);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,s;if(!e)throw new Ce;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Nt;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Ce;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),S(i)){const o={session:null,error:i};return er(i)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,t,s=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",t,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:t});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,t)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await on(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Yt(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ne()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ze);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:s}}=t;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((s.expires_at*1e3-e)/Ze);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${Ze}ms, refresh threshold is ${ys} ticks`),n<=ys&&await this._callRefreshToken(s.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof cn)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ne()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,s){const n=[`provider=${encodeURIComponent(t)}`];if(s!=null&&s.redirectTo&&n.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&n.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await Fe(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);n.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&n.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var s;const{data:n,error:i}=t;return i?{data:null,error:i}:await T(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(S(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var s,n;const{data:i,error:o}=t;if(o)return{data:null,error:o};const{data:a,error:c}=await T(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return c?{data:null,error:c}:(!((n=a==null?void 0:a.totp)===null||n===void 0)&&n.qr_code&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(t){if(S(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:n,error:i}=t;if(i)return{data:null,error:i};const{data:o,error:a}=await T(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(t){if(S(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:n,error:i}=t;return i?{data:null,error:i}:await T(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(S(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const s=(e==null?void 0:e.factors)||[],n=s.filter(i=>i.factor_type==="totp"&&i.status==="verified");return{data:{all:s,totp:n},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,s;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(n.access_token);let a=null;o.aal&&(a=o.aal);let c=a;((s=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(c="aal2");const l=o.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:l},error:null}}))}}at.nextInstanceID=0;const aa=at;class ca extends aa{constructor(e){super(e)}}var la=globalThis&&globalThis.__awaiter||function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(s.next(l))}catch(d){o(d)}}function c(l){try{u(s.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):n(l.value).then(a,c)}u((s=s.apply(r,e||[])).next())})};class ua{constructor(e,t,s){var n,i,o;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const a=Ro(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:_o,realtime:vo,auth:Object.assign(Object.assign({},wo),{storageKey:c}),global:bo},l=Oo(s??{},u);this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},this.auth=this._initSupabaseAuthClient((o=l.auth)!==null&&o!==void 0?o:{},this.headers,l.global.fetch),this.fetch=xo(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},l.realtime)),this.rest=new Mi(`${a}/rest/v1`,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new yi(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new go(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},s={}){return this.rest.rpc(e,t,s)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return la(this,void 0,void 0,function*(){const{data:s}=yield this.auth.getSession();return(t=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:n,storageKey:i,flowType:o,debug:a},c,u){var l;const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ca({url:this.authUrl,headers:Object.assign(Object.assign({},d),c),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:n,flowType:o,debug:a,fetch:u,hasCustomAuthorizationHeader:(l="Authorization"in this.headers)!==null&&l!==void 0?l:!1})}_initRealtimeClient(e){return new to(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,s)=>{this._handleTokenChanged(t,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(e,t,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.realtime.setAuth(s??null),this.changedAccessToken=s):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const da=(r,e,t)=>new ua(r,e,t),ha="https://wmxsydjoemtxbbnvhbhs.supabase.co",fa="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndteHN5ZGpvZW10eGJibnZoYmhzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjAwNzI5NjEsImV4cCI6MjAzNTY0ODk2MX0.Pc5IFeOlruilXNcHyNMR3MvMZmB9dq2wv4tLPX-VbKQ",pa=da(ha,fa,{auth:{flowType:"implicit"}});function ln(r,e){return function(){return r.apply(e,arguments)}}const{toString:ga}=Object.prototype,{getPrototypeOf:Nr}=Object,Ut=(r=>e=>{const t=ga.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),le=r=>(r=r.toLowerCase(),e=>Ut(e)===r),Ft=r=>e=>typeof e===r,{isArray:Je}=Array,ct=Ft("undefined");function ma(r){return r!==null&&!ct(r)&&r.constructor!==null&&!ct(r.constructor)&&ee(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const un=le("ArrayBuffer");function ya(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&un(r.buffer),e}const ba=Ft("string"),ee=Ft("function"),dn=Ft("number"),Bt=r=>r!==null&&typeof r=="object",_a=r=>r===!0||r===!1,St=r=>{if(Ut(r)!=="object")return!1;const e=Nr(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},wa=le("Date"),va=le("File"),Ea=le("Blob"),Sa=le("FileList"),Ta=r=>Bt(r)&&ee(r.pipe),xa=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||ee(r.append)&&((e=Ut(r))==="formdata"||e==="object"&&ee(r.toString)&&r.toString()==="[object FormData]"))},Ra=le("URLSearchParams"),[Oa,ka,Aa,Pa]=["ReadableStream","Request","Response","Headers"].map(le),Ca=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ht(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let s,n;if(typeof r!="object"&&(r=[r]),Je(r))for(s=0,n=r.length;s<n;s++)e.call(null,r[s],s,r);else{const i=t?Object.getOwnPropertyNames(r):Object.keys(r),o=i.length;let a;for(s=0;s<o;s++)a=i[s],e.call(null,r[a],a,r)}}function hn(r,e){e=e.toLowerCase();const t=Object.keys(r);let s=t.length,n;for(;s-- >0;)if(n=t[s],e===n.toLowerCase())return n;return null}const fn=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),pn=r=>!ct(r)&&r!==fn;function mr(){const{caseless:r}=pn(this)&&this||{},e={},t=(s,n)=>{const i=r&&hn(e,n)||n;St(e[i])&&St(s)?e[i]=mr(e[i],s):St(s)?e[i]=mr({},s):Je(s)?e[i]=s.slice():e[i]=s};for(let s=0,n=arguments.length;s<n;s++)arguments[s]&&ht(arguments[s],t);return e}const ja=(r,e,t,{allOwnKeys:s}={})=>(ht(e,(n,i)=>{t&&ee(n)?r[i]=ln(n,t):r[i]=n},{allOwnKeys:s}),r),Ia=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),La=(r,e,t,s)=>{r.prototype=Object.create(e.prototype,s),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},$a=(r,e,t,s)=>{let n,i,o;const a={};if(e=e||{},r==null)return e;do{for(n=Object.getOwnPropertyNames(r),i=n.length;i-- >0;)o=n[i],(!s||s(o,r,e))&&!a[o]&&(e[o]=r[o],a[o]=!0);r=t!==!1&&Nr(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},Da=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const s=r.indexOf(e,t);return s!==-1&&s===t},Na=r=>{if(!r)return null;if(Je(r))return r;let e=r.length;if(!dn(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},Ua=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&Nr(Uint8Array)),Fa=(r,e)=>{const s=(r&&r[Symbol.iterator]).call(r);let n;for(;(n=s.next())&&!n.done;){const i=n.value;e.call(r,i[0],i[1])}},Ba=(r,e)=>{let t;const s=[];for(;(t=r.exec(e))!==null;)s.push(t);return s},Ma=le("HTMLFormElement"),za=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,s,n){return s.toUpperCase()+n}),_s=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),qa=le("RegExp"),gn=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),s={};ht(t,(n,i)=>{let o;(o=e(n,i,r))!==!1&&(s[i]=o||n)}),Object.defineProperties(r,s)},Va=r=>{gn(r,(e,t)=>{if(ee(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const s=r[t];if(ee(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Ha=(r,e)=>{const t={},s=n=>{n.forEach(i=>{t[i]=!0})};return Je(r)?s(r):s(String(r).split(e)),t},Ja=()=>{},Wa=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e,tr="abcdefghijklmnopqrstuvwxyz",ws="0123456789",mn={DIGIT:ws,ALPHA:tr,ALPHA_DIGIT:tr+tr.toUpperCase()+ws},Ga=(r=16,e=mn.ALPHA_DIGIT)=>{let t="";const{length:s}=e;for(;r--;)t+=e[Math.random()*s|0];return t};function Ka(r){return!!(r&&ee(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator])}const Xa=r=>{const e=new Array(10),t=(s,n)=>{if(Bt(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[n]=s;const i=Je(s)?[]:{};return ht(s,(o,a)=>{const c=t(o,n+1);!ct(c)&&(i[a]=c)}),e[n]=void 0,i}}return s};return t(r,0)},Qa=le("AsyncFunction"),Ya=r=>r&&(Bt(r)||ee(r))&&ee(r.then)&&ee(r.catch),h={isArray:Je,isArrayBuffer:un,isBuffer:ma,isFormData:xa,isArrayBufferView:ya,isString:ba,isNumber:dn,isBoolean:_a,isObject:Bt,isPlainObject:St,isReadableStream:Oa,isRequest:ka,isResponse:Aa,isHeaders:Pa,isUndefined:ct,isDate:wa,isFile:va,isBlob:Ea,isRegExp:qa,isFunction:ee,isStream:Ta,isURLSearchParams:Ra,isTypedArray:Ua,isFileList:Sa,forEach:ht,merge:mr,extend:ja,trim:Ca,stripBOM:Ia,inherits:La,toFlatObject:$a,kindOf:Ut,kindOfTest:le,endsWith:Da,toArray:Na,forEachEntry:Fa,matchAll:Ba,isHTMLForm:Ma,hasOwnProperty:_s,hasOwnProp:_s,reduceDescriptors:gn,freezeMethods:Va,toObjectSet:Ha,toCamelCase:za,noop:Ja,toFiniteNumber:Wa,findKey:hn,global:fn,isContextDefined:pn,ALPHABET:mn,generateString:Ga,isSpecCompliantForm:Ka,toJSONObject:Xa,isAsyncFn:Qa,isThenable:Ya};function w(r,e,t,s,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),s&&(this.request=s),n&&(this.response=n)}h.inherits(w,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:h.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const yn=w.prototype,bn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{bn[r]={value:r}});Object.defineProperties(w,bn);Object.defineProperty(yn,"isAxiosError",{value:!0});w.from=(r,e,t,s,n,i)=>{const o=Object.create(yn);return h.toFlatObject(r,o,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),w.call(o,r.message,e,t,s,n),o.cause=r,o.name=r.name,i&&Object.assign(o,i),o};const Za=null;function yr(r){return h.isPlainObject(r)||h.isArray(r)}function _n(r){return h.endsWith(r,"[]")?r.slice(0,-2):r}function vs(r,e,t){return r?r.concat(e).map(function(n,i){return n=_n(n),!t&&i?"["+n+"]":n}).join(t?".":""):e}function ec(r){return h.isArray(r)&&!r.some(yr)}const tc=h.toFlatObject(h,{},null,function(e){return/^is[A-Z]/.test(e)});function Mt(r,e,t){if(!h.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=h.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,b){return!h.isUndefined(b[m])});const s=t.metaTokens,n=t.visitor||l,i=t.dots,o=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&h.isSpecCompliantForm(e);if(!h.isFunction(n))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(h.isDate(g))return g.toISOString();if(!c&&h.isBlob(g))throw new w("Blob is not supported. Use a Buffer instead.");return h.isArrayBuffer(g)||h.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function l(g,m,b){let y=g;if(g&&!b&&typeof g=="object"){if(h.endsWith(m,"{}"))m=s?m:m.slice(0,-2),g=JSON.stringify(g);else if(h.isArray(g)&&ec(g)||(h.isFileList(g)||h.endsWith(m,"[]"))&&(y=h.toArray(g)))return m=_n(m),y.forEach(function(_,A){!(h.isUndefined(_)||_===null)&&e.append(o===!0?vs([m],A,i):o===null?m:m+"[]",u(_))}),!1}return yr(g)?!0:(e.append(vs(b,m,i),u(g)),!1)}const d=[],f=Object.assign(tc,{defaultVisitor:l,convertValue:u,isVisitable:yr});function p(g,m){if(!h.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(g),h.forEach(g,function(y,x){(!(h.isUndefined(y)||y===null)&&n.call(e,y,h.isString(x)?x.trim():x,m,f))===!0&&p(y,m?m.concat(x):[x])}),d.pop()}}if(!h.isObject(r))throw new TypeError("data must be an object");return p(r),e}function Es(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Ur(r,e){this._pairs=[],r&&Mt(r,this,e)}const wn=Ur.prototype;wn.append=function(e,t){this._pairs.push([e,t])};wn.toString=function(e){const t=e?function(s){return e.call(this,s,Es)}:Es;return this._pairs.map(function(n){return t(n[0])+"="+t(n[1])},"").join("&")};function rc(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function vn(r,e,t){if(!e)return r;const s=t&&t.encode||rc,n=t&&t.serialize;let i;if(n?i=n(e,t):i=h.isURLSearchParams(e)?e.toString():new Ur(e,t).toString(s),i){const o=r.indexOf("#");o!==-1&&(r=r.slice(0,o)),r+=(r.indexOf("?")===-1?"?":"&")+i}return r}class sc{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){h.forEach(this.handlers,function(s){s!==null&&e(s)})}}const Ss=sc,En={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},nc=typeof URLSearchParams<"u"?URLSearchParams:Ur,ic=typeof FormData<"u"?FormData:null,oc=typeof Blob<"u"?Blob:null,ac={isBrowser:!0,classes:{URLSearchParams:nc,FormData:ic,Blob:oc},protocols:["http","https","file","blob","url","data"]},Fr=typeof window<"u"&&typeof document<"u",cc=(r=>Fr&&["ReactNative","NativeScript","NS"].indexOf(r)<0)(typeof navigator<"u"&&navigator.product),lc=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),uc=Fr&&window.location.href||"http://localhost",dc=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Fr,hasStandardBrowserEnv:cc,hasStandardBrowserWebWorkerEnv:lc,origin:uc},Symbol.toStringTag,{value:"Module"})),ae={...dc,...ac};function hc(r,e){return Mt(r,new ae.classes.URLSearchParams,Object.assign({visitor:function(t,s,n,i){return ae.isNode&&h.isBuffer(t)?(this.append(s,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function fc(r){return h.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function pc(r){const e={},t=Object.keys(r);let s;const n=t.length;let i;for(s=0;s<n;s++)i=t[s],e[i]=r[i];return e}function Sn(r){function e(t,s,n,i){let o=t[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),c=i>=t.length;return o=!o&&h.isArray(n)?n.length:o,c?(h.hasOwnProp(n,o)?n[o]=[n[o],s]:n[o]=s,!a):((!n[o]||!h.isObject(n[o]))&&(n[o]=[]),e(t,s,n[o],i)&&h.isArray(n[o])&&(n[o]=pc(n[o])),!a)}if(h.isFormData(r)&&h.isFunction(r.entries)){const t={};return h.forEachEntry(r,(s,n)=>{e(fc(s),n,t,0)}),t}return null}function gc(r,e,t){if(h.isString(r))try{return(e||JSON.parse)(r),h.trim(r)}catch(s){if(s.name!=="SyntaxError")throw s}return(t||JSON.stringify)(r)}const Br={transitional:En,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",n=s.indexOf("application/json")>-1,i=h.isObject(e);if(i&&h.isHTMLForm(e)&&(e=new FormData(e)),h.isFormData(e))return n?JSON.stringify(Sn(e)):e;if(h.isArrayBuffer(e)||h.isBuffer(e)||h.isStream(e)||h.isFile(e)||h.isBlob(e)||h.isReadableStream(e))return e;if(h.isArrayBufferView(e))return e.buffer;if(h.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return hc(e,this.formSerializer).toString();if((a=h.isFileList(e))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Mt(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||n?(t.setContentType("application/json",!1),gc(e)):e}],transformResponse:[function(e){const t=this.transitional||Br.transitional,s=t&&t.forcedJSONParsing,n=this.responseType==="json";if(h.isResponse(e)||h.isReadableStream(e))return e;if(e&&h.isString(e)&&(s&&!this.responseType||n)){const o=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?w.from(a,w.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ae.classes.FormData,Blob:ae.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};h.forEach(["delete","get","head","post","put","patch"],r=>{Br.headers[r]={}});const Mr=Br,mc=h.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),yc=r=>{const e={};let t,s,n;return r&&r.split(`
`).forEach(function(o){n=o.indexOf(":"),t=o.substring(0,n).trim().toLowerCase(),s=o.substring(n+1).trim(),!(!t||e[t]&&mc[t])&&(t==="set-cookie"?e[t]?e[t].push(s):e[t]=[s]:e[t]=e[t]?e[t]+", "+s:s)}),e},Ts=Symbol("internals");function et(r){return r&&String(r).trim().toLowerCase()}function Tt(r){return r===!1||r==null?r:h.isArray(r)?r.map(Tt):String(r)}function bc(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=t.exec(r);)e[s[1]]=s[2];return e}const _c=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function rr(r,e,t,s,n){if(h.isFunction(s))return s.call(this,e,t);if(n&&(e=t),!!h.isString(e)){if(h.isString(s))return e.indexOf(s)!==-1;if(h.isRegExp(s))return s.test(e)}}function wc(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}function vc(r,e){const t=h.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(r,s+t,{value:function(n,i,o){return this[s].call(this,e,n,i,o)},configurable:!0})})}class zt{constructor(e){e&&this.set(e)}set(e,t,s){const n=this;function i(a,c,u){const l=et(c);if(!l)throw new Error("header name must be a non-empty string");const d=h.findKey(n,l);(!d||n[d]===void 0||u===!0||u===void 0&&n[d]!==!1)&&(n[d||c]=Tt(a))}const o=(a,c)=>h.forEach(a,(u,l)=>i(u,l,c));if(h.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(h.isString(e)&&(e=e.trim())&&!_c(e))o(yc(e),t);else if(h.isHeaders(e))for(const[a,c]of e.entries())i(c,a,s);else e!=null&&i(t,e,s);return this}get(e,t){if(e=et(e),e){const s=h.findKey(this,e);if(s){const n=this[s];if(!t)return n;if(t===!0)return bc(n);if(h.isFunction(t))return t.call(this,n,s);if(h.isRegExp(t))return t.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=et(e),e){const s=h.findKey(this,e);return!!(s&&this[s]!==void 0&&(!t||rr(this,this[s],s,t)))}return!1}delete(e,t){const s=this;let n=!1;function i(o){if(o=et(o),o){const a=h.findKey(s,o);a&&(!t||rr(s,s[a],a,t))&&(delete s[a],n=!0)}}return h.isArray(e)?e.forEach(i):i(e),n}clear(e){const t=Object.keys(this);let s=t.length,n=!1;for(;s--;){const i=t[s];(!e||rr(this,this[i],i,e,!0))&&(delete this[i],n=!0)}return n}normalize(e){const t=this,s={};return h.forEach(this,(n,i)=>{const o=h.findKey(s,i);if(o){t[o]=Tt(n),delete t[i];return}const a=e?wc(i):String(i).trim();a!==i&&delete t[i],t[a]=Tt(n),s[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return h.forEach(this,(s,n)=>{s!=null&&s!==!1&&(t[n]=e&&h.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach(n=>s.set(n)),s}static accessor(e){const s=(this[Ts]=this[Ts]={accessors:{}}).accessors,n=this.prototype;function i(o){const a=et(o);s[a]||(vc(n,o),s[a]=!0)}return h.isArray(e)?e.forEach(i):i(e),this}}zt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);h.reduceDescriptors(zt.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(s){this[t]=s}}});h.freezeMethods(zt);const ce=zt;function sr(r,e){const t=this||Mr,s=e||t,n=ce.from(s.headers);let i=s.data;return h.forEach(r,function(a){i=a.call(t,i,n.normalize(),e?e.status:void 0)}),n.normalize(),i}function Tn(r){return!!(r&&r.__CANCEL__)}function We(r,e,t){w.call(this,r??"canceled",w.ERR_CANCELED,e,t),this.name="CanceledError"}h.inherits(We,w,{__CANCEL__:!0});function xn(r,e,t){const s=t.config.validateStatus;!t.status||!s||s(t.status)?r(t):e(new w("Request failed with status code "+t.status,[w.ERR_BAD_REQUEST,w.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Ec(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function Sc(r,e){r=r||10;const t=new Array(r),s=new Array(r);let n=0,i=0,o;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),l=s[i];o||(o=u),t[n]=c,s[n]=u;let d=i,f=0;for(;d!==n;)f+=t[d++],d=d%r;if(n=(n+1)%r,n===i&&(i=(i+1)%r),u-o<e)return;const p=l&&u-l;return p?Math.round(f*1e3/p):void 0}}function Tc(r,e){let t=0;const s=1e3/e;let n=null;return function(){const o=this===!0,a=Date.now();if(o||a-t>s)return n&&(clearTimeout(n),n=null),t=a,r.apply(null,arguments);n||(n=setTimeout(()=>(n=null,t=Date.now(),r.apply(null,arguments)),s-(a-t)))}}const kt=(r,e,t=3)=>{let s=0;const n=Sc(50,250);return Tc(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,c=o-s,u=n(c),l=o<=a;s=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&l?(a-o)/u:void 0,event:i,lengthComputable:a!=null};d[e?"download":"upload"]=!0,r(d)},t)},xc=ae.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let s;function n(i){let o=i;return e&&(t.setAttribute("href",o),o=t.href),t.setAttribute("href",o),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return s=n(window.location.href),function(o){const a=h.isString(o)?n(o):o;return a.protocol===s.protocol&&a.host===s.host}}():function(){return function(){return!0}}(),Rc=ae.hasStandardBrowserEnv?{write(r,e,t,s,n,i){const o=[r+"="+encodeURIComponent(e)];h.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),h.isString(s)&&o.push("path="+s),h.isString(n)&&o.push("domain="+n),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Oc(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function kc(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function Rn(r,e){return r&&!Oc(e)?kc(r,e):e}const xs=r=>r instanceof ce?{...r}:r;function $e(r,e){e=e||{};const t={};function s(u,l,d){return h.isPlainObject(u)&&h.isPlainObject(l)?h.merge.call({caseless:d},u,l):h.isPlainObject(l)?h.merge({},l):h.isArray(l)?l.slice():l}function n(u,l,d){if(h.isUndefined(l)){if(!h.isUndefined(u))return s(void 0,u,d)}else return s(u,l,d)}function i(u,l){if(!h.isUndefined(l))return s(void 0,l)}function o(u,l){if(h.isUndefined(l)){if(!h.isUndefined(u))return s(void 0,u)}else return s(void 0,l)}function a(u,l,d){if(d in e)return s(u,l);if(d in r)return s(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,l)=>n(xs(u),xs(l),!0)};return h.forEach(Object.keys(Object.assign({},r,e)),function(l){const d=c[l]||n,f=d(r[l],e[l],l);h.isUndefined(f)&&d!==a||(t[l]=f)}),t}const On=r=>{const e=$e({},r);let{data:t,withXSRFToken:s,xsrfHeaderName:n,xsrfCookieName:i,headers:o,auth:a}=e;e.headers=o=ce.from(o),e.url=vn(Rn(e.baseURL,e.url),r.params,r.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(h.isFormData(t)){if(ae.hasStandardBrowserEnv||ae.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[u,...l]=c?c.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...l].join("; "))}}if(ae.hasStandardBrowserEnv&&(s&&h.isFunction(s)&&(s=s(e)),s||s!==!1&&xc(e.url))){const u=n&&i&&Rc.read(i);u&&o.set(n,u)}return e},Ac=typeof XMLHttpRequest<"u",Pc=Ac&&function(r){return new Promise(function(t,s){const n=On(r);let i=n.data;const o=ce.from(n.headers).normalize();let{responseType:a}=n,c;function u(){n.cancelToken&&n.cancelToken.unsubscribe(c),n.signal&&n.signal.removeEventListener("abort",c)}let l=new XMLHttpRequest;l.open(n.method.toUpperCase(),n.url,!0),l.timeout=n.timeout;function d(){if(!l)return;const p=ce.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders()),m={data:!a||a==="text"||a==="json"?l.responseText:l.response,status:l.status,statusText:l.statusText,headers:p,config:r,request:l};xn(function(y){t(y),u()},function(y){s(y),u()},m),l=null}"onloadend"in l?l.onloadend=d:l.onreadystatechange=function(){!l||l.readyState!==4||l.status===0&&!(l.responseURL&&l.responseURL.indexOf("file:")===0)||setTimeout(d)},l.onabort=function(){l&&(s(new w("Request aborted",w.ECONNABORTED,n,l)),l=null)},l.onerror=function(){s(new w("Network Error",w.ERR_NETWORK,n,l)),l=null},l.ontimeout=function(){let g=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const m=n.transitional||En;n.timeoutErrorMessage&&(g=n.timeoutErrorMessage),s(new w(g,m.clarifyTimeoutError?w.ETIMEDOUT:w.ECONNABORTED,n,l)),l=null},i===void 0&&o.setContentType(null),"setRequestHeader"in l&&h.forEach(o.toJSON(),function(g,m){l.setRequestHeader(m,g)}),h.isUndefined(n.withCredentials)||(l.withCredentials=!!n.withCredentials),a&&a!=="json"&&(l.responseType=n.responseType),typeof n.onDownloadProgress=="function"&&l.addEventListener("progress",kt(n.onDownloadProgress,!0)),typeof n.onUploadProgress=="function"&&l.upload&&l.upload.addEventListener("progress",kt(n.onUploadProgress)),(n.cancelToken||n.signal)&&(c=p=>{l&&(s(!p||p.type?new We(null,r,l):p),l.abort(),l=null)},n.cancelToken&&n.cancelToken.subscribe(c),n.signal&&(n.signal.aborted?c():n.signal.addEventListener("abort",c)));const f=Ec(n.url);if(f&&ae.protocols.indexOf(f)===-1){s(new w("Unsupported protocol "+f+":",w.ERR_BAD_REQUEST,r));return}l.send(i||null)})},Cc=(r,e)=>{let t=new AbortController,s;const n=function(c){if(!s){s=!0,o();const u=c instanceof Error?c:this.reason;t.abort(u instanceof w?u:new We(u instanceof Error?u.message:u))}};let i=e&&setTimeout(()=>{n(new w(`timeout ${e} of ms exceeded`,w.ETIMEDOUT))},e);const o=()=>{r&&(i&&clearTimeout(i),i=null,r.forEach(c=>{c&&(c.removeEventListener?c.removeEventListener("abort",n):c.unsubscribe(n))}),r=null)};r.forEach(c=>c&&c.addEventListener&&c.addEventListener("abort",n));const{signal:a}=t;return a.unsubscribe=o,[a,()=>{i&&clearTimeout(i),i=null}]},jc=Cc,Ic=function*(r,e){let t=r.byteLength;if(!e||t<e){yield r;return}let s=0,n;for(;s<t;)n=s+e,yield r.slice(s,n),s=n},Lc=async function*(r,e,t){for await(const s of r)yield*Ic(ArrayBuffer.isView(s)?s:await t(String(s)),e)},Rs=(r,e,t,s,n)=>{const i=Lc(r,e,n);let o=0;return new ReadableStream({type:"bytes",async pull(a){const{done:c,value:u}=await i.next();if(c){a.close(),s();return}let l=u.byteLength;t&&t(o+=l),a.enqueue(new Uint8Array(u))},cancel(a){return s(a),i.return()}},{highWaterMark:2})},Os=(r,e)=>{const t=r!=null;return s=>setTimeout(()=>e({lengthComputable:t,total:r,loaded:s}))},qt=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",kn=qt&&typeof ReadableStream=="function",br=qt&&(typeof TextEncoder=="function"?(r=>e=>r.encode(e))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),$c=kn&&(()=>{let r=!1;const e=new Request(ae.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!e})(),ks=64*1024,_r=kn&&!!(()=>{try{return h.isReadableStream(new Response("").body)}catch{}})(),At={stream:_r&&(r=>r.body)};qt&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!At[e]&&(At[e]=h.isFunction(r[e])?t=>t[e]():(t,s)=>{throw new w(`Response type '${e}' is not supported`,w.ERR_NOT_SUPPORT,s)})})})(new Response);const Dc=async r=>{if(r==null)return 0;if(h.isBlob(r))return r.size;if(h.isSpecCompliantForm(r))return(await new Request(r).arrayBuffer()).byteLength;if(h.isArrayBufferView(r))return r.byteLength;if(h.isURLSearchParams(r)&&(r=r+""),h.isString(r))return(await br(r)).byteLength},Nc=async(r,e)=>{const t=h.toFiniteNumber(r.getContentLength());return t??Dc(e)},Uc=qt&&(async r=>{let{url:e,method:t,data:s,signal:n,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:c,responseType:u,headers:l,withCredentials:d="same-origin",fetchOptions:f}=On(r);u=u?(u+"").toLowerCase():"text";let[p,g]=n||i||o?jc([n,i],o):[],m,b;const y=()=>{!m&&setTimeout(()=>{p&&p.unsubscribe()}),m=!0};let x;try{if(c&&$c&&t!=="get"&&t!=="head"&&(x=await Nc(l,s))!==0){let I=new Request(e,{method:"POST",body:s,duplex:"half"}),z;h.isFormData(s)&&(z=I.headers.get("content-type"))&&l.setContentType(z),I.body&&(s=Rs(I.body,ks,Os(x,kt(c)),null,br))}h.isString(d)||(d=d?"cors":"omit"),b=new Request(e,{...f,signal:p,method:t.toUpperCase(),headers:l.normalize().toJSON(),body:s,duplex:"half",withCredentials:d});let _=await fetch(b);const A=_r&&(u==="stream"||u==="response");if(_r&&(a||A)){const I={};["status","statusText","headers"].forEach(C=>{I[C]=_[C]});const z=h.toFiniteNumber(_.headers.get("content-length"));_=new Response(Rs(_.body,ks,a&&Os(z,kt(a,!0)),A&&y,br),I)}u=u||"text";let R=await At[h.findKey(At,u)||"text"](_,r);return!A&&y(),g&&g(),await new Promise((I,z)=>{xn(I,z,{data:R,headers:ce.from(_.headers),status:_.status,statusText:_.statusText,config:r,request:b})})}catch(_){throw y(),_&&_.name==="TypeError"&&/fetch/i.test(_.message)?Object.assign(new w("Network Error",w.ERR_NETWORK,r,b),{cause:_.cause||_}):w.from(_,_&&_.code,r,b)}}),wr={http:Za,xhr:Pc,fetch:Uc};h.forEach(wr,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const As=r=>`- ${r}`,Fc=r=>h.isFunction(r)||r===null||r===!1,An={getAdapter:r=>{r=h.isArray(r)?r:[r];const{length:e}=r;let t,s;const n={};for(let i=0;i<e;i++){t=r[i];let o;if(s=t,!Fc(t)&&(s=wr[(o=String(t)).toLowerCase()],s===void 0))throw new w(`Unknown adapter '${o}'`);if(s)break;n[o||"#"+i]=s}if(!s){const i=Object.entries(n).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(As).join(`
`):" "+As(i[0]):"as no adapter specified";throw new w("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:wr};function nr(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new We(null,r)}function Ps(r){return nr(r),r.headers=ce.from(r.headers),r.data=sr.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),An.getAdapter(r.adapter||Mr.adapter)(r).then(function(s){return nr(r),s.data=sr.call(r,r.transformResponse,s),s.headers=ce.from(s.headers),s},function(s){return Tn(s)||(nr(r),s&&s.response&&(s.response.data=sr.call(r,r.transformResponse,s.response),s.response.headers=ce.from(s.response.headers))),Promise.reject(s)})}const Pn="1.7.2",zr={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{zr[r]=function(s){return typeof s===r||"a"+(e<1?"n ":" ")+r}});const Cs={};zr.transitional=function(e,t,s){function n(i,o){return"[Axios v"+Pn+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,a)=>{if(e===!1)throw new w(n(o," has been removed"+(t?" in "+t:"")),w.ERR_DEPRECATED);return t&&!Cs[o]&&(Cs[o]=!0,console.warn(n(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(i,o,a):!0}};function Bc(r,e,t){if(typeof r!="object")throw new w("options must be an object",w.ERR_BAD_OPTION_VALUE);const s=Object.keys(r);let n=s.length;for(;n-- >0;){const i=s[n],o=e[i];if(o){const a=r[i],c=a===void 0||o(a,i,r);if(c!==!0)throw new w("option "+i+" must be "+c,w.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new w("Unknown option "+i,w.ERR_BAD_OPTION)}}const vr={assertOptions:Bc,validators:zr},Ee=vr.validators;class Pt{constructor(e){this.defaults=e,this.interceptors={request:new Ss,response:new Ss}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let n;Error.captureStackTrace?Error.captureStackTrace(n={}):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=$e(this.defaults,t);const{transitional:s,paramsSerializer:n,headers:i}=t;s!==void 0&&vr.assertOptions(s,{silentJSONParsing:Ee.transitional(Ee.boolean),forcedJSONParsing:Ee.transitional(Ee.boolean),clarifyTimeoutError:Ee.transitional(Ee.boolean)},!1),n!=null&&(h.isFunction(n)?t.paramsSerializer={serialize:n}:vr.assertOptions(n,{encode:Ee.function,serialize:Ee.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&h.merge(i.common,i[t.method]);i&&h.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),t.headers=ce.concat(o,i);const a=[];let c=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(t)===!1||(c=c&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let l,d=0,f;if(!c){const g=[Ps.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,u),f=g.length,l=Promise.resolve(t);d<f;)l=l.then(g[d++],g[d++]);return l}f=a.length;let p=t;for(d=0;d<f;){const g=a[d++],m=a[d++];try{p=g(p)}catch(b){m.call(this,b);break}}try{l=Ps.call(this,p)}catch(g){return Promise.reject(g)}for(d=0,f=u.length;d<f;)l=l.then(u[d++],u[d++]);return l}getUri(e){e=$e(this.defaults,e);const t=Rn(e.baseURL,e.url);return vn(t,e.params,e.paramsSerializer)}}h.forEach(["delete","get","head","options"],function(e){Pt.prototype[e]=function(t,s){return this.request($e(s||{},{method:e,url:t,data:(s||{}).data}))}});h.forEach(["post","put","patch"],function(e){function t(s){return function(i,o,a){return this.request($e(a||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Pt.prototype[e]=t(),Pt.prototype[e+"Form"]=t(!0)});const xt=Pt;class qr{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const s=this;this.promise.then(n=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](n);s._listeners=null}),this.promise.then=n=>{let i;const o=new Promise(a=>{s.subscribe(a),i=a}).then(n);return o.cancel=function(){s.unsubscribe(i)},o},e(function(i,o,a){s.reason||(s.reason=new We(i,o,a),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}static source(){let e;return{token:new qr(function(n){e=n}),cancel:e}}}const Mc=qr;function zc(r){return function(t){return r.apply(null,t)}}function qc(r){return h.isObject(r)&&r.isAxiosError===!0}const Er={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Er).forEach(([r,e])=>{Er[e]=r});const Vc=Er;function Cn(r){const e=new xt(r),t=ln(xt.prototype.request,e);return h.extend(t,xt.prototype,e,{allOwnKeys:!0}),h.extend(t,e,null,{allOwnKeys:!0}),t.create=function(n){return Cn($e(r,n))},t}const B=Cn(Mr);B.Axios=xt;B.CanceledError=We;B.CancelToken=Mc;B.isCancel=Tn;B.VERSION=Pn;B.toFormData=Mt;B.AxiosError=w;B.Cancel=B.CanceledError;B.all=function(e){return Promise.all(e)};B.spread=zc;B.isAxiosError=qc;B.mergeConfig=$e;B.AxiosHeaders=ce;B.formToJSON=r=>Sn(h.isHTMLForm(r)?new FormData(r):r);B.getAdapter=An.getAdapter;B.HttpStatusCode=Vc;B.default=B;const Hc=B,Jc="https://ranexplayerserver.onrender.com",Wc="Basic VVNFUjp1c2VyQDMyMUAxMjNAMzIx",jn=Hc.create({baseURL:Jc,headers:{Authorization:Wc}});function Gc(r){typeof r=="string"&&(jn.defaults.headers["X-Auth-Token"]=`Bearer ${r}`)}const Kc=(...r)=>jn.get(...r).then(e=>e.data),Xc=()=>"mediaSession"in navigator,Qc=()=>navigator.mediaSession,js=r=>{Xc()&&(Qc().playbackState=r)};class Yc{constructor(){rs(this,"seek",e=>{this.audioEl.currentTime=e});this.audioEl=new Audio,this.meta={}}attachListener(e,t){this.audioEl.addEventListener(e,t)}load(e){this.audioEl.src=e,this.audioEl.load()}loadAndPlay(e){this.load(e),this.audioEl.play()}play(){this.audioEl.play(),js("playing")}pause(){this.audioEl.pause(),js("paused")}changeVolume(e=0){this.audioEl.volume=e}}const Vt={INITIALIZED:"INITIALIZED",PLAYING:"PLAYING",STOPPED:"STOPPED",PAUSED:"PAUSED"},Ht=ge(Vt.INITIALIZED),Vr=ge(),Zc=ge({id:""}),el=ge([]),tl=ge();ge(!1);const Wu=ge({}),Gu=ge();ge({playerState:Ht,currentSong:Vr,currentPlaylist:Zc,queue:el});const Ge=oi(),pe=new Yc;pe.attachListener("playing",()=>{Ge.set(Ht,()=>Vt.PLAYING)});pe.attachListener("pause",()=>{Ge.set(Ht,()=>Vt.PAUSED)});pe.attachListener("ended",()=>{Ge.set(Ht,()=>Vt.STOPPED)});pe.attachListener("durationchange",()=>{Ge.set(Vr,(r={})=>({...r,meta:{...r.meta||{},duration:pe.audioEl.duration}}))});pe.attachListener("timeupdate",()=>{Ge.set(Vr,(r={})=>({meta:{...r.meta||{},currentTime:pe.audioEl.currentTime}}))});pe.attachListener("onvolumechange",()=>{Ge.set(tl,()=>pe.audioEl.volume)});function In(r){var e,t,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r))for(e=0;e<r.length;e++)r[e]&&(t=In(r[e]))&&(s&&(s+=" "),s+=t);else for(e in r)r[e]&&(s&&(s+=" "),s+=e);return s}function Ln(){for(var r,e,t=0,s="";t<arguments.length;)(r=arguments[t++])&&(e=In(r))&&(s&&(s+=" "),s+=e);return s}const Hr="-";function rl(r){const e=nl(r),{conflictingClassGroups:t,conflictingClassGroupModifiers:s}=r;function n(o){const a=o.split(Hr);return a[0]===""&&a.length!==1&&a.shift(),$n(a,e)||sl(o)}function i(o,a){const c=t[o]||[];return a&&s[o]?[...c,...s[o]]:c}return{getClassGroupId:n,getConflictingClassGroupIds:i}}function $n(r,e){var o;if(r.length===0)return e.classGroupId;const t=r[0],s=e.nextPart.get(t),n=s?$n(r.slice(1),s):void 0;if(n)return n;if(e.validators.length===0)return;const i=r.join(Hr);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId}const Is=/^\[(.+)\]$/;function sl(r){if(Is.test(r)){const e=Is.exec(r)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}}function nl(r){const{theme:e,prefix:t}=r,s={nextPart:new Map,validators:[]};return ol(Object.entries(r.classGroups),t).forEach(([i,o])=>{Sr(o,s,i,e)}),s}function Sr(r,e,t,s){r.forEach(n=>{if(typeof n=="string"){const i=n===""?e:Ls(e,n);i.classGroupId=t;return}if(typeof n=="function"){if(il(n)){Sr(n(s),e,t,s);return}e.validators.push({validator:n,classGroupId:t});return}Object.entries(n).forEach(([i,o])=>{Sr(o,Ls(e,i),t,s)})})}function Ls(r,e){let t=r;return e.split(Hr).forEach(s=>{t.nextPart.has(s)||t.nextPart.set(s,{nextPart:new Map,validators:[]}),t=t.nextPart.get(s)}),t}function il(r){return r.isThemeGetter}function ol(r,e){return e?r.map(([t,s])=>{const n=s.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[t,n]}):r}function al(r){if(r<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,s=new Map;function n(i,o){t.set(i,o),e++,e>r&&(e=0,s=t,t=new Map)}return{get(i){let o=t.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return n(i,o),o},set(i,o){t.has(i)?t.set(i,o):n(i,o)}}}const Dn="!";function cl(r){const{separator:e,experimentalParseClassName:t}=r,s=e.length===1,n=e[0],i=e.length;function o(a){const c=[];let u=0,l=0,d;for(let b=0;b<a.length;b++){let y=a[b];if(u===0){if(y===n&&(s||a.slice(b,b+i)===e)){c.push(a.slice(l,b)),l=b+i;continue}if(y==="/"){d=b;continue}}y==="["?u++:y==="]"&&u--}const f=c.length===0?a:a.substring(l),p=f.startsWith(Dn),g=p?f.substring(1):f,m=d&&d>l?d-l:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}}return t?function(c){return t({className:c,parseClassName:o})}:o}function ll(r){if(r.length<=1)return r;const e=[];let t=[];return r.forEach(s=>{s[0]==="["?(e.push(...t.sort(),s),t=[]):t.push(s)}),e.push(...t.sort()),e}function ul(r){return{cache:al(r.cacheSize),parseClassName:cl(r),...rl(r)}}const dl=/\s+/;function hl(r,e){const{parseClassName:t,getClassGroupId:s,getConflictingClassGroupIds:n}=e,i=new Set;return r.trim().split(dl).map(o=>{const{modifiers:a,hasImportantModifier:c,baseClassName:u,maybePostfixModifierPosition:l}=t(o);let d=!!l,f=s(d?u.substring(0,l):u);if(!f){if(!d)return{isTailwindClass:!1,originalClassName:o};if(f=s(u),!f)return{isTailwindClass:!1,originalClassName:o};d=!1}const p=ll(a).join(":");return{isTailwindClass:!0,modifierId:c?p+Dn:p,classGroupId:f,originalClassName:o,hasPostfixModifier:d}}).reverse().filter(o=>{if(!o.isTailwindClass)return!0;const{modifierId:a,classGroupId:c,hasPostfixModifier:u}=o,l=a+c;return i.has(l)?!1:(i.add(l),n(c,u).forEach(d=>i.add(a+d)),!0)}).reverse().map(o=>o.originalClassName).join(" ")}function fl(){let r=0,e,t,s="";for(;r<arguments.length;)(e=arguments[r++])&&(t=Nn(e))&&(s&&(s+=" "),s+=t);return s}function Nn(r){if(typeof r=="string")return r;let e,t="";for(let s=0;s<r.length;s++)r[s]&&(e=Nn(r[s]))&&(t&&(t+=" "),t+=e);return t}function pl(r,...e){let t,s,n,i=o;function o(c){const u=e.reduce((l,d)=>d(l),r());return t=ul(u),s=t.cache.get,n=t.cache.set,i=a,a(c)}function a(c){const u=s(c);if(u)return u;const l=hl(c,t);return n(c,l),l}return function(){return i(fl.apply(null,arguments))}}function D(r){const e=t=>t[r]||[];return e.isThemeGetter=!0,e}const Un=/^\[(?:([a-z-]+):)?(.+)\]$/i,gl=/^\d+\/\d+$/,ml=new Set(["px","full","screen"]),yl=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,bl=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_l=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,wl=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,vl=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function be(r){return Le(r)||ml.has(r)||gl.test(r)}function Se(r){return Ke(r,"length",Al)}function Le(r){return!!r&&!Number.isNaN(Number(r))}function wt(r){return Ke(r,"number",Le)}function tt(r){return!!r&&Number.isInteger(Number(r))}function El(r){return r.endsWith("%")&&Le(r.slice(0,-1))}function v(r){return Un.test(r)}function Te(r){return yl.test(r)}const Sl=new Set(["length","size","percentage"]);function Tl(r){return Ke(r,Sl,Fn)}function xl(r){return Ke(r,"position",Fn)}const Rl=new Set(["image","url"]);function Ol(r){return Ke(r,Rl,Cl)}function kl(r){return Ke(r,"",Pl)}function rt(){return!0}function Ke(r,e,t){const s=Un.exec(r);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):t(s[2]):!1}function Al(r){return bl.test(r)&&!_l.test(r)}function Fn(){return!1}function Pl(r){return wl.test(r)}function Cl(r){return vl.test(r)}function jl(){const r=D("colors"),e=D("spacing"),t=D("blur"),s=D("brightness"),n=D("borderColor"),i=D("borderRadius"),o=D("borderSpacing"),a=D("borderWidth"),c=D("contrast"),u=D("grayscale"),l=D("hueRotate"),d=D("invert"),f=D("gap"),p=D("gradientColorStops"),g=D("gradientColorStopPositions"),m=D("inset"),b=D("margin"),y=D("opacity"),x=D("padding"),_=D("saturate"),A=D("scale"),R=D("sepia"),I=D("skew"),z=D("space"),C=D("translate"),ue=()=>["auto","contain","none"],G=()=>["auto","hidden","clip","visible","scroll"],de=()=>["auto",v,e],O=()=>[v,e],K=()=>["",be,Se],re=()=>["auto",Le,v],ft=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Ae=()=>["solid","dashed","dotted","double","none"],Xe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],he=()=>["start","end","center","between","around","evenly","stretch"],ve=()=>["","0",v],pt=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[Le,wt],se=()=>[Le,v];return{cacheSize:500,separator:":",theme:{colors:[rt],spacing:[be,Se],blur:["none","",Te,v],brightness:Q(),borderColor:[r],borderRadius:["none","","full",Te,v],borderSpacing:O(),borderWidth:K(),contrast:Q(),grayscale:ve(),hueRotate:se(),invert:ve(),gap:O(),gradientColorStops:[r],gradientColorStopPositions:[El,Se],inset:de(),margin:de(),opacity:Q(),padding:O(),saturate:Q(),scale:Q(),sepia:ve(),skew:se(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",v]}],container:["container"],columns:[{columns:[Te]}],"break-after":[{"break-after":pt()}],"break-before":[{"break-before":pt()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ft(),v]}],overflow:[{overflow:G()}],"overflow-x":[{"overflow-x":G()}],"overflow-y":[{"overflow-y":G()}],overscroll:[{overscroll:ue()}],"overscroll-x":[{"overscroll-x":ue()}],"overscroll-y":[{"overscroll-y":ue()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",tt,v]}],basis:[{basis:de()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",v]}],grow:[{grow:ve()}],shrink:[{shrink:ve()}],order:[{order:["first","last","none",tt,v]}],"grid-cols":[{"grid-cols":[rt]}],"col-start-end":[{col:["auto",{span:["full",tt,v]},v]}],"col-start":[{"col-start":re()}],"col-end":[{"col-end":re()}],"grid-rows":[{"grid-rows":[rt]}],"row-start-end":[{row:["auto",{span:[tt,v]},v]}],"row-start":[{"row-start":re()}],"row-end":[{"row-end":re()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",v]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",v]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...he()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...he(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...he(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[z]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[z]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",v,e]}],"min-w":[{"min-w":[v,e,"min","max","fit"]}],"max-w":[{"max-w":[v,e,"none","full","min","max","fit","prose",{screen:[Te]},Te]}],h:[{h:[v,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[v,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[v,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[v,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Te,Se]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",wt]}],"font-family":[{font:[rt]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",v]}],"line-clamp":[{"line-clamp":["none",Le,wt]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",be,v]}],"list-image":[{"list-image":["none",v]}],"list-style-type":[{list:["none","disc","decimal",v]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[r]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[r]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ae(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",be,Se]}],"underline-offset":[{"underline-offset":["auto",be,v]}],"text-decoration-color":[{decoration:[r]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",v]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",v]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ft(),xl]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Tl]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Ol]}],"bg-color":[{bg:[r]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...Ae(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:Ae()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...Ae()]}],"outline-offset":[{"outline-offset":[be,v]}],"outline-w":[{outline:[be,Se]}],"outline-color":[{outline:[r]}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[r]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[be,Se]}],"ring-offset-color":[{"ring-offset":[r]}],shadow:[{shadow:["","inner","none",Te,kl]}],"shadow-color":[{shadow:[rt]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...Xe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Xe()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Te,v]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[l]}],invert:[{invert:[d]}],saturate:[{saturate:[_]}],sepia:[{sepia:[R]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[l]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[R]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",v]}],duration:[{duration:se()}],ease:[{ease:["linear","in","out","in-out",v]}],delay:[{delay:se()}],animate:[{animate:["none","spin","ping","pulse","bounce",v]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[tt,v]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[I]}],"skew-y":[{"skew-y":[I]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",v]}],accent:[{accent:["auto",r]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",v]}],"caret-color":[{caret:[r]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",v]}],fill:[{fill:[r,"none"]}],"stroke-w":[{stroke:[be,Se,wt]}],stroke:[{stroke:[r,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}const Il=pl(jl);function Ll(...r){return Il(Ln(...r))}const $s=r=>typeof r=="boolean"?"".concat(r):r===0?"0":r,Ds=Ln,$l=(r,e)=>t=>{var s;if((e==null?void 0:e.variants)==null)return Ds(r,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:n,defaultVariants:i}=e,o=Object.keys(n).map(u=>{const l=t==null?void 0:t[u],d=i==null?void 0:i[u];if(l===null)return null;const f=$s(l)||$s(d);return n[u][f]}),a=t&&Object.entries(t).reduce((u,l)=>{let[d,f]=l;return f===void 0||(u[d]=f),u},{}),c=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((u,l)=>{let{class:d,className:f,...p}=l;return Object.entries(p).every(g=>{let[m,b]=g;return Array.isArray(b)?b.includes({...i,...a}[m]):{...i,...a}[m]===b})?[...u,d,f]:u},[]);return Ds(r,o,c,t==null?void 0:t.class,t==null?void 0:t.className)},Dl=$l("flex items-center justify-center p-2 transition-colors duration-300",{variants:{type:{primary:["text-neutral-100 hover:text-neutral-300 font-bold","hover:bg-red-950 bg-red-900","disabled:bg-gray-400"],secondary:["text-neutral-200","bg-neutral-600 hover:bg-neutral-700"],danger:["text-gray-1","bg-danger-10 hover:bg-danger-11"],outline:["outline-1  outline-double","outline-current hover:outline-2 active:outline-4 focus:outline-4 "],icon:["text-white","hover:text-accent-6 scale-2","data-[active=true]:text-accent-11 hover:data-[active=true]:text-accent-9 font-extrabold"],trasparent:["bg-transparent"]},size:{sm:["h-9"],md:["h-10"],lg:["h-14"]},rounded:{sm:["rounded-sm"],md:["rounded"],lg:["rounded-lg"],xl:["rounded-xl"],full:["rounded-full"]}},defaultVariants:{type:"primary",size:"md",rounded:"md"}}),Nl=({children:r,className:e,type:t,size:s,rounded:n,...i})=>E.jsx("button",{className:Ll(Dl({type:t,size:s,rounded:n}),e),...i,children:r}),Ul=P.memo(Nl),Fl=()=>{const r=ai();return console.error(r),E.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full",children:[E.jsx("h1",{className:"font-extrabold tracking-widest text-9xl text-neutral-400",children:"Something Went Wrong"}),E.jsx(Ul,{onClick:()=>window.location.href="/",children:"Reload"}),E.jsx("p",{children:E.jsx("i",{children:r.statusText||r.message})})]})},Bn=ge(),Ns=W(()=>U(()=>import("./index-709729ce.js"),["assets/index-709729ce.js","assets/index-82304104.js","assets/index-3b856831.css"])),Bl=W(()=>U(()=>import("./index-8b8ef950.js").then(r=>r.i),["assets/index-8b8ef950.js","assets/index-82304104.js","assets/index-3b856831.css","assets/useIsUserLoggedIn-89da5808.js","assets/index-246c74e8.css"])),Ml=W(()=>U(()=>import("./index-65a3e1c3.js"),["assets/index-65a3e1c3.js","assets/index-82304104.js","assets/index-3b856831.css","assets/SignInWithGoogle-6aed7510.js","assets/roundedLogos-841149b6.js","assets/helpers-01b1bc81.js","assets/Input-7b19bfb1.js","assets/useIsUserLoggedIn-89da5808.js"])),Mn=W(()=>U(()=>import("./index-6a5b526a.js"),["assets/index-6a5b526a.js","assets/index-82304104.js","assets/index-3b856831.css"])),zl=W(()=>U(()=>import("./index-229fcdbe.js"),["assets/index-229fcdbe.js","assets/index-82304104.js","assets/index-3b856831.css","assets/react-icons.esm-3af06a16.js"])),ql=W(()=>U(()=>import("./index-2c5df29c.js"),["assets/index-2c5df29c.js","assets/index-82304104.js","assets/index-3b856831.css","assets/MoonLoader-20454075.js","assets/MoonLoader-2f79f929.css","assets/useUserProfile-26d0058b.js","assets/useIsUserLoggedIn-89da5808.js","assets/useUserProfilePic-00e3ed33.js"])),Vl=W(()=>U(()=>import("./AccountSettings-2c4fa628.js"),["assets/AccountSettings-2c4fa628.js","assets/index-82304104.js","assets/index-3b856831.css"])),Hl=W(()=>U(()=>import("./Admin-f94c1f78.js"),["assets/Admin-f94c1f78.js","assets/index-82304104.js","assets/index-3b856831.css","assets/useUserProfile-26d0058b.js","assets/useIsUserLoggedIn-89da5808.js","assets/helpers-01b1bc81.js","assets/index-6a5b526a.js"])),Jl=W(()=>U(()=>import("./CloudIntegrations-f7aea83a.js"),["assets/CloudIntegrations-f7aea83a.js","assets/index-82304104.js","assets/index-3b856831.css"])),Wl=W(()=>U(()=>import("./index-c1c499a4.js"),["assets/index-c1c499a4.js","assets/index-82304104.js","assets/index-3b856831.css","assets/Header-4a5beecb.js","assets/useUserProfilePic-00e3ed33.js","assets/useUserProfile-26d0058b.js","assets/useIsUserLoggedIn-89da5808.js","assets/roundedLogos-841149b6.js","assets/helpers-01b1bc81.js","assets/react-icons.esm-3af06a16.js"])),Us=W(()=>U(()=>import("./ProfileSettings-0effdf4b.js"),["assets/ProfileSettings-0effdf4b.js","assets/index-82304104.js","assets/index-3b856831.css","assets/Input-7b19bfb1.js","assets/useUserProfile-26d0058b.js","assets/useIsUserLoggedIn-89da5808.js","assets/useUserProfilePic-00e3ed33.js"])),Gl=W(()=>U(()=>import("./index-a6eabde2.js"),["assets/index-a6eabde2.js","assets/index-82304104.js","assets/index-3b856831.css","assets/SignInWithGoogle-6aed7510.js","assets/roundedLogos-841149b6.js","assets/helpers-01b1bc81.js","assets/Input-7b19bfb1.js","assets/useIsUserLoggedIn-89da5808.js"])),Kl=W(()=>U(()=>import("./FavoriteList-b54f130e.js"),["assets/FavoriteList-b54f130e.js","assets/index-82304104.js","assets/index-3b856831.css","assets/favoritePlaylist-4cd647fb.js","assets/List-b1248877.js","assets/RandomAlbumArt-1f616e48.js","assets/index-b35c87c3.js","assets/moonAndMusicImages-2741f710.js","assets/helpers-01b1bc81.js","assets/PlaylistCard-8f0e7666.js","assets/react-icons.esm-3af06a16.js"])),Xl=W(()=>U(()=>import("./index-36ea6d15.js"),["assets/index-36ea6d15.js","assets/index-82304104.js","assets/index-3b856831.css"])),Ql=W(()=>U(()=>import("./PlaylistPage-404c4b3b.js"),["assets/PlaylistPage-404c4b3b.js","assets/index-82304104.js","assets/index-3b856831.css","assets/List-b1248877.js","assets/RandomAlbumArt-1f616e48.js","assets/index-b35c87c3.js","assets/moonAndMusicImages-2741f710.js","assets/helpers-01b1bc81.js","assets/PlaylistCard-8f0e7666.js","assets/react-icons.esm-3af06a16.js"]));function Yl(){return E.jsx(P.Suspense,{fallback:E.jsx(qs,{}),children:E.jsxs(ci,{children:[E.jsxs(N,{errorElement:E.jsx(Fl,{}),children:[E.jsxs(N,{Component:Ns,children:[E.jsx(N,{index:!0,Component:Bl}),E.jsx(N,{path:"/now-playing",Component:zl}),E.jsxs(N,{path:"/playlists",children:[E.jsx(N,{index:!0,Component:Xl}),E.jsx(N,{path:":id",Component:Ql}),E.jsx(N,{Component:ir,children:E.jsx(N,{path:"favorites",Component:Kl})})]}),E.jsx(N,{Component:ir,children:E.jsx(N,{path:"/profile",Component:ql})})]}),E.jsx(N,{path:"/login",Component:Ml}),E.jsx(N,{path:"/signup",Component:Gl}),E.jsx(N,{Component:ir,children:E.jsxs(N,{path:"/settings",Component:Wl,children:[E.jsx(N,{index:!0,Component:Us}),E.jsx(N,{path:"profile",Component:Us}),E.jsx(N,{path:"cloudIntegrations",Component:Jl}),E.jsx(N,{path:"account",Component:Vl}),E.jsx(N,{path:"admin",Component:Hl})]})})]}),E.jsx(N,{Component:Ns,children:E.jsx(N,{path:"*",Component:Mn})})]})})}function ir(){return li(Bn)?E.jsx(ui,{}):E.jsx(Mn,{})}var zn={exports:{}},qn={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qe=P;function Zl(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var eu=typeof Object.is=="function"?Object.is:Zl,tu=qe.useState,ru=qe.useEffect,su=qe.useLayoutEffect,nu=qe.useDebugValue;function iu(r,e){var t=e(),s=tu({inst:{value:t,getSnapshot:e}}),n=s[0].inst,i=s[1];return su(function(){n.value=t,n.getSnapshot=e,or(n)&&i({inst:n})},[r,t,e]),ru(function(){return or(n)&&i({inst:n}),r(function(){or(n)&&i({inst:n})})},[r]),nu(t),t}function or(r){var e=r.getSnapshot;r=r.value;try{var t=e();return!eu(r,t)}catch{return!0}}function ou(r,e){return e()}var au=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ou:iu;qn.useSyncExternalStore=qe.useSyncExternalStore!==void 0?qe.useSyncExternalStore:au;zn.exports=qn;var cu=zn.exports;const ke=()=>{},J=ke(),Rt=Object,k=r=>r===J,oe=r=>typeof r=="function",we=(r,e)=>({...r,...e}),lu=r=>oe(r.then),vt=new WeakMap;let uu=0;const lt=r=>{const e=typeof r,t=r&&r.constructor,s=t==Date;let n,i;if(Rt(r)===r&&!s&&t!=RegExp){if(n=vt.get(r),n)return n;if(n=++uu+"~",vt.set(r,n),t==Array){for(n="@",i=0;i<r.length;i++)n+=lt(r[i])+",";vt.set(r,n)}if(t==Rt){n="#";const o=Rt.keys(r).sort();for(;!k(i=o.pop());)k(r[i])||(n+=i+":"+lt(r[i])+",");vt.set(r,n)}}else n=s?r.toJSON():e=="symbol"?r.toString():e=="string"?JSON.stringify(r):""+r;return n},_e=new WeakMap,ar={},Et={},Jr="undefined",Jt=typeof window!=Jr,Tr=typeof document!=Jr,du=()=>Jt&&typeof window.requestAnimationFrame!=Jr,Vn=(r,e)=>{const t=_e.get(r);return[()=>!k(e)&&r.get(e)||ar,s=>{if(!k(e)){const n=r.get(e);e in Et||(Et[e]=n),t[5](e,we(n,s),n||ar)}},t[6],()=>!k(e)&&e in Et?Et[e]:!k(e)&&r.get(e)||ar]};let xr=!0;const hu=()=>xr,[Rr,Or]=Jt&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[ke,ke],fu=()=>{const r=Tr&&document.visibilityState;return k(r)||r!=="hidden"},pu=r=>(Tr&&document.addEventListener("visibilitychange",r),Rr("focus",r),()=>{Tr&&document.removeEventListener("visibilitychange",r),Or("focus",r)}),gu=r=>{const e=()=>{xr=!0,r()},t=()=>{xr=!1};return Rr("online",e),Rr("offline",t),()=>{Or("online",e),Or("offline",t)}},mu={isOnline:hu,isVisible:fu},yu={initFocus:pu,initReconnect:gu},Fs=!Pr.useId,ut=!Jt||"Deno"in window,bu=r=>du()?window.requestAnimationFrame(r):setTimeout(r,1),Ot=ut?P.useEffect:P.useLayoutEffect,cr=typeof navigator<"u"&&navigator.connection,Bs=!ut&&cr&&(["slow-2g","2g"].includes(cr.effectiveType)||cr.saveData),Wr=r=>{if(oe(r))try{r=r()}catch{r=""}const e=r;return r=typeof r=="string"?r:(Array.isArray(r)?r.length:r)?lt(r):"",[r,e]};let _u=0;const kr=()=>++_u,Hn=0,Jn=1,Wn=2,wu=3;var st={__proto__:null,ERROR_REVALIDATE_EVENT:wu,FOCUS_EVENT:Hn,MUTATE_EVENT:Wn,RECONNECT_EVENT:Jn};async function Gn(...r){const[e,t,s,n]=r,i=we({populateCache:!0,throwOnError:!0},typeof n=="boolean"?{revalidate:n}:n||{});let o=i.populateCache;const a=i.rollbackOnError;let c=i.optimisticData;const u=f=>typeof a=="function"?a(f):a!==!1,l=i.throwOnError;if(oe(t)){const f=t,p=[],g=e.keys();for(const m of g)!/^\$(inf|sub)\$/.test(m)&&f(e.get(m)._k)&&p.push(m);return Promise.all(p.map(d))}return d(t);async function d(f){const[p]=Wr(f);if(!p)return;const[g,m]=Vn(e,p),[b,y,x,_]=_e.get(e),A=()=>{const K=b[p];return(oe(i.revalidate)?i.revalidate(g().data,f):i.revalidate!==!1)&&(delete x[p],delete _[p],K&&K[0])?K[0](Wn).then(()=>g().data):g().data};if(r.length<3)return A();let R=s,I;const z=kr();y[p]=[z,0];const C=!k(c),ue=g(),G=ue.data,de=ue._c,O=k(de)?G:de;if(C&&(c=oe(c)?c(O,G):c,m({data:c,_c:O})),oe(R))try{R=R(O)}catch(K){I=K}if(R&&lu(R))if(R=await R.catch(K=>{I=K}),z!==y[p][0]){if(I)throw I;return R}else I&&C&&u(I)&&(o=!0,m({data:O,_c:J}));if(o&&!I)if(oe(o)){const K=o(R,O);m({data:K,error:J,_c:J})}else m({data:R,error:J,_c:J});if(y[p][1]=kr(),Promise.resolve(A()).then(()=>{m({_c:J})}),I){if(l)throw I;return}return R}}const Ms=(r,e)=>{for(const t in r)r[t][0]&&r[t][0](e)},Kn=(r,e)=>{if(!_e.has(r)){const t=we(yu,e),s={},n=Gn.bind(J,r);let i=ke;const o={},a=(l,d)=>{const f=o[l]||[];return o[l]=f,f.push(d),()=>f.splice(f.indexOf(d),1)},c=(l,d,f)=>{r.set(l,d);const p=o[l];if(p)for(const g of p)g(d,f)},u=()=>{if(!_e.has(r)&&(_e.set(r,[s,{},{},{},n,c,a]),!ut)){const l=t.initFocus(setTimeout.bind(J,Ms.bind(J,s,Hn))),d=t.initReconnect(setTimeout.bind(J,Ms.bind(J,s,Jn)));i=()=>{l&&l(),d&&d(),_e.delete(r)}}};return u(),[r,n,u,i]}return[r,_e.get(r)[4]]},vu=(r,e,t,s,n)=>{const i=t.errorRetryCount,o=n.retryCount,a=~~((Math.random()+.5)*(1<<(o<8?o:8)))*t.errorRetryInterval;!k(i)&&o>i||setTimeout(s,a,n)},Eu=(r,e)=>lt(r)==lt(e),[Gr,Su]=Kn(new Map),Xn=we({onLoadingSlow:ke,onSuccess:ke,onError:ke,onErrorRetry:vu,onDiscarded:ke,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Bs?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:Bs?5e3:3e3,compare:Eu,isPaused:()=>!1,cache:Gr,mutate:Su,fallback:{}},mu),Qn=(r,e)=>{const t=we(r,e);if(e){const{use:s,fallback:n}=r,{use:i,fallback:o}=e;s&&i&&(t.use=s.concat(i)),n&&o&&(t.fallback=we(n,o))}return t},Ar=P.createContext({}),Tu=r=>{const{value:e}=r,t=P.useContext(Ar),s=oe(e),n=P.useMemo(()=>s?e(t):e,[s,t,e]),i=P.useMemo(()=>s?n:Qn(t,n),[s,t,n]),o=n&&n.provider,a=P.useRef(J);o&&!a.current&&(a.current=Kn(o(i.cache||Gr),n));const c=a.current;return c&&(i.cache=c[0],i.mutate=c[1]),Ot(()=>{if(c)return c[2]&&c[2](),c[3]},[]),P.createElement(Ar.Provider,we(r,{value:i}))},xu="$inf$",Yn=Jt&&window.__SWR_DEVTOOLS_USE__,Ru=Yn?window.__SWR_DEVTOOLS_USE__:[],Ou=()=>{Yn&&(window.__SWR_DEVTOOLS_REACT__=Pr)},ku=r=>oe(r[1])?[r[0],r[1],r[2]||{}]:[r[0],null,(r[1]===null?r[2]:r[1])||{}],Au=()=>we(Xn,P.useContext(Ar)),Pu=r=>(e,t,s)=>r(e,t&&((...i)=>{const[o]=Wr(e),[,,,a]=_e.get(Gr);if(o.startsWith(xu))return t(...i);const c=a[o];return k(c)?t(...i):(delete a[o],c)}),s),Cu=Ru.concat(Pu),ju=r=>function(...t){const s=Au(),[n,i,o]=ku(t),a=Qn(s,o);let c=r;const{use:u}=a,l=(u||[]).concat(Cu);for(let d=l.length;d--;)c=l[d](c);return c(n,i||a.fetcher||null,a)},Iu=(r,e,t)=>{const s=e[r]||(e[r]=[]);return s.push(t),()=>{const n=s.indexOf(t);n>=0&&(s[n]=s[s.length-1],s.pop())}};Ou();const zs=Pr.use||(r=>{if(r.status==="pending")throw r;if(r.status==="fulfilled")return r.value;throw r.status==="rejected"?r.reason:(r.status="pending",r.then(e=>{r.status="fulfilled",r.value=e},e=>{r.status="rejected",r.reason=e}),r)}),lr={dedupe:!0},Lu=(r,e,t)=>{const{cache:s,compare:n,suspense:i,fallbackData:o,revalidateOnMount:a,revalidateIfStale:c,refreshInterval:u,refreshWhenHidden:l,refreshWhenOffline:d,keepPreviousData:f}=t,[p,g,m,b]=_e.get(s),[y,x]=Wr(r),_=P.useRef(!1),A=P.useRef(!1),R=P.useRef(y),I=P.useRef(e),z=P.useRef(t),C=()=>z.current,ue=()=>C().isVisible()&&C().isOnline(),[G,de,O,K]=Vn(s,y),re=P.useRef({}).current,ft=k(o)?t.fallback[y]:o,Ae=(L,$)=>{for(const q in re){const F=q;if(F==="data"){if(!n(L[F],$[F])&&(!k(L[F])||!n(mt,$[F])))return!1}else if($[F]!==L[F])return!1}return!0},Xe=P.useMemo(()=>{const L=(()=>!y||!e?!1:k(a)?C().isPaused()||i?!1:k(c)?!0:c:a)(),$=H=>{const me=we(H);return delete me._k,L?{isValidating:!0,isLoading:!0,...me}:me},q=G(),F=K(),fe=$(q),Ne=q===F?fe:$(F);let M=fe;return[()=>{const H=$(G());return Ae(H,M)?(M.data=H.data,M.isLoading=H.isLoading,M.isValidating=H.isValidating,M.error=H.error,M):(M=H,H)},()=>Ne]},[s,y]),he=cu.useSyncExternalStore(P.useCallback(L=>O(y,($,q)=>{Ae(q,$)||L()}),[s,y]),Xe[0],Xe[1]),ve=!_.current,pt=p[y]&&p[y].length>0,Q=he.data,se=k(Q)?ft:Q,gt=he.error,Kr=P.useRef(se),mt=f?k(Q)?Kr.current:Q:se,Xr=(()=>pt&&!k(gt)?!1:ve&&!k(a)?a:C().isPaused()?!1:i?k(se)?!1:c:k(se)||c)(),Qr=!!(y&&e&&ve&&Xr),Zn=k(he.isValidating)?Qr:he.isValidating,ei=k(he.isLoading)?Qr:he.isLoading,Qe=P.useCallback(async L=>{const $=I.current;if(!y||!$||A.current||C().isPaused())return!1;let q,F,fe=!0;const Ne=L||{},M=!m[y]||!Ne.dedupe,H=()=>Fs?!A.current&&y===R.current&&_.current:y===R.current,me={isValidating:!1,isLoading:!1},Zr=()=>{de(me)},es=()=>{const Y=m[y];Y&&Y[1]===F&&delete m[y]},ts={isValidating:!0};k(G().data)&&(ts.isLoading=!0);try{if(M&&(de(ts),t.loadingTimeout&&k(G().data)&&setTimeout(()=>{fe&&H()&&C().onLoadingSlow(y,t)},t.loadingTimeout),m[y]=[$(x),kr()]),[q,F]=m[y],q=await q,M&&setTimeout(es,t.dedupingInterval),!m[y]||m[y][1]!==F)return M&&H()&&C().onDiscarded(y),!1;me.error=J;const Y=g[y];if(!k(Y)&&(F<=Y[0]||F<=Y[1]||Y[1]===0))return Zr(),M&&H()&&C().onDiscarded(y),!1;const ye=G().data;me.data=n(ye,q)?ye:q,M&&H()&&C().onSuccess(q,y,t)}catch(Y){es();const ye=C(),{shouldRetryOnError:Wt}=ye;ye.isPaused()||(me.error=Y,M&&H()&&(ye.onError(Y,y,ye),(Wt===!0||oe(Wt)&&Wt(Y))&&(!C().revalidateOnFocus||!C().revalidateOnReconnect||ue())&&ye.onErrorRetry(Y,y,ye,ti=>{const Gt=p[y];Gt&&Gt[0]&&Gt[0](st.ERROR_REVALIDATE_EVENT,ti)},{retryCount:(Ne.retryCount||0)+1,dedupe:!0})))}return fe=!1,Zr(),!0},[y,s]),Yr=P.useCallback((...L)=>Gn(s,R.current,...L),[]);if(Ot(()=>{I.current=e,z.current=t,k(Q)||(Kr.current=Q)}),Ot(()=>{if(!y)return;const L=Qe.bind(J,lr);let $=0;const F=Iu(y,p,(fe,Ne={})=>{if(fe==st.FOCUS_EVENT){const M=Date.now();C().revalidateOnFocus&&M>$&&ue()&&($=M+C().focusThrottleInterval,L())}else if(fe==st.RECONNECT_EVENT)C().revalidateOnReconnect&&ue()&&L();else{if(fe==st.MUTATE_EVENT)return Qe();if(fe==st.ERROR_REVALIDATE_EVENT)return Qe(Ne)}});return A.current=!1,R.current=y,_.current=!0,de({_k:x}),Xr&&(k(se)||ut?L():bu(L)),()=>{A.current=!0,F()}},[y]),Ot(()=>{let L;function $(){const F=oe(u)?u(G().data):u;F&&L!==-1&&(L=setTimeout(q,F))}function q(){!G().error&&(l||C().isVisible())&&(d||C().isOnline())?Qe(lr).then($):$()}return $(),()=>{L&&(clearTimeout(L),L=-1)}},[u,l,d,y]),P.useDebugValue(mt),i&&k(se)&&y){if(!Fs&&ut)throw new Error("Fallback data is required when using suspense in SSR.");I.current=e,z.current=t,A.current=!1;const L=b[y];if(!k(L)){const $=Yr(L);zs($)}if(k(gt)){const $=Qe(lr);k(mt)||($.status="fulfilled",$.value=!0),zs($)}else throw gt}return{mutate:Yr,get data(){return re.data=!0,mt},get error(){return re.error=!0,gt},get isValidating(){return re.isValidating=!0,Zn},get isLoading(){return re.isLoading=!0,ei}}},$u=Rt.defineProperty(Tu,"defaultValue",{value:Xn}),Ku=ju(Lu);function Du(){const r=di(Bn);return P.useEffect(()=>{U(()=>import("./yrym-1a74190c.js"),[]).then(e=>{pe.load(e.default)}).catch(e=>{console.log("Failed to load song",e)})},[]),P.useEffect(()=>{const{data:{subscription:e}}=pa.auth.onAuthStateChange((t,s)=>{Gc(s==null?void 0:s.access_token),r(s)});return()=>e.unsubscribe()},[r]),E.jsx("div",{className:" bg-neutral-800 text-neutral-100 backgroundStars",children:E.jsx($u,{value:{fetcher:Kc,dedupingInterval:1e5,revalidateOnFocus:!1,revalidateIfStale:!1,refreshWhenOffline:!0},children:E.jsx(P.Suspense,{fallback:E.jsx(qs,{}),children:E.jsx(Yl,{})})})})}const Xu=Object.freeze(Object.defineProperty({__proto__:null,default:Du},Symbol.toStringTag,{value:"Module"}));export{Xu as A,Ul as B,jn as a,Ll as b,Ln as c,Bn as d,Dl as e,Kc as f,Wu as g,$l as h,Vr as i,pe as j,Vt as k,Ht as l,Gu as m,tl as n,Ge as p,pa as s,Il as t,Ku as u};
