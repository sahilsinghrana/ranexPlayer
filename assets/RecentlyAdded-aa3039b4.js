import{r as o,j as e,l as x,_ as p,e as h}from"./index-9dd5205c.js";import{g as f}from"./moonAndMusicImages-40a4352e.js";import{p as u}from"./player-dc8ae167.js";import{d as j,u as A}from"./App-26897155.js";import{A as I}from"./index-ec71465e.js";import{H as n}from"./index-936b0679.js";import{a as _,b}from"./playerAtom-bcf98633.js";import"./helpers-510d46ea.js";import"./imageHelpers-8dffa84a.js";import"./useIsUserLoggedIn-5fecab67.js";function v({title:r,artist:a,albumArtSrc:l=f(),className:i,songId:s,path:m}){return e.jsxs("div",{onClick:()=>{u.loadAndPlay(m,{title:r,artist:a,albumArtSrc:l,songId:s})},className:j("flex cursor-pointer w-[85vw] sm:w-full min-w-[200px] sm:min-w-[280px] h-[80px] gap-1 items-center bg-neutral-800 rounded-sm overflow-hidden",i),children:[e.jsx(I,{className:"h-full w-[80px]",src:l}),e.jsxs("div",{className:"flex flex-col justify-center h-full ml-2",children:[e.jsx("h5",{className:"font-semibold text-md text-neutral-50/80",children:r}),e.jsx("h5",{className:"text-xs text-neutral-300/80",children:a})]})]})}const c=o.memo(v),y=x(()=>p(()=>import("./HomeSection-1b112e5f.js"),["assets/HomeSection-1b112e5f.js","assets/index-9dd5205c.js","assets/index-04e40a81.css"])),S=x(()=>p(()=>import("./HorizontalList-9306568a.js"),["assets/HorizontalList-9306568a.js","assets/index-9dd5205c.js","assets/index-04e40a81.css","assets/App-26897155.js"]));function T(){var s,m,d;const{data:r,isLoading:a}=A("/music/song"),l=(s=r==null?void 0:r.data)==null?void 0:s.songs,i=h(b);return o.useEffect(()=>{if(i===_.INITIALIZED&&(l!=null&&l.length)){const t=l[0];u.load(t==null?void 0:t.path,{title:t.title,artist:t.artist,albumArtSrc:t.coverArt.thumbnails.small||t.coverArt.thumbnails.large,songId:t.songId})}},[i,l]),e.jsx(o.Suspense,{fallback:e.jsx(n,{}),children:e.jsx(y,{title:"Celestial catalog!",children:e.jsxs(S,{className:"gap-3 mb-2 sm:px-3",children:[a&&e.jsx(n,{}),(d=(m=r==null?void 0:r.data)==null?void 0:m.songs)==null?void 0:d.map(t=>e.jsx("li",{children:e.jsx(c,{albumArtSrc:t.coverArt.thumbnails.small||t.coverArt.thumbnails.large,songId:t==null?void 0:t.songId,path:t==null?void 0:t.path,artist:t==null?void 0:t.artist,title:t==null?void 0:t.title})},t==null?void 0:t.songId)),e.jsx("li",{children:e.jsx(c,{artist:"Europe",title:"In My Time"})}),e.jsx("li",{children:e.jsx(c,{artist:"Hardwell",title:"Spaceman"})}),e.jsx("li",{children:e.jsx(c,{artist:"AP Dhillon",title:"Majhail"})})]})})})}export{T as default};
